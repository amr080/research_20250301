"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8029],{68029:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var l=s(85893),c=s(67294),a=s(94184),n=s.n(a),r=s(93762),i=s(67631),o=s.n(i),m=e=>{let{video:t,poster:a,posterWidth:i=1920,posterFitMode:m="preserve",className:u,videoClassName:d="block w-full",videoRef:x=()=>{},lazy:p,loadVideo:f,lazyOnScroll:h,lazyScrollThreshold:g=400,...j}=e,[v,N]=(0,c.useState)(!1),[b,w]=(0,c.useState)(!1),k=(0,c.useRef)(null),y=(0,c.useRef)(null),E=!h&&!p,_=a||"https://image.mux.com/".concat(t.playbackId,"/thumbnail.jpg?width=").concat(i,"&fit_mode=").concat(m,"&time=").concat(t.thumbTime||"0"),S="";return((E||h&&v||p&&f)&&(S="https://stream.mux.com/".concat(t.playbackId,".m3u8")),(0,c.useEffect)(()=>{if(h){let e=()=>{if(!k.current)return;let t=k.current.getBoundingClientRect();t.top<=s.g.innerHeight+g&&(N(!0),r.Z.unlisten(e))};return r.Z.listen(e),e(),()=>r.Z.unlisten(e)}},[h]),(0,c.useEffect)(()=>{let e;if(!y.current)return;let t=y.current.canPlayType("application/vnd.apple.mpegurl");return t||(o().isSupported()?((e=new(o())).loadSource(S),e.attachMedia(y.current)):w(!0)),()=>{e&&e.destroy()}},[y,S]),(0,c.useEffect)(()=>{x(y)},[y]),b)?(0,l.jsx)("picture",{className:"block w-full",children:(0,l.jsx)("img",{className:"block w-full",src:_})}):(0,l.jsx)("div",{ref:k,className:n()("block w-full",u),children:(0,l.jsx)("video",{...j,ref:y,poster:_,className:d,src:S})})},u=s(58107),d=s(88863),x=s.n(d);function p(e){let{video:t,caption:s,description:c=[]}=e,a=!!(c&&c.length);return(0,l.jsx)("div",{className:"py-1",children:(0,l.jsx)("div",{className:"grid grid-cols-12",children:(0,l.jsxs)("div",{className:"col-span-12 md:col-start-2 md:col-span-9 xl:col-span-5 xl:col-start-4 flex flex-col gap-1 max-w-[880px]",children:[(0,l.jsx)(m,{video:t.video.asset,controls:!0}),!!(s||a)&&(0,l.jsxs)("div",{className:"flex flex-col gap-2 md:gap-1 md:flex-row justify-between items-start",children:[s&&(0,l.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,l.jsx)("div",{className:"tag tag-small md:tag-medium"}),(0,l.jsx)("p",{className:"font-mono text-mono-12 md:text-mono-13",children:s})]}),a&&(0,l.jsx)("div",{className:"pl-[18px] md:p-0",children:(0,l.jsx)("div",{className:"rich-text font-mono text-mono-12 md:text-mono-13 max-w-[330px]",children:(0,l.jsx)(x(),{blocks:c,serializers:u.Z})})})]})]})})})}}}]);