<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>pm-AMM: A Uniform AMM for Prediction Markets - Paradigm</title><meta name="description" content="Paradigm is a research-driven crypto investment firm that funds companies and protocols from their earliest stages."/><meta property="og:url" content="https://www.paradigm.xyz/2024/11/pm-amm"/><meta property="og:title" content="pm-AMM: A Uniform AMM for Prediction Markets"/><meta property="og:site_name" content="Paradigm"/><meta property="og:description" content="Introducing pm-AMM: A new automated market maker designed for prediction markets. It provides more consistent liquidity and lower losses than traditional AMMs by adapting to the unique behavior of prediction market tokens."/><meta property="og:image" content="https://cdn.sanity.io/images/dgybcd83/production/5bad7635bd55e1a4b9c587acbcb745db8704634e-2400x1350.png?auto=format&amp;q=75&amp;w=1200&amp;format=png"/><meta name="twitter:site" content="@paradigm"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="pm-AMM: A Uniform AMM for Prediction Markets - Paradigm"/><meta name="twitter:description" content="Paradigm is a research-driven crypto investment firm that funds companies and protocols from their earliest stages."/><meta name="twitter:url" content="https://www.paradigm.xyz/2024/11/pm-amm"/><meta name="twitter:image" content="https://cdn.sanity.io/images/dgybcd83/production/fd732ebeb1c4d286fd7e3b5b25395d72452edeb6-2400x1260.png?auto=format&amp;q=75&amp;w=1200&amp;format=png"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2024-11-05"/><meta property="article:modified_time" content="2024-11-05"/><meta property="article:author" content="https://paradigm-vc.vercel.app/team/ciamac-moallemi"/><meta property="article:author" content="https://paradigm-vc.vercel.app/team/dan-robinson"/><meta name="next-head-count" content="20"/><link rel="apple-touch-icon" sizes="180x180" href="../../favicon/apple-touch-icon.png"/><link rel="mask-icon" href="../../favicon/safari-pinned-tab.svg" color="#00d700"/><meta name="msapplication-TileColor" content="#00d700"/><link rel="icon" href="../../favicon/favicon.ico" sizes="any"/><link rel="icon" href="../../favicon/favicon.svg" type="image/svg+xml"/><link rel="manifest" href="../../favicon/site.webmanifest" crossorigin="use-credentials"/><meta name="theme-color" content="#00E100"/><link rel="preload" href="../../_next/static/css/36d742fa6f75af33.css" as="style"/><link rel="stylesheet" href="../../_next/static/css/36d742fa6f75af33.css" data-n-g=""/><link rel="preload" href="../../_next/static/css/5b6964bdff897f88.css" as="style"/><link rel="stylesheet" href="../../_next/static/css/5b6964bdff897f88.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="../../_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="../../_next/static/chunks/2334.fdd0fc2ee869ba74.js"></script><script defer="" src="../../_next/static/chunks/7333.de3f3254649aaade.js"></script><script defer="" src="../../_next/static/chunks/4827.8e5e111f9f8cda07.js"></script><script src="../../_next/static/chunks/webpack-54ad8f2f0d9b23ef.js" defer=""></script><script src="../../_next/static/chunks/framework-cfbe8447b8b751ea.js" defer=""></script><script src="../../_next/static/chunks/main-9a281b117d523626.js" defer=""></script><script src="../../_next/static/chunks/pages/_app-64c08ce1425afd18.js" defer=""></script><script src="../../_next/static/chunks/175675d1-ea6ec12d1ec73e3b.js" defer=""></script><script src="../../_next/static/chunks/3114-9ad26c08e3a6fd59.js" defer=""></script><script src="../../_next/static/chunks/8294-352a030481cb472f.js" defer=""></script><script src="../../_next/static/chunks/1358-b6def54e6ad0bd04.js" defer=""></script><script src="../../_next/static/chunks/7213-de9885b5038b802a.js" defer=""></script><script src="../../_next/static/chunks/pages/[slug]/[postMonth]/[postSlug]-79dba873a1ad12ef.js" defer=""></script><script src="../../_next/static/l8SbaQQM0om_yyzCyQlj0/_buildManifest.js" defer=""></script><script src="../../_next/static/l8SbaQQM0om_yyzCyQlj0/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header><div class="lg:hidden fixed z-50 top-0 left-0 right-0 bg-white"><div class="px-container-mobile h-header-mobile flex justify-between items-center"><a class="block" href="../../index.html"><svg width="140" height="32" viewBox="0 0 140 32" class="block text-black"><path d="M28 9.84634L10.7692 0L8.61538 1.23168V3.69267L6.46154 2.46099L4.30769 3.69267V6.15367L2.15385 4.92198L0 6.15367V25.8463L2.15385 27.078L4.30769 25.8463V28.3073L6.46154 29.539L8.61538 28.3073V30.7683L10.7692 32L28 22.1537V19.6927L25.8462 18.461L28 17.2293V14.7683L25.8462 13.5366L28 12.305V9.84634ZM4.30769 23.3853L2.15385 24.617V7.38534L4.30769 8.61702V23.3853ZM10.7692 24.6147V22.1537L19.3846 17.2317L21.5385 18.4634L10.7692 24.6147ZM17.2308 16L10.7692 19.6927V12.3073L17.2308 16ZM19.3846 14.7683L10.7692 9.84634V7.38534L21.5385 13.539L19.3846 14.7683ZM6.46154 4.92198L8.61538 6.15367V8.61466L6.46154 7.38298V4.92198ZM6.46154 9.84634L8.61538 11.078V20.9244L6.46154 22.156V9.84634ZM6.46154 24.6147L8.61538 23.383V25.844L6.46154 27.0756V24.6147ZM25.8462 20.922L10.7692 29.5366V27.0756L23.6923 19.6903L25.8462 20.922ZM25.8462 16L23.6923 17.2317L21.5385 16L23.6923 14.7683L25.8462 16ZM23.6923 12.3073L10.7692 4.92198V2.46099L25.8462 11.0756L23.6923 12.3073Z" fill="#00E100"></path><g opacity="0"><path d="M38.9292 22.7264C38.9319 22.9865 39.6678 23.2626 40.7096 23.3938L41.4433 23.4572L41.4562 24.7103L33.9608 24.7879L33.9478 23.5348L34.5146 23.4581C35.5297 23.2821 36.118 23.0159 36.1154 22.7557L35.9733 9.04186C35.9706 8.78174 35.3768 8.52773 34.3584 8.37269L33.7903 8.30766L33.7773 7.05454L40.0195 6.98989C44.5119 6.94336 47.9329 8.46861 47.9691 11.968C48.0035 15.2783 45.0968 17.7441 40.3019 18.2666L40.005 16.9927C42.8857 16.5844 45.0725 15.4032 45.0474 12.9677C45.0201 10.3432 43.2509 8.46975 39.4441 8.50923L38.7822 8.51609L38.9294 22.7266L38.9292 22.7264Z" fill="currentColor"></path><path d="M48.7148 21.209C48.7148 18.5134 50.8902 17.9695 52.9475 17.6384C54.0353 17.4492 54.7445 17.1418 55.2884 16.5506L55.312 15.4156C55.3357 13.5713 54.5319 12.8382 53.3732 12.8382C52.309 12.8382 51.9307 13.3112 51.9307 13.9023C51.9307 14.3043 52.0253 14.6118 52.0253 14.8246C52.0253 15.132 51.5523 15.3685 50.6776 15.3685C49.9445 15.3685 49.2116 15.132 49.2116 14.8482C49.2116 13.7841 51.789 11.0885 54.3427 11.0885C56.5181 11.0885 57.866 11.9633 57.8187 14.5172L57.7004 19.9556C57.6531 22.0839 58.2443 22.6276 59.2848 22.6276C59.5449 22.6276 59.7104 22.604 59.9469 22.533L60.0179 22.5803C59.7341 23.739 58.8118 24.5192 57.677 24.5192C56.471 24.5192 55.7854 23.7625 55.407 22.6512C54.6976 23.8809 53.681 24.6376 52.2621 24.6376C50.3232 24.6376 48.7152 23.408 48.7152 21.209H48.7148ZM53.0656 22.8406C53.9169 22.8406 54.6263 22.3913 55.1938 21.8238L55.2648 17.8039C54.91 18.3005 54.3662 18.5607 53.5385 18.8208C52.2617 19.2228 51.1976 19.6011 51.1976 20.9961C51.1976 22.2021 51.9543 22.8406 53.0656 22.8406Z" fill="currentColor"></path><path d="M62.7621 14.5644C62.7621 14.328 62.5729 14.1388 60.9414 13.3821V12.531L64.2518 11.1121H64.843L65.2214 13.5476C66.1907 11.9632 67.042 11.1358 68.4609 11.1358C69.2176 11.1358 69.9031 11.4195 69.9031 11.7033C69.9031 12.862 69.1228 14.4225 68.7681 14.4225C68.6971 14.4225 68.6498 14.3989 68.4843 14.3043C67.9168 13.9732 67.3729 13.7604 66.8054 13.7604C66.3088 13.7604 65.7885 14.0442 65.3156 14.4698V22.2492C65.3156 22.5093 65.9304 22.7695 67.0891 22.935L67.8222 23.0296V24.1646H60.9885V23.0296L61.4142 22.935C62.431 22.7222 62.7619 22.5093 62.7619 22.2492V14.5642L62.7621 14.5644Z" fill="currentColor"></path><path d="M70.3496 21.209C70.3496 18.5134 72.525 17.9695 74.5823 17.6384C75.6701 17.4492 76.3793 17.1418 76.9232 16.5506L76.9468 15.4156C76.9705 13.5713 76.1666 12.8382 75.0079 12.8382C73.9438 12.8382 73.5654 13.3112 73.5654 13.9023C73.5654 14.3043 73.66 14.6118 73.66 14.8246C73.66 15.132 73.1871 15.3685 72.3123 15.3685C71.5793 15.3685 70.8464 15.132 70.8464 14.8482C70.8464 13.7841 73.4238 11.0885 75.9775 11.0885C78.1528 11.0885 79.5007 11.9633 79.4534 14.5172L79.3352 19.9556C79.2879 22.0839 79.8791 22.6276 80.9196 22.6276C81.1797 22.6276 81.3452 22.604 81.5817 22.533L81.6526 22.5803C81.3688 23.739 80.4466 24.5192 79.3117 24.5192C78.1057 24.5192 77.4201 23.7625 77.0418 22.6512C76.3324 23.8809 75.3157 24.6376 73.8969 24.6376C71.958 24.6376 70.35 23.408 70.35 21.209H70.3496ZM74.7003 22.8406C75.5516 22.8406 76.261 22.3913 76.8286 21.8238L76.8995 17.8039C76.5448 18.3005 76.0009 18.5607 75.1733 18.8208C73.8965 19.2228 72.8324 19.6011 72.8324 20.9961C72.8324 22.2021 73.5891 22.8406 74.7003 22.8406Z" fill="currentColor"></path><path d="M92.5238 24.8032H91.909L91.5779 22.9116C90.2065 23.8575 88.7404 24.6378 87.3691 24.6378C84.4132 24.6378 82.0723 22.1076 82.0723 18.3007C82.0723 13.9262 84.957 11.136 88.4566 11.136C89.6861 11.136 90.5847 11.3725 91.2941 11.8218V7.80802C91.2941 7.57155 91.0815 7.38237 89.4262 6.48397V5.65631L93.2568 4.35571H93.8244V19.9086C93.8244 21.9659 94.4156 22.5096 95.2903 22.5096C95.5031 22.5096 95.7158 22.4859 95.9524 22.4386L96.0234 22.4859V23.7629L92.5238 24.8032ZM88.953 22.6041C89.828 22.6041 90.5847 22.3913 91.2939 22.013V16.1488C91.2939 14.0444 89.9699 12.6729 88.1256 12.6729C86.2338 12.6729 84.744 14.0444 84.744 17.0238C84.744 20.618 86.3757 22.6041 88.953 22.6041Z" fill="currentColor"></path><path d="M96.944 24.1647V23.0296L97.3694 22.935C98.3863 22.6986 98.7171 22.4857 98.7171 22.2256V14.5643C98.7171 14.3278 98.5281 14.1386 96.8965 13.3819V12.5308L100.704 11.112H101.271V22.2256C101.271 22.4857 101.626 22.6986 102.619 22.935L103.044 23.0296V24.1647H96.9438H96.944ZM101.791 6.73762C101.791 7.84904 101.035 8.53462 99.9233 8.53462C98.8119 8.53462 98.0552 7.84885 98.0552 6.73762C98.0552 5.64984 98.8119 4.96426 99.9233 4.96426C101.058 4.96426 101.791 5.65003 101.791 6.73762Z" fill="currentColor"></path><path d="M108.193 19.8611C107.649 20.2867 107.223 20.7833 107.223 21.2799C107.223 21.7527 107.649 21.9657 108.997 22.0603L112.828 22.344C115.145 22.5332 116.469 23.6917 116.469 25.5599C116.469 28.3737 113.513 31.0222 109.21 31.0222C105.687 31.0222 103.984 29.7216 103.984 27.7591C103.984 26.5059 104.859 25.7019 106.94 24.1885C105.923 23.9757 104.576 23.2426 104.576 22.2969C104.576 21.3276 105.521 20.4526 107.129 19.6013C105.498 18.9865 104.363 17.6386 104.363 15.7707C104.363 12.9805 106.538 11.136 109.565 11.136C110.723 11.136 111.74 11.4907 112.497 12.0819L116.398 12.1765V13.4059L113.774 13.9971C114.057 14.4464 114.247 14.9665 114.247 15.6288C114.247 18.1352 112.095 19.9322 109.092 19.9322C108.784 19.9322 108.501 19.9085 108.193 19.8613L108.193 19.8611ZM109.943 29.5324C112.142 29.5324 113.939 28.2318 113.939 26.3875C113.939 25.2524 113.324 24.7559 111.432 24.614L108.311 24.4011C107.294 25.0869 106.419 26.0801 106.419 27.026C106.419 28.4446 107.696 29.5326 109.943 29.5326V29.5324ZM111.858 16.1723C111.858 14.3516 110.889 12.7436 109.044 12.7436C107.768 12.7436 106.869 13.6186 106.869 15.0372C106.869 16.8342 107.791 18.4659 109.659 18.4659C110.983 18.4659 111.858 17.5909 111.858 16.1723Z" fill="currentColor"></path><path d="M119.59 14.5654C119.59 14.3289 119.401 14.1397 117.77 13.383V12.5319L121.08 11.1131H121.671L121.955 12.9576C123.468 12.0117 125.076 11.1131 126.613 11.1131C127.984 11.1131 128.978 11.586 129.474 13.052C131.059 12.0826 132.737 11.1131 134.345 11.1131C136.355 11.1131 137.561 12.1772 137.561 16.0788V22.2504C137.561 22.5105 137.916 22.7233 138.932 22.9361L139.334 23.0307V24.1658H133.257V23.0307L133.659 22.9361C134.676 22.6997 135.007 22.5105 135.007 22.2504V16.4335C135.007 14.1872 134.132 13.2177 132.288 13.2177C131.389 13.2177 130.467 13.5014 129.71 13.9034C129.828 14.4946 129.876 15.2277 129.876 16.0788V22.2504C129.876 22.5105 130.207 22.7233 131.2 22.9361L131.625 23.0307V24.1658H125.572V23.0307L125.974 22.9361C126.991 22.6997 127.322 22.5105 127.322 22.2504V16.4335C127.322 14.1872 126.447 13.2177 124.579 13.2177C123.751 13.2177 122.876 13.4778 122.143 13.8325V22.2505C122.143 22.5107 122.474 22.6998 123.491 22.9363L123.893 23.0309V24.166H117.816V23.0309L118.242 22.9363C119.258 22.7235 119.589 22.5107 119.589 22.2505V14.5656L119.59 14.5654Z" fill="currentColor"></path></g></svg></a><button class="p-1 bg-black flex flex-col items-center text-center border border-solid border-transparent" aria-label="Mobile Menu"><div class="tag text-gray-dark"></div></button></div></div><div class="hidden lg:block fixed md:top-2 md:left-2 top-[16px] left-[16px] z-50 pointer-events-none w-full"><div class="grid grid-cols-12 items-center"><a class="col-start-1 block pointer-events-auto" href="../../index.html"><svg width="140" height="32" viewBox="0 0 140 32" class="block text-black"><path d="M28 9.84634L10.7692 0L8.61538 1.23168V3.69267L6.46154 2.46099L4.30769 3.69267V6.15367L2.15385 4.92198L0 6.15367V25.8463L2.15385 27.078L4.30769 25.8463V28.3073L6.46154 29.539L8.61538 28.3073V30.7683L10.7692 32L28 22.1537V19.6927L25.8462 18.461L28 17.2293V14.7683L25.8462 13.5366L28 12.305V9.84634ZM4.30769 23.3853L2.15385 24.617V7.38534L4.30769 8.61702V23.3853ZM10.7692 24.6147V22.1537L19.3846 17.2317L21.5385 18.4634L10.7692 24.6147ZM17.2308 16L10.7692 19.6927V12.3073L17.2308 16ZM19.3846 14.7683L10.7692 9.84634V7.38534L21.5385 13.539L19.3846 14.7683ZM6.46154 4.92198L8.61538 6.15367V8.61466L6.46154 7.38298V4.92198ZM6.46154 9.84634L8.61538 11.078V20.9244L6.46154 22.156V9.84634ZM6.46154 24.6147L8.61538 23.383V25.844L6.46154 27.0756V24.6147ZM25.8462 20.922L10.7692 29.5366V27.0756L23.6923 19.6903L25.8462 20.922ZM25.8462 16L23.6923 17.2317L21.5385 16L23.6923 14.7683L25.8462 16ZM23.6923 12.3073L10.7692 4.92198V2.46099L25.8462 11.0756L23.6923 12.3073Z" fill="#00E100"></path><g opacity="0"><path d="M38.9292 22.7264C38.9319 22.9865 39.6678 23.2626 40.7096 23.3938L41.4433 23.4572L41.4562 24.7103L33.9608 24.7879L33.9478 23.5348L34.5146 23.4581C35.5297 23.2821 36.118 23.0159 36.1154 22.7557L35.9733 9.04186C35.9706 8.78174 35.3768 8.52773 34.3584 8.37269L33.7903 8.30766L33.7773 7.05454L40.0195 6.98989C44.5119 6.94336 47.9329 8.46861 47.9691 11.968C48.0035 15.2783 45.0968 17.7441 40.3019 18.2666L40.005 16.9927C42.8857 16.5844 45.0725 15.4032 45.0474 12.9677C45.0201 10.3432 43.2509 8.46975 39.4441 8.50923L38.7822 8.51609L38.9294 22.7266L38.9292 22.7264Z" fill="currentColor"></path><path d="M48.7148 21.209C48.7148 18.5134 50.8902 17.9695 52.9475 17.6384C54.0353 17.4492 54.7445 17.1418 55.2884 16.5506L55.312 15.4156C55.3357 13.5713 54.5319 12.8382 53.3732 12.8382C52.309 12.8382 51.9307 13.3112 51.9307 13.9023C51.9307 14.3043 52.0253 14.6118 52.0253 14.8246C52.0253 15.132 51.5523 15.3685 50.6776 15.3685C49.9445 15.3685 49.2116 15.132 49.2116 14.8482C49.2116 13.7841 51.789 11.0885 54.3427 11.0885C56.5181 11.0885 57.866 11.9633 57.8187 14.5172L57.7004 19.9556C57.6531 22.0839 58.2443 22.6276 59.2848 22.6276C59.5449 22.6276 59.7104 22.604 59.9469 22.533L60.0179 22.5803C59.7341 23.739 58.8118 24.5192 57.677 24.5192C56.471 24.5192 55.7854 23.7625 55.407 22.6512C54.6976 23.8809 53.681 24.6376 52.2621 24.6376C50.3232 24.6376 48.7152 23.408 48.7152 21.209H48.7148ZM53.0656 22.8406C53.9169 22.8406 54.6263 22.3913 55.1938 21.8238L55.2648 17.8039C54.91 18.3005 54.3662 18.5607 53.5385 18.8208C52.2617 19.2228 51.1976 19.6011 51.1976 20.9961C51.1976 22.2021 51.9543 22.8406 53.0656 22.8406Z" fill="currentColor"></path><path d="M62.7621 14.5644C62.7621 14.328 62.5729 14.1388 60.9414 13.3821V12.531L64.2518 11.1121H64.843L65.2214 13.5476C66.1907 11.9632 67.042 11.1358 68.4609 11.1358C69.2176 11.1358 69.9031 11.4195 69.9031 11.7033C69.9031 12.862 69.1228 14.4225 68.7681 14.4225C68.6971 14.4225 68.6498 14.3989 68.4843 14.3043C67.9168 13.9732 67.3729 13.7604 66.8054 13.7604C66.3088 13.7604 65.7885 14.0442 65.3156 14.4698V22.2492C65.3156 22.5093 65.9304 22.7695 67.0891 22.935L67.8222 23.0296V24.1646H60.9885V23.0296L61.4142 22.935C62.431 22.7222 62.7619 22.5093 62.7619 22.2492V14.5642L62.7621 14.5644Z" fill="currentColor"></path><path d="M70.3496 21.209C70.3496 18.5134 72.525 17.9695 74.5823 17.6384C75.6701 17.4492 76.3793 17.1418 76.9232 16.5506L76.9468 15.4156C76.9705 13.5713 76.1666 12.8382 75.0079 12.8382C73.9438 12.8382 73.5654 13.3112 73.5654 13.9023C73.5654 14.3043 73.66 14.6118 73.66 14.8246C73.66 15.132 73.1871 15.3685 72.3123 15.3685C71.5793 15.3685 70.8464 15.132 70.8464 14.8482C70.8464 13.7841 73.4238 11.0885 75.9775 11.0885C78.1528 11.0885 79.5007 11.9633 79.4534 14.5172L79.3352 19.9556C79.2879 22.0839 79.8791 22.6276 80.9196 22.6276C81.1797 22.6276 81.3452 22.604 81.5817 22.533L81.6526 22.5803C81.3688 23.739 80.4466 24.5192 79.3117 24.5192C78.1057 24.5192 77.4201 23.7625 77.0418 22.6512C76.3324 23.8809 75.3157 24.6376 73.8969 24.6376C71.958 24.6376 70.35 23.408 70.35 21.209H70.3496ZM74.7003 22.8406C75.5516 22.8406 76.261 22.3913 76.8286 21.8238L76.8995 17.8039C76.5448 18.3005 76.0009 18.5607 75.1733 18.8208C73.8965 19.2228 72.8324 19.6011 72.8324 20.9961C72.8324 22.2021 73.5891 22.8406 74.7003 22.8406Z" fill="currentColor"></path><path d="M92.5238 24.8032H91.909L91.5779 22.9116C90.2065 23.8575 88.7404 24.6378 87.3691 24.6378C84.4132 24.6378 82.0723 22.1076 82.0723 18.3007C82.0723 13.9262 84.957 11.136 88.4566 11.136C89.6861 11.136 90.5847 11.3725 91.2941 11.8218V7.80802C91.2941 7.57155 91.0815 7.38237 89.4262 6.48397V5.65631L93.2568 4.35571H93.8244V19.9086C93.8244 21.9659 94.4156 22.5096 95.2903 22.5096C95.5031 22.5096 95.7158 22.4859 95.9524 22.4386L96.0234 22.4859V23.7629L92.5238 24.8032ZM88.953 22.6041C89.828 22.6041 90.5847 22.3913 91.2939 22.013V16.1488C91.2939 14.0444 89.9699 12.6729 88.1256 12.6729C86.2338 12.6729 84.744 14.0444 84.744 17.0238C84.744 20.618 86.3757 22.6041 88.953 22.6041Z" fill="currentColor"></path><path d="M96.944 24.1647V23.0296L97.3694 22.935C98.3863 22.6986 98.7171 22.4857 98.7171 22.2256V14.5643C98.7171 14.3278 98.5281 14.1386 96.8965 13.3819V12.5308L100.704 11.112H101.271V22.2256C101.271 22.4857 101.626 22.6986 102.619 22.935L103.044 23.0296V24.1647H96.9438H96.944ZM101.791 6.73762C101.791 7.84904 101.035 8.53462 99.9233 8.53462C98.8119 8.53462 98.0552 7.84885 98.0552 6.73762C98.0552 5.64984 98.8119 4.96426 99.9233 4.96426C101.058 4.96426 101.791 5.65003 101.791 6.73762Z" fill="currentColor"></path><path d="M108.193 19.8611C107.649 20.2867 107.223 20.7833 107.223 21.2799C107.223 21.7527 107.649 21.9657 108.997 22.0603L112.828 22.344C115.145 22.5332 116.469 23.6917 116.469 25.5599C116.469 28.3737 113.513 31.0222 109.21 31.0222C105.687 31.0222 103.984 29.7216 103.984 27.7591C103.984 26.5059 104.859 25.7019 106.94 24.1885C105.923 23.9757 104.576 23.2426 104.576 22.2969C104.576 21.3276 105.521 20.4526 107.129 19.6013C105.498 18.9865 104.363 17.6386 104.363 15.7707C104.363 12.9805 106.538 11.136 109.565 11.136C110.723 11.136 111.74 11.4907 112.497 12.0819L116.398 12.1765V13.4059L113.774 13.9971C114.057 14.4464 114.247 14.9665 114.247 15.6288C114.247 18.1352 112.095 19.9322 109.092 19.9322C108.784 19.9322 108.501 19.9085 108.193 19.8613L108.193 19.8611ZM109.943 29.5324C112.142 29.5324 113.939 28.2318 113.939 26.3875C113.939 25.2524 113.324 24.7559 111.432 24.614L108.311 24.4011C107.294 25.0869 106.419 26.0801 106.419 27.026C106.419 28.4446 107.696 29.5326 109.943 29.5326V29.5324ZM111.858 16.1723C111.858 14.3516 110.889 12.7436 109.044 12.7436C107.768 12.7436 106.869 13.6186 106.869 15.0372C106.869 16.8342 107.791 18.4659 109.659 18.4659C110.983 18.4659 111.858 17.5909 111.858 16.1723Z" fill="currentColor"></path><path d="M119.59 14.5654C119.59 14.3289 119.401 14.1397 117.77 13.383V12.5319L121.08 11.1131H121.671L121.955 12.9576C123.468 12.0117 125.076 11.1131 126.613 11.1131C127.984 11.1131 128.978 11.586 129.474 13.052C131.059 12.0826 132.737 11.1131 134.345 11.1131C136.355 11.1131 137.561 12.1772 137.561 16.0788V22.2504C137.561 22.5105 137.916 22.7233 138.932 22.9361L139.334 23.0307V24.1658H133.257V23.0307L133.659 22.9361C134.676 22.6997 135.007 22.5105 135.007 22.2504V16.4335C135.007 14.1872 134.132 13.2177 132.288 13.2177C131.389 13.2177 130.467 13.5014 129.71 13.9034C129.828 14.4946 129.876 15.2277 129.876 16.0788V22.2504C129.876 22.5105 130.207 22.7233 131.2 22.9361L131.625 23.0307V24.1658H125.572V23.0307L125.974 22.9361C126.991 22.6997 127.322 22.5105 127.322 22.2504V16.4335C127.322 14.1872 126.447 13.2177 124.579 13.2177C123.751 13.2177 122.876 13.4778 122.143 13.8325V22.2505C122.143 22.5107 122.474 22.6998 123.491 22.9363L123.893 23.0309V24.166H117.816V23.0309L118.242 22.9363C119.258 22.7235 119.589 22.5107 119.589 22.2505V14.5656L119.59 14.5654Z" fill="currentColor"></path></g></svg></a><div class="col-span-6 col-start-5 xl:col-span-5 xl:col-start-4"><div class="text-black pointer-events-auto bg-white px-2 w-fit -mx-3 border border-solid border-gray-neutral !border-transparent"><ul class="h-[48px] flex items-center justify-start gap-3 2xl:gap-4 font-mono text-mono-12"><li><a _key="426608038e76" class="flex gap-half items-center hover:underline" href="../../about.html">About</a></li><li><a _key="ff5f78089e91" class="flex gap-half items-center hover:underline" href="../../team.html">Team</a></li><li><a _key="38b3cd4525de" class="flex gap-half items-center hover:underline" href="../../portfolio.html">Portfolio</a></li><li><a _key="22b86a453ca1" class="flex gap-half items-center hover:underline" href="../../writing.html">Writing</a></li><li><a _key="cd5b2c9fbd5f" class="flex gap-half items-center hover:underline" href="../../oss.html">Open Source</a></li><li><a _key="05b4198b2e14" class="flex gap-half items-center hover:underline" href="../../careers.html">Careers</a></li></ul></div></div></div></div></header><div style="opacity:0"><div style="opacity:0"><div class="md:px-container-desktop pt-header-mobile md:pt-12 lg:pt-18"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-5 xl:col-start-4 px-container-mobile md:px-0 pt-6 md:pt-0 max-w-[900px]"><div class="flex flex-col gap-2"><div class="flex flex-col gap-2"><div class="flex flex-col gap-2"><div class="flex gap-1 md:gap-2 items-center font-mono text-mono-12 md:text-mono-13 text-gray-text"><span><a class="link-gray-black link-underline-hover" href="../../writing%3Ftags=research.html">Research</a></span></div><h1 class="font-mono text-mono-28 md:text-mono-40 tracking-tighter max-w-[1400px]">pm-AMM: A Uniform AMM for Prediction Markets</h1></div></div><p class="font-mono text-mono-12 gap-1 w-full justify-between"><span>11.05.2024</span><span class="px-1">|</span><span class="content-none after:content-[&#x27;,&#x27;] pr-1 before:content-[&#x27;By_&#x27;]"><a class="link-underline-hover" href="../../team/ciamac-moallemi.html">Ciamac Moallemi</a></span><span class="content-none"><a class="link-underline-hover" href="../../team/danrobinson/index.html">Dan Robinson</a></span></p></div></div></div></div><div class="my-2 md:my-4 px-container-mobile md:px-container-desktop"><div class="relative"><div class="pointer-events-none lg:pointer-events-auto my-3"><div class="grid grid-cols-12 pointer-events-auto"><div class="col-span-12 md:col-start-2 xl:col-span-5 xl:col-start-4"><div class="flex flex-col gap-1"><p class="font-mono text-mono-12 uppercase font-medium">Outline</p><ul class="flex flex-col gap-1"><li class="font-mono text-mono-12"><a class="link-underline-hover" href="pm-amm.html#1c61e0b1f2f9">1. Introduction</a></li><li class="font-mono text-mono-12"><a class="link-underline-hover" href="pm-amm.html#90ef7fa55727">2. Contributions</a></li><li class="font-mono text-mono-12" style="margin-inline-start:0"><a class="link-underline-hover" href="pm-amm.html#5732311dde62">3. Background</a><ul class="flex flex-col mt-1 gap-1 ml-[25px]"><li class="font-mono text-mono-12"><a class="link-underline-hover" href="pm-amm.html#dbcf29d444ad">1. Prediction markets</a></li><li class="font-mono text-mono-12"><a class="link-underline-hover" href="pm-amm.html#7abd24daf3af">2. Loss-vs-rebalancing and uniformity</a></li></ul></li><li class="font-mono text-mono-12"><a class="link-underline-hover" href="pm-amm.html#f63a08b806a3">4. Prior work</a></li><li class="font-mono text-mono-12"><a class="link-underline-hover" href="pm-amm.html#20ab9b8f303b">5. Model</a></li><li class="font-mono text-mono-12"><a class="link-underline-hover" href="pm-amm.html#e00e6e153612">6. Uniform AMMs</a></li><li class="font-mono text-mono-12"><a class="link-underline-hover" href="pm-amm.html#b2904abfff8a">7. Static pm-AMM</a></li><li class="font-mono text-mono-12"><a class="link-underline-hover" href="pm-amm.html#9ed3cf5c6434">8. Dynamic pm-AMM</a></li><li class="font-mono text-mono-12"><a class="link-underline-hover" href="pm-amm.html#b8b16df560a7">9. Conclusion</a></li><li class="font-mono text-mono-12"><a class="link-underline-hover" href="pm-amm.html#b7ffd4060449">10. Acknowledgements</a></li></ul></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><div><h2 id="1c61e0b1f2f9">Introduction</h2><p>In this post, we introduce a new automated market maker (AMM) customized for prediction markets: the <strong>pm-AMM.</strong></p><p>AMMs and their predecessors, such as market scoring rules, were originally invented as a way to provide liquidity for prediction markets.  They now dominate most decentralized exchange volume in crypto.</p><p>But ironically, despite prediction market volumes taking off in crypto, <em>most of it uses orderbooks, not AMMs</em>.</p><p>One possible reason is that existing automated market makers are a poor fit for outcome tokens (tokens that resolve to $1 if an event occurs and $0 if it does not occur). The volatility of outcome tokens is dependent on the current probability of the event and the time until the prediction market expires, meaning that the pool provides inconsistent liquidity. Liquidity providers (LPs) are also essentially guaranteed to lose all of their value once the prediction market expires.</p><p>We present a new AMM optimized around these considerations. This required addressing a longstanding question in AMM research: what does it mean for an AMM to be optimized for a particular type of asset? In other words, given a model for some asset (such as an option, a bond, a stablecoin, or an outcome token), how should that affect what AMM we use for it? We present a possible answer to this question, based on the concept of loss-vs-rebalancing (LVR).</p><h2 id="90ef7fa55727">Contributions</h2><p>We develop a model for the price processes of some outcome tokens, which we call <strong>Gaussian score dynamics</strong>. This model is a potential fit for prediction markets on whether some underlying random walk (such as the score difference of a basketball game, the vote margin in an election, or the price of some asset) will be above some value at a particular future expiration time.</p><p>We use this model to derive a new invariant-based AMM for those tokens, the <strong>static pm-AMM invariant</strong>:</p></div></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>y</mi><mo>−</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="normal">Φ</mi><mrow><mo fence="true">(</mo><mfrac><mrow><mi>y</mi><mo>−</mo><mi>x</mi></mrow><mi>L</mi></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mi>L</mi><mi>ϕ</mi><mrow><mo fence="true">(</mo><mfrac><mrow><mi>y</mi><mo>−</mo><mi>x</mi></mrow><mi>L</mi></mfrac><mo fence="true">)</mo></mrow><mo>−</mo><mi>y</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">(y - x) \Phi\left( \frac{y - x}{L} \right)
  + L \phi\left( \frac{y - x}{L} \right)
  - y = 0,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord">Φ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">L</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord mathnormal">L</span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">L</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><div><p>where <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></div></span> is the AMM&#x27;s reserves of one outcome token, <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></div></span> is its reserves of the opposite, complementary outcome token, <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span></div></span> is an overall liquidity or scaling factor, and <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">ϕ</span></span></span></span></div></span> and <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Φ</mi></mrow><annotation encoding="application/x-tex">\Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Φ</span></span></span></span></div></span> are the probability density function and cumulative distribution function of the normal distribution, respectively.</p><p></p><p>To derive this, we make use of the powerful concept of <a class="" href="https://arxiv.org/abs/2208.06046">loss-vs-rebalancing</a> (LVR), which can be thought of as the rate at which an AMM loses money due to arbitrage. Loss-vs-rebalancing depends on both the shape of the AMM and the price process for the underlying assets traded on it. </p><p></p><p>We define a <strong>uniform AMM</strong><em> </em>for an asset as the AMM which, if used for that asset, has LVR that is proportional to its portfolio value at an instant of time, regardless of the current price.  <a class="" href="https://arxiv.org/abs/2208.06046">Milionis, et al.</a> establish that constant geometric mean market makers (like <a class="" href="https://app.uniswap.org/whitepaper.pdf">Uniswap</a> and <a class="" href="https://wikibitimg.fx994.com/attach/2021/05/212595670202/WBE212595670202_14467.pdf">Balancer</a>) are the unique uniform AMMs for assets whose prices follow geometric Brownian motion (a popular model for the price process of ordinary assets like stocks and cryptocurrencies). The static pm-AMM is a uniform AMM for assets that behave under our model of Gaussian score dynamics for outcome tokens.</p><p></p><p>While the static pm-AMM has uniform LVR (as a fraction of portfolio value) for all prices, LVR will still increase as the expiration of the prediction market approaches. This is because prediction markets can be very volatile near expiry. We show how the pm-AMM can be tweaked to reduce its liquidity over time, so that the AMM’s expected LVR at all moments over the remaining time to expiration is constant. This gives us the <strong>dynamic pm-AMM invariant</strong>, which is dependent on the time to expiration <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow><annotation encoding="application/x-tex">T - t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></div></span>:</p></div></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>y</mi><mo>−</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="normal">Φ</mi><mrow><mo fence="true">(</mo><mfrac><mrow><mi>y</mi><mo>−</mo><mi>x</mi></mrow><mrow><mi>L</mi><msqrt><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></msqrt></mrow></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mi>L</mi><msqrt><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></msqrt><mi>ϕ</mi><mrow><mo fence="true">(</mo><mfrac><mrow><mi>y</mi><mo>−</mo><mi>x</mi></mrow><mrow><mi>L</mi><msqrt><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></msqrt></mrow></mfrac><mo fence="true">)</mo></mrow><mo>−</mo><mi>y</mi><mo>=</mo><mn>0.</mn></mrow><annotation encoding="application/x-tex"> (y - x) \Phi\left( \frac{y - x}{L\sqrt{T - t}} \right)
  + L\sqrt{T - t} \phi\left( \frac{y - x}{L\sqrt{T-t}} \right)
  - y = 0.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord">Φ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em;"><span style="top:-2.225em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.885em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-2.845em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.155em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord mathnormal">L</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9339em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-2.8939em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1061em;"><span></span></span></span></span></span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em;"><span style="top:-2.225em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.885em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-2.845em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.155em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><div><p>The dynamic pm-AMM isn&#x27;t magic—it prevents LVR from increasing as expiration approaches by providing a decreasing amount of liquidity. This may not necessarily be desirable on a real pool, particularly because non-arbitrage trading activity (and thus fees) may increase over time as well. But the pm-AMM provides a framework for liquidity providers to adjust their liquidity over time based on expected fees and how they want to allocate their exposure to arbitrage.</p><p></p><p>These AMMs may be useful for bootstrapping passive liquidity on onchain prediction markets. The concept of uniform AMMs, and the methodology for finding them, may also be more widely applicable for decentralized exchange designers looking to customize AMMs for other types of assets whose behavior does not follow geometric Brownian motion, such as stablecoins, bonds, options, or other derivatives.</p></div></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="py-1"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-5 xl:col-start-4 flex flex-col gap-1 max-w-[880px]"><div class="image overflow-hidden block w-full" style="height:0;padding-bottom:97.89473684210527%"><picture><img class="scale-105 blur-lg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACzElEQVR4nKWUzWsTQRjGZ5vN526yadOmpmlsiZVCD/UQkN720CgBg6GHQbRbgq2k7SxjutkuiakwYKRNiLEWqlAQBI8LgngoiIe9BQ8Be+jdk3/HyOSjpjSJ1T7wQGB3f+/7zPtmAGiJAwDYengInBfX9l/Fh0IhDwDA3Tb77QIA2DsASgFnQmCDrUIDoUOyLIuLi4uBO/PzQhvE7OwGWkTmdWVcWFhoFmTQPorF7Mnkw1H8ZHmyqigCAITF7LjTCYcT2JlKpfyzs7Pe7kIXJcv80pIS1BGaOkRI7PEGC8wlZg6c8q2sf2bktq99LI52p9x5OIS2lRU1kH+aud4fCLgETjjjMC5Fo1EJAMDeE7qgtj8DZEBVDWTz69MVY5XF6SnZAnyIhDwgBrqHZ2cDbbsFhNC0ZUhudLuEb5TzGVa9T2rAARPYADzX0dCFyJRSTt1VA89fGDd3C2qAXNy9f9xDCrj0h6y/QAozb56tjbP1uOzy9gUuH2NfYW8r+nprK2RC6KBXBSonipB7uxkpalq4BjX3lYAUUC5tEdfGp42gWlEnCMY+E8IB/4RLiJwSR/pH2v/YhGOErI0cY+z87y4poFyj0bCjUyTCRlwqvLs3/L5y33uME07WKXve8tmEBxeilHLUonytXnMnf8U80JoTy2Zc2is8Gi5n8tJHRRcOEpjBHUeZmJ1tASUDVovSVodm3XSTn8SVbCQ9y98TPnwAx4rF9XApl4tUVGPicBtdq+pKcLewEtjPpv2fDcNrIiKaCIk1TXOfnXuzQ0r5er3uZrZ+Wq7qSVXIfMtIuS+5Ua2mhXeq+lR+Lz+NdtAUxnjypVYMv9osRZhLD3IRfWkjSOS06+zcO1AW3bIs3qIWf9Q4srNhaabm1r/qAjKJqFR1ASEkGquGNw/LEknt+9fuaiPxGJTgHGQXRU9dZrocu9JadyeL2ozb/O43fuXudcuhDZYAAAAASUVORK5CYII="/></picture></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>Figure 1 shows the invariant curves for the static and dynamic pm-AMMs, compared with other well-known invariant curves, namely for the constant product market maker (CPMM) and logarithmic market scoring rule (LMSR). Note that the reserves curve for the dynamic pm-AMM provides less liquidity over time.</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="py-1"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-5 xl:col-start-4 flex flex-col gap-1 max-w-[880px]"><div class="image overflow-hidden block w-full" style="height:0;padding-bottom:47.55980861244019%"><picture><img class="scale-105 blur-lg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB10lEQVR4nI2SwWsaQRTGn+7GdWc0Jm6qLHj0nEsIlFKY04KHbSEHIdCEUoSBKBLsErSnd2sti6AYFhYPQXObQyoehCWHvXny2FMvhf4jU3aVsqEeHPgxw8fMx5v3PoDNSgGAskXdQVJPwx5LAYAsAOgAQACAJnY9oUcc7GOqAEAGALSEcdYEk5yWLfrGeJ+PMOFsP0MJkEIGaoig+hwO2rWqhjYn/bNuAV8Pir3zsdE7/2r03n47di2HCqxnpAAlRkJayrhlCUOE9K9RVVujTQTWc97NzbF34ZSG776Ux9c94+Hj7dGk0Sh6F1gaXm60x/aHw8Cx6G9k2RCZ+sI0ZKiK5n1uej023CuvNLyclEefRq/8br+w8JGsREf/Iwb6/O57ftKYFL3tHZ/7J4L3C8t2W8NkG0IM1fndPD9tPRvT1pMhus+FYBbQ1WqlRwRBQNfrBYnPs4A+4vJw3Hoy/M+Lk4fbH0eDekdnjEUJ2FQppUyFKNVRe6kJFJkwDFUphSKlVH4KzMzcK9rEZs5yXMo5Et9Gcs8w51gu5TYntWotGuauQcmXzY0UAYroVHTLOqWmzYlp2oTDhgpU4jRs8/nf290JkJASdVDiLzFUAZjKtiRC/6+6v6eroWL3vIrUAAAAAElFTkSuQmCC"/></picture></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>Figure 2 shows the <a class="" href="../../2021/06/uniswap-v3-the-universal-amm.html">liquidity fingerprint</a> of the static pm-AMM, showing what it would look like if the invariant was implemented on a Uniswap v3 concentrated liquidity AMM, as compared to the CPMM and LMSR. The horizontal axis corresponds to ticks in relative price (the price of the <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></div></span> token divided by the price of the <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></div></span> token) on a logarithmic scale, while the vertical axis corresponds to how much liquidity each AMM places at that price level. Notice that relative to both alternatives, the pm-AMM concentrates more liquidity around a relative price of 1 (a probability of 50%, where the tokens&#x27; prices are equal at 0.50), and less liquidity at extreme relative prices (either very low or very high).</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><div><h2 id="5732311dde62">Background</h2><h3 id="dbcf29d444ad">Prediction markets</h3><p></p><p>Prediction markets are an increasingly popular application in crypto. <a class="" href="https://polymarket.com/">Polymarket</a> saw over $2 billion in volume in just October 2024.</p><p></p><p>However, most crypto prediction market liquidity is available on orderbooks, rather than AMMs, despite AMMs being dominant for most other decentralized exchange volume across crypto.</p><p></p><p>One possible reason is that outcome tokens don’t behave like ordinary assets, so AMMs designed for them don’t work very consistently.</p><p></p><p>For example, imagine a prediction market on the result of a game in which someone flips a coin 1,001 times. There are two tokens corresponding to each outcome of this game: <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></div></span> tokens resolve to $1 if there are more heads than tails, and $0 if there are more tails than heads; vice versa for <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></div></span> tokens.</p><p></p><p>The volatility of these outcome tokens is highly dependent on both the number of flips remaining and the current score. The closer the current score is to even, and the fewer flips remain, the more volatile these tokens will be. This means that the losses of a constant product market maker, which as discussed below are dependent on volatility, will vary wildly over time.</p></div></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="py-1"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-5 xl:col-start-4 flex flex-col gap-1 max-w-[880px]"><div class="image overflow-hidden block w-full" style="height:0;padding-bottom:104.11483253588516%"><picture><img class="scale-105 blur-lg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSElEQVR4nI1UQYvbVhAeWZKlJ8lrEzaEwBZfBAEfejGUZS+61MWHdEMP7xAILElBB4MJiimmp7k0sEtQNgL3oJQi2BAK72R0EPikm0465OxLoX/khbElV7vumg586Gm+8efRzLwB2JoCACoAaHfwX74mWnCPEckqWABgV2ezem/6rYZPr5K5Za1+v28Oh0PLdV0DAGq0qx+0G7jLq3uCnudpo9HIDoKACSHqgCZaHLhKqD7xLg97gr7vW2EYMinlrZpIwFYMsS5AtAnb80Z4X6g2RGwJIdpZlhlVhmSKBKFmkBkCQpZDYtbIIDJyQO1eUSmlUpal3hBUEFDbCuRmlaFKoHMtTDH/S5AD32VGAgBCBZStDUBWJQhZAolJJYFDgjnmmgBspxBb2E/MARdtGGcGXCQmwR1nBvkiNzOKE8FKiHUJUtmrYRRFRlEULIsyY/Xtjb0YCOepn1pDTK3TQLAaPCgY+Yi7Ga3scphaEqVGSe0JpmlqFUHBlmfLzi/ny85otrKDMGRJcmHmDZCPuFevlh2KXY/X29rLqkmkHpexXoiC0b9enS07k8nCCcOA/Z14pkz65j/hCatBPuL4ZOHgd5+O0mFqCb6bjq2glFL7MlvZl9+Lrs8vuwvkzkZMDNplDLoUoBJKH/R15BrEUcycX3bR/XREtWx0BZQyLnXhiy4+jY+vX1/0ivCEyRw0ibubUZtCPuIoJp77XfwhfBA/jq1bzaFm/DkVDz/8/PaRQM+RCJo8cBuIyxE0io1e/vrw2kt6CPlu2JXV7Mb+OP148vkNHpfxUD8k1hSl2D+C4MGHH98+Ck5D2j7KpsvJ6+veX29+/ybB616e55oUQhUHgIgaIY5jPZ7Pu+9/+u3x1flVB2nQN3d5snA+Y3wsFsLJsrVBQ75eZ0a23j5pcSR5biZ5YiZJbuIEnckEndnsnT335118jsfvXsxs0tp8MnqoCRRtyo4yyBG1svR1mrssmhrT6dQ4DQLGg5B5F2iePznvPOs/643d8dHZk7OON/AcPuC0H+9ZGACKEKDm2DcFH7RpxcF4avQ9NGHo6x545gxe2BxOmQuuMfh32R4outyKYj06nKuwGWBsUa1o+2xqtl26u/H6CsuKm8rp8Z4JAAAAAElFTkSuQmCC"/></picture></div><div class="flex flex-col gap-2 md:gap-1 md:flex-row justify-between items-start"><div class="flex gap-1 items-center"><div class="tag tag-small md:tag-medium"></div><p class="font-mono text-mono-12 md:text-mono-13">Figure 3 shows the volatility of the outcome token price process under Gaussian score dynamics—where the event is determined by whether a certain random walk ends up above zero—as a function of the token price and the remaining time.</p></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><div><p>Many popular prediction markets could loosely be thought of as similar to this coin-flipping example—a bet on whether some random walk ends above or below 0 at some future expiration time. For example:</p><ul><li>A prediction market on the result of a live basketball game, expiring once the remaining game time hits 0. In this example, the random walk is the score difference between the teams.</li><li>A prediction market on the result of a Presidential election, expiring on Election Day. In this example, the random walk could be thought of as the difference in the number of voters who intend to vote for the candidate.</li><li>A prediction market on whether the price of an asset like Bitcoin is above a certain strike price on a future date. In this example, the random walk could be the logarithm of the current Bitcoin price minus some strike price.</li></ul><p>In this post, we define a model for the price evolution of outcome tokens—the <strong>Gaussian score dynamics</strong> model—inspired by examples like these. The model assumes that the prediction market price matches the probability that some underlying Brownian motion ends above 0.</p><p></p><p>This model resembles the Black-Scholes model for a binary option (an instrument that pays out a fixed dollar amount if an asset&#x27;s price is above some strike price, and $0 if it is not). However, in our model, there is no requirement that the underlying process corresponds to the price of a tradeable asset.</p><p></p><p>We do make the simplifying assumption that the price of the outcome token matches the probability that it resolves to $1. This assumes away important features of the market, including risk and time preferences—examining how those affect this model is a subject for future study.</p><p></p><p>We should also that not all prediction markets are a good fit for the Gaussian score dynamics model, which assumes that the rate at which new information comes out is predictable. For example, basketball games are likely a better fit than soccer games, since scoring is much more frequent, so the evolution of the score differential is more consistent over time. And some types of prediction markets won’t resemble this model at all, such as prediction markets on whether some one-time surprising occurrence (like an earthquake) will occur before a particular date. But this model may be a useful starting place for deriving models for those other dynamics, and can serve as a demonstration of the methodology for deriving uniform AMMs for any model.</p><p></p><h3 id="7abd24daf3af">Loss-vs-rebalancing and uniformity</h3><p></p><p>After specifying this model, we derive an automated market maker that may be better optimized for these tokens than existing AMMs like the constant product market maker or LMSR. The metric we use as a guide is the rate of expected losses for liquidity providers, which can be characterized as “loss-vs-rebalancing,” or LVR.</p><p></p><p>LVR captures the main adverse selection costs of an AMM: prices on an AMM are static in the absence of trade, and become stale as new information becomes known. LVR captures the costs that AMM liquidity providers suffer as these stale prices are picked off by better informed arbitrageurs who trade against the AMM at prices which are disavantageous for the AMM. Thus, LVR can be viewed as how much the AMM pays to arbitrageurs in order to have its prices corrected.</p><p></p><p>Furthermore, absent trading fees, LVR is also the loss incurred by a liquidity provider who delta-hedges their LP position by separately holding a short position in the exact same quantity of the tokens owned as part of the pool reserves.  In this way, LVR builds on the main insight of the famous Black-Scholes model for option pricing: just as an option is valued by delta-hedging with the underlying asset to remove market risk, LVR values an LP position in an AMM once the market risk is removed. That is, LVR isolates what is special about being a liquidity provider in an AMM, versus simply taking the market risk of holding the same tokens as the AMM reserves.</p><p></p><p>We consider simple invariant-based AMMs, with no fees or MEV-recapturing mechanisms. In this context, the AMM is <em>guaranteed</em> to lose money due to arbitrage—no AMM invariant can eliminate LVR (other than one that results in no trading at all). Even “minimizing” LVR doesn’t really make sense here: reducing LVR would just mean reducing the liquidity provided.</p><p></p><p>But we can make LVR more consistent, so that the percentage of the pool value that is lost does not depend on the current price of the asset. We call this property <em>uniformity</em>.</p><p></p><p>One way to motivate the value of uniformity is to imagine a sponsor who is willing to provide liquidity on some zero-fee prediction market in order to learn the market&#x27;s prediction about the outcome. This to lose money, but would naturally prefer to spread out their losses evenly, rather than concentrating their losses at a particular time or at particular prices. In this case, the current portfolio value of the pool can be thought of as the sponsor’s “budget.” On a uniform AMM, if the sponsor puts in $1 of liquidity at some time, their expected losses in the next timestep are independent of the current state of the pool.</p><p></p><p>But uniformity is potentially relevant for profit-seeking liquidity providers as well. Even if an AMM is able to capture some of its loss-vs-rebalancing or even turn a profit (from non-zero swap fees, or through auction mechanisms like <a class="" href="../06/priority-is-all-you-need.html">MEV taxes</a>), it still needs some strategy for how to allocate its liquidity at different prices and different times. We might think of expected losses for the zero-fee pool as one way to measure how much liquidity the strategy is allocating at a particular time, in a way that takes into account the price process of the asset.</p><p></p><p>We define a <strong>uniform AMM</strong> for a particular asset as an AMM whose expected LVR is a constant fraction of the value of the current value of the pool, regardless of the current price of the asset.</p><p></p><p>Note that whether an AMM has uniform LVR depends on the price process of the asset itself. As shown in Appendix B.2 of <a class="" href="https://arxiv.org/pdf/2208.06046">Milionis, et al.</a>, if the price of an asset follows geometric Brownian motion, then the essentially unique uniform AMM between that asset and the numéraire is the weighted geometric mean market maker with invariant <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mi>θ</mi></msup><msup><mi>y</mi><mrow><mn>1</mn><mo>−</mo><mi>θ</mi></mrow></msup><mo>=</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">x^{\theta} y^{1 - \theta} = L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0435em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span></div></span>, for <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi><mo>∈</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\theta \in (0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></div></span>. This is the formula used in Balancer, and the constant product market maker used in Uniswap v2 is a special case of it. </p><p></p><p>But constant-geometric-mean AMMs do not have uniform LVR for tokens that follow Gaussian score dynamics. Nor does the logarithmic market score rule (LMSR), an AMM that was originally developed for prediction markets.</p><p></p><p>Figure 4 shows the LVR experienced by the CPMM and LMSR when used for outcome tokens with Gaussian score dynamics at time <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>−</mo><mi>t</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">T - t = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></div></span>, compared to the uniform LVR of the static pm-AMM:</p></div></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="py-1"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-5 xl:col-start-4 flex flex-col gap-1 max-w-[880px]"><div class="image overflow-hidden block w-full" style="height:0;padding-bottom:109.48434622467774%"><picture><img class="scale-105 blur-lg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAACuklEQVR4nKWVz2saURDHR/fprrvrLwwUIeDFk5ccBOmh8C7xFpJe3qkGoYeFbpEiS4i3ucWEbZDFEHgQkARyecceFnLyX+jBUy/+J90yq9vaqEXpwAef88avs/NDARaWAgDtFWwD2+61pcbCOAdWq4EBADmA+DU5J5hLyK+/8lmHADnSiMUQMd3tcsM5qZr1ehycWZJdQV85Z1Z9NQBDvD3M9Xp1HRHSwBGZi659h8KWTpOC08v0d0IIoSGemL7fsRCRQdNxMs6lU7y+FMWl4J9a7GCInCG69sXNRT4WdKTM4AhL98NPZUSR3VMwJWUzEwQfCi6iLYTSQEqZuX8elh/Hg0oQ9PQo+k/B6XTKnp+HZSnxgAT3zVChyMprp+h5HtUwDYhTNhqNSl+/4sEEuzQW+1iKkkD8Uurf9mmUUqCU0m4eHvIkeIdunDYCpqN/ZEp3FIMcGbquTYKISPWHWND3n6zx4Koy/jyoXJze5J2mNLE2MYJ6qG+C7iiGYsfng4p0Lotxh8no4HtPVtgLCo/ng8r4/VVl8G5Ydpqq2GuFhU3QHcVQ7OP5oPLtBE0FSvud4WQyMcIg0KfdrvHidSzlCvup41nSQfNW3OZWIZ/f8awXv2N99zrWj15PV9TdpEQkGIahTt2mkVEKtJlqZOdYM+aTmvEzrOtrBHU9Uo1spEBbG7NVwWSdaCfjYAQWTV9BvsUdrei6bRBc6+gqGyT+tiiK0rPZLLtNcG9TywxJNIoijd5vg76c2OSHpJaJ4Hw+NxLhVchHUxBPQhjqBCKatGoJ/X4/J5RYjE28j0pp9MjboJX0vU784bbnW8fHotg9OiudHZ2VWq1WgXNuQzP+4d2pZKkpApNO1Wy329abtmc1GsL+CKd5DtyuQpX+BmiPd+8BzRpyYJxzBhwZB84QOBMQP2ZCLPYL7nV3VUJgS30AAAAASUVORK5CYII="/></picture></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><div><p>Motivated by these concerns, we develop two AMMs that are designed for prediction markets under Gaussian score dynamics—one that has uniform LVR at any given time but increasing LVR as the prediction market&#x27;s expiration approaches, and one that has uniform LVR and constant expected LVR over the remaining time horizon.</p><p></p><p>As can be seen in Figure 4, the CPMM and LMSR suffer large LVR (as a fraction of pool value) when the outcome token price is at an extreme, close to zero or one. This is because, while price volatility is low around those points (cf. Figure 3), the pool value decays even faster at extreme prices. Hence, a uniform AMM should provide less liquidity at extreme prices, which is what the pm-AMM design does (cf. Figure 2).</p></div></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><div><h2 id="f63a08b806a3">Prior work</h2><p></p><p>AMMs have their origin in the world of prediction markets and market scoring rules, such as the<a class="" href="https://mason.gmu.edu/~rhanson/mktscore.pdf"> logarithmic market scoring rule (LMSR)</a>. These rules motivated the discovery of constant function market makers (CFMMs), such as <a class="" href="https://app.uniswap.org/whitepaper.pdf">Uniswap v2</a>, which are often characterized by an invariant relationship between the AMM&#x27;s reserves of each asset. AMMs based on this design have emerged in recent years as the dominant market mechanism for decentralized exchange on blockchains.</p><p></p><p>More recently, ideas from financial economics have been applied to understand the costs of automated market making, in the form of loss-versus-rebalancing, or LVR, as discussed in <a class="" href="https://arxiv.org/pdf/2208.06046">Milionis, et al.</a> LVR captures the losses incurred by an AMM to arbitrageurs due to stale prices. That paper considers assets whose dynamics follow diffusion processes, primarily focusing on geometric Brownian motion.</p><p></p><p>Prediction markets, on the other hand, have very different price dynamics because of their bounded payoffs and finite horizons. <a class="" href="https://arxiv.org/pdf/1703.06351">Taleb</a> proposes dynamics based on an underlying and observable polling process, while we develop an alternative form of dynamics, based on an underlying and observable Gaussian score process.</p><p></p><p>There has been some prior applied work on designing automated market makers for non-GBM assets. One example is <a class="" href="https://docs.curve.fi/assets/pdf/stableswap-paper.pdf">StableSwap</a>, an AMM designed for stablecoin pairs, which is based on the intuitive premise that AMMs between correlated and mean-reverting assets should involve concentrating liquidity closely at a single price, but its derivation does not involve modeling the assets&#x27; price processes. Another is <a class="" href="https://yield.is/YieldSpace.pdf">YieldSpace</a>, an AMM designed for zero-coupon bonds. While the derivation of YieldSpace does involve a simple model for the pricing of zero-coupon bonds as a function of interest rates, it does not include a full model for the price process (since it does not model the evolution of interest rates), and the paper makes a largely arbitrary choice for how the interest rate should be inferred from the current reserves.</p><p></p><p>There has also been some academic work on designing AMMs based around beliefs about how asset prices will behave. One example is <a class="" href="https://arxiv.org/pdf/2212.03340">Goyal et al.</a> Their framework is designed around maximizing the amount of liquidity that is expected to be active, rather than making expected losses uniform, and as a result sometimes reaches opposite implications from ours. For example, their paper suggests that LMSR (which, relative to the CPMM, concentrates liquidity around the price of 1) is a good fit if liquidity providers expect relative asset prices to remain around 1, whereas our framework suggests that there are reasons to concentrate liquidity around 1 if you expect prices to diverge (as with outcome tokens).</p></div></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><div><h2 id="20ab9b8f303b">Model</h2><p><strong>Automated market making</strong>. We consider a prediction market on a single event of interest, and an AMM which trades two assets against each other: a risky asset (denoted by <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></div></span>) that pays one dollar if the event occurs and nothing otherwise, and another risky asset (denoted by <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></div></span>) with opposite payments. The AMM maintains an invariant <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">f(x,y) = L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span></div></span>, where <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mo>⋅</mo><mo separator="true">,</mo><mo>⋅</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(\cdot,\cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">⋅</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">⋅</span><span class="mclose">)</span></span></span></span></div></span> is the invariant function of the reserves <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></div></span>, and <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span></div></span> is a constant. Given a price <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span></div></span> for the <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></div></span> asset (in terms of dollars), define the <em>pool value function</em> to be</p></div></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtable rowspacing="0.16em" columnalign="left left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>≜</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><munder><mo><mtext>minimize</mtext></mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>∈</mo><msubsup><mi mathvariant="double-struck">R</mi><mo lspace="0em" rspace="0em">+</mo><mn>2</mn></msubsup></mrow></munder></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>P</mi><mi>x</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>P</mi><mo stretchy="false">)</mo><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>subject to</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>L</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr></mtable><mspace width="1em"/><mspace width="1em"/></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{lll}
V (P) \triangleq 
&amp;  \underset{(x,y)\in \mathbb{R}_{+}^{2}}{\text{minimize}} 
&amp; Px+(1-P)y
\\
&amp;  \text{subject to} &amp; f(x,y)=L.
\end{array}
\quad\quad
\tag{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.1754em;vertical-align:-1.3377em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8377em;"><span style="top:-3.921em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">≜</span></span></span><span style="top:-2.0223em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3377em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8377em;"><span style="top:-3.921em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.2704em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="mclose mtight">)</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathbb mtight">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8051em;"><span style="top:-2.2321em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span><span style="top:-2.8448em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3274em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop"><span class="mord text"><span class="mord">minimize</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0587em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.0223em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">subject to</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3377em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8377em;"><span style="top:-3.921em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.0223em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">L</span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3377em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span></span><span class="tag"><span class="strut" style="height:3.1754em;vertical-align:-1.3377em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><div><p>This is the value of the pool when the <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></div></span> price is <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span></div></span>. Since holding one unit of the <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></div></span> and <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></div></span> assets each is equivalent to holding cash, we must have the price of the <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></div></span> be <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mi>P</mi></mrow><annotation encoding="application/x-tex">1 - P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span></div></span>.</p><p>We assume that there is a population of arbitrageurs who, at each time <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></div></span>, can observe the price <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">P_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> of the <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></div></span> asset (and also the price <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><msub><mi>P</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">1 - P_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> of the <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></div></span> asset). Assuming there are no trading fees or other frictions, these arbitrageurs continuously monitor the AMM and seek to extract value from any mispricing of the AMM. When maximizing their own profits, they trade against the AMM to minimize the value of the AMM reserves. If we denote by <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">V_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> the value of the reserves at time <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></div></span> (when the price is <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">P_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span>), then we must have <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>t</mi></msub><mo>=</mo><mi>V</mi><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V_t = V(P_t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></div></span>.<br/><br/><strong>Example 1</strong> (Constant Product Market Maker). In the case of a constant product market maker (CPMM), where the invariant function is given by <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>≜</mo><msqrt><mrow><mi>x</mi><mi>y</mi></mrow></msqrt></mrow><annotation encoding="application/x-tex">f(x,y) ≜ \sqrt{xy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1667em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">≜</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.3369em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7031em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.6631em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3369em;"><span></span></span></span></span></span></span></span></span></div></span>, the pool value function is given by</p></div></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn><mi>L</mi><msqrt><mrow><mi>P</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>P</mi><mo stretchy="false">)</mo></mrow></msqrt><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">V(P) = 2L \sqrt{P(1-P)}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.2561em;"></span><span class="mord">2</span><span class="mord mathnormal">L</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9839em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span></span></span><span style="top:-2.9439em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2561em;"><span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p><strong>Example 2</strong> (Logarithmic Market Scoring Rule). The <a class="" href="https://mason.gmu.edu/~rhanson/mktscore.pdf">logarithmic market scoring rule</a> (LMSR) created by Robin Hanson <a class="" href="../../2021/06/uniswap-v3-the-universal-amm.html#d9efe5234233">can be viewed as</a> an AMM satisfying the invariant <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>≜</mo><msup><mn>2</mn><mrow><mo>−</mo><mi>x</mi><mi mathvariant="normal">/</mi><mi>L</mi></mrow></msup><mo>+</mo><msup><mn>2</mn><mrow><mo>−</mo><mi>y</mi><mi mathvariant="normal">/</mi><mi>L</mi></mrow></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">f(x,y) ≜ 2^{-x/L} + 2^{-y/L} = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1667em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">≜</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9713em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">x</span><span class="mord mtight">/</span><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.888em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="mord mtight">/</span><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></div></span>, in which case the pool value function is given by</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mi>L</mi><mrow><mo fence="true">{</mo><mi>P</mi><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>P</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>P</mi><mo stretchy="false">)</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>P</mi><mo stretchy="false">)</mo><mo fence="true">}</mo></mrow><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">V(P) = -L \left\{ P \log_2 P + (1 - P) \log_2 (1 - P) \right\},
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">}</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><div><p>which is proportional to the binary entropy of the event implied by the price.</p><p><br/>Denote by <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x^*(P)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span></span></span></span></div></span> and <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>y</mi><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y^*(P)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span></span></span></span></div></span> to be the optimal solution to the optimization problem (1), we assume that these exist, are unique, and are sufficiently smooth functions of the price <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span></div></span>. The following is analogous to Lemma 1 of <a class="" href="https://arxiv.org/pdf/2208.06046">Milionis, et al.</a>, but adapted to the present setting: </p><p><strong>Lemma 1</strong>. For all prices <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">P ≥ 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></div></span>, the pool value function satisfies:<br/><br/><em>1.</em> <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>V</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>x</mi><mo lspace="0em" rspace="0em">∗</mo></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>y</mi><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">V&#x27;(P)=x^{*}(P) - y^*(P).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mord">.</span></span></span></span></div></span><br/><em>2.</em> <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>V</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>x</mi><mrow><mo>∗</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>y</mi><mrow><mo>∗</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>≤</mo><mn>0.</mn></mrow><annotation encoding="application/x-tex">V&#x27;&#x27;(P)=x^{*\prime}(P) - y^{*\prime}(P)\leq0.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.</span></span></span></span></div></span></p><p></p></div></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p><strong>Gaussian score dynamics</strong>. We now describe how the risky asset prices evolve over time according to what we call <em>Gaussian score dynamics</em>. In particular, we assume there exists a stochastic process <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>Z</mi><mi>t</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{ Z_t\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></div></span> over the time interval <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>T</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">t \in [0,T]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6542em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">]</span></span></span></span></div></span>, where the event is determined by the sign of <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">Z_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> at the end time of the horizon <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">t=T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span></div></span>: if <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mi>T</mi></msub><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">Z_T \geq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></div></span>, the <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></div></span> asset pays off, otherwise if <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mi>T</mi></msub><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">Z_T &lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></div></span> the <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></div></span> asset pays off. We can interpret <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">Z_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> as the score differential between two teams in a bilateral competition. Hence, we will call <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">Z_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> the score process. Note that while our model assumes the existence of this score process, the score process does not need to be directly observable by the AMM. As discussed below, the AMM can infer the current value of the score from the marginal price (after being arbitraged) and the time to maturity. <br/><br/>We assume that <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">Z_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> follows a random walk. Specifically, we assume that <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">Z_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> is a Brownian motion with volatity <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\sigma &gt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></div></span>, i.e.,</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><msub><mi>Z</mi><mi>t</mi></msub><mo>=</mo><mi>σ</mi><mtext> </mtext><mi>d</mi><msub><mi>B</mi><mi>t</mi></msub><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">dZ_t = \sigma \, dB_t,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>where <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">B_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> is a standard Brownian motion. Then, it is easy to see that the price <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">P_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> of the <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></div></span> asset at time <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></div></span> must be given by</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub><mo>=</mo><mi mathvariant="double-struck">E</mi><mrow><mo fence="true">[</mo><mrow><msub><mi mathvariant="double-struck">I</mi><mrow><mo stretchy="false">{</mo><msub><mi>Z</mi><mi>T</mi></msub><mo>&gt;</mo><mn>0</mn><mo stretchy="false">}</mo></mrow></msub><mtext> </mtext><mo fence="true">∣</mo></mrow><mtext> </mtext><msub><mi>Z</mi><mi>t</mi></msub><mo fence="true">]</mo></mrow><mo>=</mo><mi mathvariant="normal">Φ</mi><mrow><mo fence="true">(</mo><mfrac><msub><mi>Z</mi><mi>t</mi></msub><mrow><mi>σ</mi><msqrt><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></msqrt></mrow></mfrac><mo fence="true">)</mo></mrow><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">P_t = \mathbb{E}\left[\left. \mathbb{I}_{\{Z_T &gt; 0\}} \ \right| \ Z_t \right] = \Phi\left( \frac{Z_t}{\sigma \sqrt{T-t}} \right),</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2052em;vertical-align:-0.3552em;"></span><span class="mord mathbb">E</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="minner"><span class="mopen nulldelimiter"></span><span class="mord"><span class="mord mathbb">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">{</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3567em;margin-left:-0.0715em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1433em;"><span></span></span></span></span></span></span><span class="mrel mtight">&gt;</span><span class="mord mtight">0</span><span class="mclose mtight">}</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-2.85em;"><span class="pstrut" style="height:3.2em;"></span><span style="width:0.333em;height:1.200em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.333em' height='1.200em' viewBox='0 0 333 1200'><path d='M145 15 v585 v0 v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v0 v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v0 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span></span></span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord">Φ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.225em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.885em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-2.845em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.155em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>where <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Φ</mi><mo stretchy="false">(</mo><mo>⋅</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Phi(\cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Φ</span><span class="mopen">(</span><span class="mord">⋅</span><span class="mclose">)</span></span></span></span></div></span> is the standard normal cumulative distribution function (CDF). Applying Itô&#x27;s lemma, <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">P_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> must satisfy</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><msub><mi>P</mi><mi>t</mi></msub><mo>=</mo><mi>ϕ</mi><mrow><mo fence="true">(</mo><mfrac><msub><mi>Z</mi><mi>t</mi></msub><mrow><mi>σ</mi><msqrt><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></msqrt></mrow></mfrac><mo fence="true">)</mo></mrow><mfrac><mrow><mi>d</mi><msub><mi>Z</mi><mi>t</mi></msub></mrow><mrow><mi>σ</mi><msqrt><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></msqrt></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>ϕ</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mrow><mo fence="true">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow></mrow><msqrt><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></msqrt></mfrac><mtext> </mtext><mi>d</mi><msub><mi>B</mi><mi>t</mi></msub><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">  dP_t
  = \phi\left(  \frac{Z_t}{\sigma\sqrt{T-t}} \right) \frac{dZ_t}{\sigma\sqrt{T-t}}
  = \frac{ \phi\left(  \Phi^{-1}\left( P_t \right) \right) }{\sqrt{T-t}} \, dB_t,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.225em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.885em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-2.845em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.155em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.225em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.885em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-2.845em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.155em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.52em;vertical-align:-0.93em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.59em;"><span style="top:-2.225em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.885em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-2.845em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.155em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.74em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>where <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mo>⋅</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi(\cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord">⋅</span><span class="mclose">)</span></span></span></span></div></span> is the standard normal probability density function, and <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mo>⋅</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Phi^{-1}(\cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋅</span><span class="mclose">)</span></span></span></span></div></span> is the inverse CDF. Observe that, while the score dynamics and the conversion of a score to price or versa depend on <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span></span></span></span></div></span>, the dynamics of price process <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">P_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> in isolation do not depend on <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span></span></span></span></div></span>. The volatility of these dynamics, as a function of price and remaining time, can be seen in Figure 3.</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><h2 id="e00e6e153612">Uniform AMMs</h2></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p><strong>Loss-versus-rebalancing.</strong> From the discussion above, if we denote by <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">V_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> the value of the reserves at time <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></div></span> (when the price is <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">P_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span>), then we must have <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>t</mi></msub><mo>=</mo><mi>V</mi><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V_t = V(P_t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></div></span>. Applying Itô’s lemma, we have that the pool value evolves according to:</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><msub><mi>V</mi><mi>t</mi></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><msup><mi>V</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mtext> </mtext><mo stretchy="false">(</mo><mi>d</mi><msub><mi>P</mi><mi>t</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><msup><mi>V</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mtext> </mtext><mi>d</mi><msub><mi>P</mi><mi>t</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>=</mo><mstyle scriptlevel="0" displaystyle="true"><mstyle displaystyle="false" scriptlevel="0"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mfrac><mrow><mi>ϕ</mi><msup><mrow><mo fence="true">(</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mrow><mo fence="true">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow><mn>2</mn></msup></mrow><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></mfrac><msup><mi>V</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mtext> </mtext><mi>d</mi><mi>t</mi><mo>+</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">(</mo><msup><mi>x</mi><mo lspace="0em" rspace="0em">∗</mo></msup><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>−</mo><msup><mi>y</mi><mo lspace="0em" rspace="0em">∗</mo></msup><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">)</mo><mtext> </mtext><mi>d</mi><msub><mi>P</mi><mi>t</mi></msub><mi mathvariant="normal">.</mi></mstyle></mrow></mstyle></mtd></mtr></mtable><mspace width="1em"/><mspace width="1em"/></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{ll}
dV_t &amp; = \tfrac{1}{2} V&#x27;&#x27;(P_t) \, (dP_t)^2 + V&#x27;(P_t) \, dP_t \\
&amp; =
\displaystyle
 \tfrac{1}{2} \frac{ \phi\left( \Phi^{-1}\left( P_t \right) \right)^2 }{T-t} V&#x27;&#x27;(P_t) \, dt + \big(x^{*}(P_t) - y^{*}(P_t) \big) \, dP_t.
\end{array}
\quad\quad
\tag{2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.7685em;vertical-align:-1.6342em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.1342em;"><span style="top:-5.0831em;"><span class="pstrut" style="height:3.794em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9291em;"><span class="pstrut" style="height:3.794em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6342em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.1342em;"><span style="top:-5.0831em;"><span class="pstrut" style="height:3.794em;"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9291em;"><span class="pstrut" style="height:3.794em;"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.794em;"><span style="top:-2.368em;"><span class="pstrut" style="height:3.054em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-3.284em;"><span class="pstrut" style="height:3.054em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.794em;"><span class="pstrut" style="height:3.054em;"></span><span class="mord"><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.054em;"><span style="top:-3.3029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="delimsizing size1">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6342em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span></span><span class="tag"><span class="strut" style="height:3.7685em;vertical-align:-1.6342em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span></span><span class="mord">)</span></span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>Since the price <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">P_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> is a martingale, the second term of (2) is also a martingale, and could be increasing or decreasing. However, from the concavity of <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mo>⋅</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V(\cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord">⋅</span><span class="mclose">)</span></span></span></span></div></span> (cf. Lemma 1), the first term corresponds to a negative drift and hence to a decreasing process. This is the loss-versus-rebalancing process (LVR) of <a class="" href="https://arxiv.org/abs/2208.06046">Milionis, et al.</a>, and it captures the value the pool loses to arbitrageurs who trade against it at disadvantageous prices. We define the instantaneous rate of this loss by</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mrow><mi mathvariant="sans-serif">L</mi><mi mathvariant="sans-serif">V</mi><mi mathvariant="sans-serif">R</mi></mrow><mi>t</mi></msub><mo>≜</mo><mo>−</mo><mstyle displaystyle="false" scriptlevel="0"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mfrac><mrow><mi>ϕ</mi><msup><mrow><mo fence="true">(</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mrow><mo fence="true">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow><mn>2</mn></msup></mrow><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></mfrac><msup><mi>V</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>≥</mo><mn>0.</mn><mspace width="1em"/><mspace width="1em"/></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\mathsf{LVR}_t ≜- \tfrac{1}{2} \frac{ \phi\left( \Phi^{-1}\left( P_t \right) \right)^2 }{T-t} V&#x27;&#x27;(P_t) \geq 0.
\quad\quad
\tag{3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0667em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathsf">LVR</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">≜</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.5633em;vertical-align:-0.7693em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.794em;"><span style="top:-2.368em;"><span class="pstrut" style="height:3.054em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-3.284em;"><span class="pstrut" style="height:3.054em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.794em;"><span class="pstrut" style="height:3.054em;"></span><span class="mord"><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.054em;"><span style="top:-3.3029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span></span><span class="tag"><span class="strut" style="height:2.5633em;vertical-align:-0.7693em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">3</span></span><span class="mord">)</span></span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p><strong>Uniform AMM</strong>. A <em>uniform AMM </em>is a pool which loses money at a constant rate proportional to it’s value, i.e., <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>LVR</mtext><mi>t</mi></msub><mo>=</mo><mi>α</mi><msub><mi>V</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\text{LVR}_t = \alpha V_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord text"><span class="mord">LVR</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> , for some constant <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\alpha &gt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></div></span>. For example, <a class="" href="https://arxiv.org/abs/2208.06046">Milionis, et al.</a> establish that, for assets following geometric Brownian motion, essentially the only uniform AMMs are geometric mean market makers. In the case of a prediction market under Gaussian score dynamics, examining (3), a uniform LVR pool must solve the ordinary differential equation</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo>−</mo><mstyle displaystyle="false" scriptlevel="0"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mfrac><mrow><mi>ϕ</mi><msup><mrow><mo fence="true">(</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mrow><mo fence="true">(</mo><mi>P</mi><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow><mn>2</mn></msup></mrow><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></mfrac><msup><mi>V</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>=</mo><mi>α</mi><mi>V</mi><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">  - \tfrac{1}{2}  \frac{ \phi\left(  \Phi^{-1}\left( P \right) \right)^2 }{T-t}
  V&#x27;&#x27;(P) = \alpha V(P).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.5633em;vertical-align:-0.7693em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.794em;"><span style="top:-2.368em;"><span class="pstrut" style="height:3.054em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-3.284em;"><span class="pstrut" style="height:3.054em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.794em;"><span class="pstrut" style="height:3.054em;"></span><span class="mord"><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.054em;"><span style="top:-3.3029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><div><p>This is not possible, since the left side depends on <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></div></span>, while the right side does not. The core issue here is that, unlike geometric Brownian motion, whose dynamics are invariant across time, Gaussian score dynamics are highly time dependent. </p><p><br/>To  circumvent this issue, we allow <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span></div></span> to be time dependent, i.e., we set <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mi>β</mi><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi>T</mi><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\alpha = \beta / (T -t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mord">/</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span></div></span>, for some <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta &gt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></div></span>, and now consider a setting where</p></div></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mrow><mi mathvariant="sans-serif">L</mi><mi mathvariant="sans-serif">V</mi><mi mathvariant="sans-serif">R</mi></mrow><mi>t</mi></msub><mo>=</mo><mi>β</mi><mfrac><msub><mi>V</mi><mi>t</mi></msub><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\mathsf{LVR}_t = \beta \frac{V_t}{T- t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathsf">LVR</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>This is equivalent to the ODE</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>ϕ</mi><msup><mrow><mo fence="true">(</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mn>2</mn></msup><msup><mi>V</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>+</mo><mn>2</mn><mi>β</mi><mi>V</mi><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mspace width="1em"/><mspace width="1em"/></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\phi\left(\Phi^{-1}(P)\right)^2 V&#x27;&#x27;(P) + 2 \beta V(P) = 0,
\quad\quad
\tag{4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4181em;vertical-align:-0.35em;"></span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0681em;"><span style="top:-3.317em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span></span><span class="tag"><span class="strut" style="height:1.4181em;vertical-align:-0.35em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">4</span></span><span class="mord">)</span></span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>for <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">P \geq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></div></span>. In addition, there are are additional requirements on <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mo>⋅</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V(\cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord">⋅</span><span class="mclose">)</span></span></span></span></div></span> such that it is a valid pool value function, for example that <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>V</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>≤</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">V&#x27;&#x27;(P) \leq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></div></span> (cf. Lemma 1).</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><h2 id="b2904abfff8a">Static pm-AMM</h2></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p><strong>Pool definition.</strong> The above ODE can be simplified through the change of variables <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo>=</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u=\Phi^{-1}(P)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span></span></span></span></div></span>. When <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">\beta = 1/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/2</span></span></span></span></div></span>, there is a solution satisfying both the ODE and the additional concavity requirements, and it is given by</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>=</mo><mi>L</mi><mi>ϕ</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">V(P) = L \phi\left( \Phi^{-1}(P) \right),</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2141em;vertical-align:-0.35em;"></span><span class="mord mathnormal">L</span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>with reserves given by</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msup><mi>x</mi><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>=</mo><mi>L</mi><mrow><mo fence="true">{</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mi>P</mi><mo>+</mo><mi>ϕ</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mo>−</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo fence="true">}</mo></mrow><mo separator="true">,</mo><mspace width="1em"/><mspace width="1em"/></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(5)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">  x^*(P) = L \left\{
    \Phi^{-1}(P)  P + \phi\left(  \Phi^{-1}(P)  \right) -  \Phi^{-1}(P)
  \right\},
\quad\quad
\tag{5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2141em;vertical-align:-0.35em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">{</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">}</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span></span><span class="tag"><span class="strut" style="height:1.2141em;vertical-align:-0.35em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">5</span></span><span class="mord">)</span></span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msup><mi>y</mi><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>=</mo><mi>L</mi><mrow><mo fence="true">{</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mi>P</mi><mo>+</mo><mi>ϕ</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mo fence="true">}</mo></mrow><mi mathvariant="normal">.</mi><mspace width="1em"/><mspace width="1em"/></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">  y^*(P) = L \left\{
    \Phi^{-1}(P)  P + \phi\left(  \Phi^{-1}(P)  \right)
  \right\}.
\quad\quad
\tag{6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2141em;vertical-align:-0.35em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">{</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">}</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">.</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span></span><span class="tag"><span class="strut" style="height:1.2141em;vertical-align:-0.35em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">6</span></span><span class="mord">)</span></span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>Here, <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">L \geq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></div></span> is a liquidity parameter that determines the scaling of the pool size. Observing that <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>y</mi><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>x</mi><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo>=</mo><mi>L</mi><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y^*(P) - x^*(P) = L \Phi^{-1}(P)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span></span></span></span></div></span> and substituting that into (5), the pool reserves <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></div></span> must satisfy the invariant</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>y</mi><mo>−</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="normal">Φ</mi><mrow><mo fence="true">(</mo><mfrac><mrow><mi>y</mi><mo>−</mo><mi>x</mi></mrow><mi>L</mi></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mi>L</mi><mi>ϕ</mi><mrow><mo fence="true">(</mo><mfrac><mrow><mi>y</mi><mo>−</mo><mi>x</mi></mrow><mi>L</mi></mfrac><mo fence="true">)</mo></mrow><mo>−</mo><mi>y</mi><mo>=</mo><mn>0.</mn></mrow><annotation encoding="application/x-tex"> (y - x) \Phi\left( \frac{y - x}{L} \right)
  + L \phi\left( \frac{y - x}{L} \right)
  - y = 0.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord">Φ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">L</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord mathnormal">L</span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">L</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>This defines the <em>static pm-AMM</em>. (This name alludes to the time varying, dynamic variation of the pm-AMM we will discuss shortly.) By design, this AMM satisfies the relationship</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mrow><mi mathvariant="sans-serif">L</mi><mi mathvariant="sans-serif">V</mi><mi mathvariant="sans-serif">R</mi></mrow><mi>t</mi></msub><mo>=</mo><mfrac><msub><mi>V</mi><mi>t</mi></msub><mrow><mn>2</mn><mo stretchy="false">(</mo><mi>T</mi><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\mathsf{LVR}_t = \frac{V_t}{2 (T - t)}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathsf">LVR</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2963em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>Defining <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>V</mi><mo>ˉ</mo></mover><mi>t</mi></msub><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><msub><mi>V</mi><mi>t</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\bar{V}_t = \mathbb{E}[V_t]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9701em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></div></span> to be the expected pool value, from (2) we have that</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi>d</mi><msub><mover accent="true"><mi>V</mi><mo>ˉ</mo></mover><mi>t</mi></msub></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mo>−</mo><mfrac><msub><mover accent="true"><mi>V</mi><mo>ˉ</mo></mover><mi>t</mi></msub><mrow><mn>2</mn><mo stretchy="false">(</mo><mi>T</mi><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\frac{d\bar{V}_t}{dt} = - \frac{\bar{V}_t}{2(T - t)}.
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.1831em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4971em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4331em;vertical-align:-0.936em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4971em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>Solving this ODE,</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>V</mi><mo>ˉ</mo></mover><mi>t</mi></msub><mo>=</mo><msub><mi>V</mi><mn>0</mn></msub><msqrt><mfrac><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow><mi>T</mi></mfrac></msqrt><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\bar{V}_t = V_0 \sqrt{\frac{T-t}{T}}.
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9701em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.44em;vertical-align:-0.769em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.671em;"><span class="svg-align" style="top:-4.4em;"><span class="pstrut" style="height:4.4em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.631em;"><span class="pstrut" style="height:4.4em;"></span><span class="hide-tail" style="min-width:1.02em;height:2.48em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='2.48em' viewBox='0 0 400000 2592' preserveAspectRatio='xMinYMin slice'><path d='M424,2478
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l0 -0c4,-6.7,10,-10,18,-10 H400000
v40H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M1001 80
h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.769em;"><span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>In other words, in expectation, the static pm-AMM pool value decays according to the square root of the remaining time horizon.</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><h2 id="9ed3cf5c6434">Dynamic pm-AMM</h2></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>One downside of the static pm-AMM is that, while its LVR per dollar of value is uniform over all possible <em>prices</em>, it changes over <em>time</em>. In particular, loss per dollar of value is inversely proportional to the time to maturity, so it will increase over time until losing all of its value by maturity<br/><br/><strong>Dynamic liquidity</strong>. We imagine now a dynamic, time-varying variation of the static pm-AMM design where the AMM LPs withdraw liquidity over time to mitigate their losses. In particular, assume that the pool value is given by</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>P</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>L</mi><mi>t</mi></msub><mi>ϕ</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">V(P,t) = L_t \phi\left( \Phi^{-1}(P) \right),</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2141em;vertical-align:-0.35em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>where <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">L_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> is a deterministic, smooth function that determines how much liquidity is removed (or possibly added) over time. Applying Itô&#x27;s lemma to the pool value process <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>t</mi></msub><mo>≜</mo><mi>V</mi><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V_t ≜ V(P_t,t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0667em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">≜</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span></div></span>,</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><msub><mi>V</mi><mi>t</mi></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>=</mo><msub><mi mathvariant="normal">∂</mi><mi>t</mi></msub><mi>V</mi><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><msub><mi mathvariant="normal">∂</mi><mrow><mi>P</mi><mi>P</mi></mrow></msub><mi>V</mi><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mtext> </mtext><mo stretchy="false">(</mo><mi>d</mi><msub><mi>P</mi><mi>t</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><msub><mi mathvariant="normal">∂</mi><mi>P</mi></msub><mi>V</mi><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mtext> </mtext><mi>d</mi><msub><mi>P</mi><mi>t</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mo>=</mo><mrow><mo fence="true">(</mo><msub><mover accent="true"><mi>L</mi><mo>˙</mo></mover><mi>t</mi></msub><mi>ϕ</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mo>−</mo><mfrac><msub><mi>L</mi><mi>t</mi></msub><mrow><mn>2</mn><mo stretchy="false">(</mo><mi>T</mi><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mfrac><mi>ϕ</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="normal">Φ</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow><mtext> </mtext><mi>d</mi><mi>t</mi></mstyle></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mspace width="1em"/><mo>+</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">(</mo><msup><mi>x</mi><mo lspace="0em" rspace="0em">∗</mo></msup><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>−</mo><msup><mi>y</mi><mo lspace="0em" rspace="0em">∗</mo></msup><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">)</mo><mtext> </mtext><mi>d</mi><msub><mi>P</mi><mi>t</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mo>=</mo><mrow><mo fence="true">(</mo><mfrac><msub><mover accent="true"><mi>L</mi><mo>˙</mo></mover><mi>t</mi></msub><msub><mi>L</mi><mi>t</mi></msub></mfrac><mo>−</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mo stretchy="false">(</mo><mi>T</mi><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mfrac><mo fence="true">)</mo></mrow><msub><mi>V</mi><mi>t</mi></msub><mtext> </mtext><mi>d</mi><mi>t</mi><mo>+</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">(</mo><msup><mi>x</mi><mo lspace="0em" rspace="0em">∗</mo></msup><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>−</mo><msup><mi>y</mi><mo lspace="0em" rspace="0em">∗</mo></msup><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">)</mo><mtext> </mtext><mi>d</mi><msub><mi>P</mi><mi>t</mi></msub><mi mathvariant="normal">.</mi></mstyle></mstyle></mtd></mtr></mtable><mspace width="1em"/><mspace width="1em"/></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(7)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{ll}
dV_t &amp; = \partial_t V(P_t, t) + \tfrac{1}{2} \partial_{PP} V(P_t, t) \, (dP_t)^2 + \partial_P V(P_t, t) \, dP_t \\
&amp; \displaystyle = \left( \dot{L}_t \phi\left( \Phi^{-1}(P) \right) - \frac{L_t}{2(T-t)} \phi\left( \Phi^{-1}(P) \right) \right) \, dt \\
&amp; \quad + \big(x^{*}(P_t) - y^{*}(P_t) \big) \, dP_t \\
&amp; \displaystyle = \left( \frac{\dot{L}_t}{L_t} - \frac{1}{2(T-t)} \right) V_t \, dt + \big(x^{*}(P_t) - y^{*}(P_t) \big) \, dP_t.
\end{array}
\quad\quad
\tag{7}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:7.8152em;vertical-align:-3.6576em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.1576em;"><span style="top:-7.0625em;"><span class="pstrut" style="height:3.75em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.2525em;"><span class="pstrut" style="height:3.75em;"></span><span class="mord"></span></span><span style="top:-3.4524em;"><span class="pstrut" style="height:3.75em;"></span><span class="mord"></span></span><span style="top:-1.3424em;"><span class="pstrut" style="height:3.75em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.6576em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.1576em;"><span style="top:-7.0625em;"><span class="pstrut" style="height:3.75em;"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">PP</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.2525em;"><span class="pstrut" style="height:3.75em;"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">L</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1111em;"><span class="mord">˙</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.4524em;"><span class="pstrut" style="height:3.75em;"></span><span class="mord"><span class="mspace" style="margin-right:1em;"></span><span class="mord">+</span><span class="mord"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="delimsizing size1">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.3424em;"><span class="pstrut" style="height:3.75em;"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5972em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">L</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1111em;"><span class="mord">˙</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="delimsizing size1">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.6576em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span></span><span class="tag"><span class="strut" style="height:7.8152em;vertical-align:-3.6576em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">7</span></span><span class="mord">)</span></span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>Denote by <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">C_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> the cumulative dollar value of liquidity withdrawn. Then, since the pool value is linear in the liquidity <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">L_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> , the dollar value of a change in <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">L_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span>is proportional to <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>t</mi></msub><mi mathvariant="normal">/</mi><msub><mi>L</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">V_t/L_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> . Then, we have that</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><msub><mi>C</mi><mi>t</mi></msub><mo>=</mo><mo>−</mo><mfrac><msub><mover accent="true"><mi>L</mi><mo>˙</mo></mover><mi>t</mi></msub><msub><mi>L</mi><mi>t</mi></msub></mfrac><msub><mi>V</mi><mi>t</mi></msub><mtext> </mtext><mi>d</mi><mi>t</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">dC_t = - \frac{\dot L_t}{L_t} V_t \, dt.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4332em;vertical-align:-0.836em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5972em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">L</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1111em;"><span class="mord">˙</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mord">.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>The AMM LPs’ total wealth <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">W_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span>t consists of the value of the pool reserves plus the cumulative value of the liquidity withdrawn, so that <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>t</mi></msub><mo>=</mo><msub><mi>V</mi><mi>t</mi></msub><mo>+</mo><msub><mi>C</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">W_t = V_t + C_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></span> , and this satisfies</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><msub><mi>W</mi><mi>t</mi></msub><mo>=</mo><mi>d</mi><msub><mi>V</mi><mi>t</mi></msub><mo>+</mo><mi>d</mi><msub><mi>C</mi><mi>t</mi></msub><mo>=</mo><mo>−</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mo stretchy="false">(</mo><mi>T</mi><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mfrac><msub><mi>V</mi><mi>t</mi></msub><mtext> </mtext><mi>d</mi><mi>t</mi><mo>+</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">(</mo><msup><mi>x</mi><mo lspace="0em" rspace="0em">∗</mo></msup><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>−</mo><msup><mi>y</mi><mo lspace="0em" rspace="0em">∗</mo></msup><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">)</mo><mtext> </mtext><mi>d</mi><msub><mi>P</mi><mi>t</mi></msub><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">dW_t = dV_t + dC_t = -\frac{1}{2(T-t)} V_t \, dt + \big(x^{*}(P_t) - y^{*}(P_t) \big) \, dP_t.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2574em;vertical-align:-0.936em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="delimsizing size1">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>This implies that the expected LP wealth <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>W</mi><mo>ˉ</mo></mover><mi>t</mi></msub><mo>≜</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><msub><mi>W</mi><mi>t</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\bar{W}_t ≜ \mathbb{E}[W_t]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0667em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">≜</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></div></span> satisfies</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mover accent="true"><mi>W</mi><mo>ˉ</mo></mover><mi>t</mi></msub><mo>=</mo><msub><mi>W</mi><mn>0</mn></msub><mo>−</mo><msubsup><mo>∫</mo><mn>0</mn><mi>t</mi></msubsup><mfrac><msub><mover accent="true"><mi>V</mi><mo>ˉ</mo></mover><mi>s</mi></msub><mrow><mn>2</mn><mo stretchy="false">(</mo><mi>T</mi><mo>−</mo><mi>s</mi><mo stretchy="false">)</mo></mrow></mfrac><mtext> </mtext><mi>d</mi><mi>s</mi><mo separator="true">,</mo><mspace width="1em"/><mspace width="1em"/></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(8)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\bar{W}_t = W_0 - \int_0^t \frac{\bar{V}_s}{2(T-s)} \, ds,
\quad\quad
\tag{8}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9701em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4795em;vertical-align:-0.936em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5435em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4971em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span></span><span class="tag"><span class="strut" style="height:2.4795em;vertical-align:-0.936em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">8</span></span><span class="mord">)</span></span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>where <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>V</mi><mo>ˉ</mo></mover><mi>t</mi></msub><mo>≜</mo><mi>E</mi><mo stretchy="false">[</mo><msub><mi>V</mi><mi>T</mi></msub><mo stretchy="false">]</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\bar{V}_t ≜ {E}[V_T].</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0667em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">≜</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mord">.</span></span></span></span></div></span><br/></p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p><strong>Constant LVR.</strong> Now, consider the specific choice of liquidity curve given</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>L</mi><mi>t</mi></msub><mo>=</mo><msub><mi>L</mi><mn>0</mn></msub><msqrt><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></msqrt><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">L_t = L_0 \sqrt{T - t}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0839em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9339em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-2.8939em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1061em;"><span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>We call the the dynamic pm-AMM. Then, from (7), the expected pool value <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>V</mi><mo>ˉ</mo></mover><mi>t</mi></msub><mo>=</mo><mi>E</mi><mo stretchy="false">[</mo><msub><mi>V</mi><mi>t</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\bar{V}_t = E[V_t]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9701em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></div></span> satisfies</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi>d</mi><msub><mover accent="true"><mi>V</mi><mo>ˉ</mo></mover><mi>t</mi></msub></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mrow><mo fence="true">(</mo><mfrac><msub><mover accent="true"><mi>L</mi><mo>˙</mo></mover><mi>t</mi></msub><msub><mi>L</mi><mi>t</mi></msub></mfrac><mo>−</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mo stretchy="false">(</mo><mi>T</mi><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mfrac><mo fence="true">)</mo></mrow><msub><mover accent="true"><mi>V</mi><mo>ˉ</mo></mover><mi>t</mi></msub><mo>=</mo><mo>−</mo><mfrac><msub><mover accent="true"><mi>V</mi><mo>ˉ</mo></mover><mi>t</mi></msub><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\frac{d \bar{V}_t}{dt} = \left( \frac{\dot{L}_t}{L_t} - \frac{1}{2(T-t)} \right) \bar{V}_t = - \frac{\bar{V}_t}{T - t}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.1831em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4971em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5972em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">L</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1111em;"><span class="mord">˙</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2664em;vertical-align:-0.7693em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4971em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>Solving this ODE, we have</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>V</mi><mo>ˉ</mo></mover><mi>t</mi></msub><mo>=</mo><msub><mi>V</mi><mn>0</mn></msub><mtext> </mtext><mfrac><mrow><mi>T</mi><mo>−</mo><mi>t</mi></mrow><mi>T</mi></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\bar{V}_t = V_0 \, \frac{T-t}{T}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9701em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>In other words, net of withdrawals, the expected pool value decreases linearly in the dynamic pm-AMM. Further, because it inherits the static pm-AMM value function, the rate of LVR loss per unit time is given by</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mrow><mi mathvariant="sans-serif">L</mi><mi mathvariant="sans-serif">V</mi><mi mathvariant="sans-serif">R</mi></mrow><mi>t</mi></msub><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mo stretchy="false">(</mo><mi>T</mi><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mfrac><msub><mi>V</mi><mi>t</mi></msub><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\mathsf{LVR}_t = \frac{1}{2(T-t)} V_t.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathsf">LVR</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2574em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>Then, the expected rate of loss is</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><msub><mrow><mi mathvariant="sans-serif">L</mi><mi mathvariant="sans-serif">V</mi><mi mathvariant="sans-serif">R</mi></mrow><mi>t</mi></msub><mo stretchy="false">]</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mo stretchy="false">(</mo><mi>T</mi><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mfrac><msub><mover accent="true"><mi>V</mi><mo>ˉ</mo></mover><mi>t</mi></msub><mo>=</mo><mfrac><msub><mi>V</mi><mn>0</mn></msub><mrow><mn>2</mn><mi>T</mi></mrow></mfrac><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\mathbb{E}[\mathsf{LVR}_t] = \frac{1}{2(T-t)} \bar{V}_t = \frac{V_0}{2T},
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord"><span class="mord"><span class="mord mathsf">LVR</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2574em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>which is constant over <span class="rich-text__math"><div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></div></span>. That is, the dynamic pm-AMM loses money to arbitrageurs at a constant rate (in expectation) over time.</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>Finally, following (8), this results in an expected wealth process</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-math my-0 mx-auto"><div><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>W</mi><mo>ˉ</mo></mover><mi>T</mi></msub><mo>=</mo><msub><mi>W</mi><mn>0</mn></msub><mo>−</mo><msubsup><mo>∫</mo><mn>0</mn><mi>T</mi></msubsup><mfrac><msub><mi>V</mi><mn>0</mn></msub><mrow><mn>2</mn><mi>T</mi></mrow></mfrac><mtext> </mtext><mi>d</mi><mi>t</mi><mo>=</mo><msub><mi>W</mi><mn>0</mn></msub><mo>−</mo><mfrac><msub><mi>V</mi><mn>0</mn></msub><mn>2</mn></mfrac><mo>=</mo><mfrac><msub><mi>W</mi><mn>0</mn></msub><mn>2</mn></mfrac><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\bar{W}_T = W_0 - \int_0^T \frac{V_0}{2T} \, dt = W_0 - \frac{V_0}{2} = \frac{W_0}{2},
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9701em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.5032em;vertical-align:-0.9119em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5912em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span></span></span></span></span></div></div><div class="relative hidden xl:block row-start-1 w-[250px] pl-1"></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>so that half the initial wealth is lost by the end.</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><div><h2 id="b8b16df560a7">Conclusion</h2><p>The pm-AMM may be useful for prediction markets driven by dynamics that resemble the Gaussian score dynamics model. </p><p>Beyond this, our work suggests that uniform AMMs may be derivable for other kinds of assets, like bonds, options, and other derivatives.</p></div></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><h2 id="b7ffd4060449">Acknowledgements</h2></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div><div class="my-2 md:my-4"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-8 xl:col-start-4 flex flex-row gap-10 max-w-[1250px]"><div class="rich-text line-break rich-text-post text-serif-16 md:text-serif-18 leading-28"><p>The authors wish to thank Benedict Brady, Leo Lau, Allan Niemerg, Storm Slivkoff, Shouqiao Wang, Dave White, and Bill Zhang for helpful comments.</p></div><div class="relative hidden xl:block row-start-1 max-w-[250px] pl-1" style="opacity:1"><div class="flex flex-col gap-3 min-w-[250px]"></div></div></div></div></div></div></div><footer class="px-container-mobile md:px-container-desktop py-7 md:py-8 md:pb-7"><div class="grid grid-cols-12"><div class="col-span-12 md:col-start-2 md:col-span-9 xl:col-span-5 xl:col-start-4 flex flex-row gap-10 max-w-[900px]"><div class="flex flex-col gap-6 max-w-[900px]"><div class="flex flex-col gap-2"><h3 class="font-mono text-mono-12 font-medium">Written by</h3><div class="flex flex-col gap-2"><div class="md:p-2 md:border md:border-solid md:border-gray-border"><div class="grid md:grid-cols-5 gap-2"><div class="md:col-span-2"><a class="block w-full" href="../../team/ciamac-moallemi.html"><div class="image overflow-hidden block w-full aspect-square"><picture><img class="scale-105 blur-lg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVR4nAEZA+b8AKeOdKuQeKeOeKeQfbWjnNDIydLMz7WusKOgoKKjl6irkayvlKaojJ2feaKebaadZq2ib8O6nNbSwNbQuwCWg3SZgnWchnyeiYKvnJnHu720q6yGfHtzamd2cGiMjHqlqI+lpoygnH2fmHCclGihl3C3sJnOzcTW1c8Ah314h3p0m46MpZeYtKaoxr2/p52bi3hyj3ZtiHNqioN6pKegra+praieopyLn5qFqKKNs7Cjubu4wcPGAH52bn96bZGQhZqYk6Wioba1tKablZt/daWAdJp8cJCDe52gnqSrqqerqp6ioJ+jnaSooJmhloiQh4uOjABeX1BeZlJlcFpocWBrc2d4f3OEfHCMcGWNal+Ial9+c2N4gGp2hW15h3R6iHd+jHh8i3VugGdgb1ddZVUAQ088RVM/TlpEU19IVmJKXWhQaWtZbF1UYktFZlZJcHFTcH5RcYJRdodYeYtbfJBcfJFde5Fdd4paanZRAG18WnSCYIKObYuYd4yZeYSQeHmDeXNxc2BYWmZkXIKMcJWmeaGyfaa3gaW4fqW5e6W5e6e7fqS1fZaldACit3umu4Cou4eesY2Lm4xseX1eaXp6f5GFhpJ+gYt0foJ+jIabqpawwp+6zZ+7zp26zpu6zZy4ypqzxpcAqcF6qcF9lqx5an1wSFZoMz5cMz1dZGuFk5isipCjV2B3PUhgUl5qfY58pbqLscePssiOssePscaOr8aMAKK4caC1c36QakBMUyErRyApSCQtTElRbYaNo42Up1ZedCUvSSIrQUtYU4uecaa6fae6e6e5e6e6e6W6eQCXrmOTqWZre1wuN0IWHTIZIDccJD8yOlVsc4qGjZ9YYHUjK0IWHjI3QEJ7iWegr3eisXelsHqns32otH4AhJtWf5VZV2hRJC06ERcpExgpFRsxIShATlRrcniMUFdsICY6ERgpKjE3aXhXlqdpnattn6txoK5zn65xAHCGVWuBVUlYSx8nNg8UJhAUIhIXKhgeMzc9U1xid0dNYRwiNA4TJCAmLltpSI6gW5apXpSoXZSpXJOpWiYOfr7ogRSPAAAAAElFTkSuQmCC"/></picture></div></a></div><div class="md:col-span-3 font-mono text-mono-12"><div class="flex flex-col gap-2"><div class="flex flex-col gap-1 md:gap-2"><div class="flex flex-col gap-half"><p class="font-medium"><a class="link-underline-hover" href="../../team/ciamac-moallemi.html">Ciamac Moallemi</a></p><p>Research Advisor</p></div><div class="flex gap-1 flex-wrap"><a _key="d7a917e88c0a" class="block button button-tag" target="_blank" rel="noopener noreferrer" href="https://moallemi.com/ciamac/">Personal</a><a _key="b4e0825f030e" class="block button button-tag" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/ciamacmoallemi/">LinkedIn</a><a _key="fa1315135d3b" class="block button button-tag" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ciamac">Twitter</a></div></div><div class="flex flex-col gap-1"><h4 class="md:hidden font-medium">Biography</h4><div class="lg:line-clamp-[10] rich-text-inline"><p>Ciamac Moallemi is William von Mueffling Professor of Business in the Decision, Risk, &amp; Operations Division of the Graduate School of Business at Columbia University, and the Director of the Briger Family Digital Finance Lab. In his work with Paradigm, he focuses on applied research in mechanism and market design, with a particular focus on decentralized finance.</p> <a class="button button-tag-inline relative top-[2px]" href="../../team/ciamac-moallemi.html"><svg width="12" height="6" viewBox="0 0 12 6" class="mx-auto mt-[4px] rotate-180"><path d="M0 3L5 5.88675L5 0.113248L0 3ZM12 2.5L4.5 2.5L4.5 3.5L12 3.5L12 2.5Z" fill="currentColor"></path></svg></a></div></div></div></div></div></div><div class="md:p-2 md:border md:border-solid md:border-gray-border"><div class="grid md:grid-cols-5 gap-2"><div class="md:col-span-2"><a class="block w-full" href="../../team/danrobinson/index.html"><div class="image overflow-hidden block w-full aspect-square"><picture><img class="scale-105 blur-lg" src="data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAUHCAL/xAAkEAABBAEEAgIDAAAAAAAAAAABAAIDBAUGERITBzEhYVFyof/EABcBAAMBAAAAAAAAAAAAAAAAAAACAwH/xAAZEQEBAAMBAAAAAAAAAAAAAAABAAISMVH/2gAMAwEAAhEDEQA/ALBrUhHj5pNw14YSCT8A7KA0NWdZys8gyTrMMkXJ8L38uL9/Y+lUXm3Wt859uHpW5IaUTB2tjdtzJ97qCz+dt4Ovi7GItyV5mjkCw7bj7/KEVGvuAiWm7WODZnABFH6M1IzP6Yx+Rlc3uliHZ+w9ontGyd5De6TWGSe87u7QFxquRzq+PBPqJES0fa2PElydmjIGteeIkeB/ERExVx5f/9k="/></picture></div></a></div><div class="md:col-span-3 font-mono text-mono-12"><div class="flex flex-col gap-2"><div class="flex flex-col gap-1 md:gap-2"><div class="flex flex-col gap-half"><p class="font-medium"><a class="link-underline-hover" href="../../team/danrobinson/index.html">Dan Robinson</a></p><p>General Partner</p></div><div class="flex gap-1 flex-wrap"><a _key="6738ffc28bba" class="block button button-tag" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/danielprobinson/">LinkedIn</a><a _key="44c9b840cad2" class="block button button-tag" target="_blank" rel="noopener noreferrer" href="https://twitter.com/danrobinson">Twitter</a><a _key="8ad39bdaa28b" class="block button button-tag" target="_blank" rel="noopener noreferrer" href="https://warpcast.com/danrobinson">Warpcast</a></div></div><div class="flex flex-col gap-1"><h4 class="md:hidden font-medium">Biography</h4><div class="lg:line-clamp-[10] rich-text-inline"><p>Dan Robinson is a General Partner at Paradigm, focused on crypto investments and research into open-source protocols. Previously, Dan was a protocol researcher at Interstellar. Before Interstellar, Dan practiced as a litigation attorney at Paul, Weiss, Rifkind, Wharton &amp; Garrison LLP. He earned a J.D. from Harvard Law School and an A.B. from Harvard University.</p> <a class="button button-tag-inline relative top-[2px]" href="../../team/danrobinson/index.html"><svg width="12" height="6" viewBox="0 0 12 6" class="mx-auto mt-[4px] rotate-180"><path d="M0 3L5 5.88675L5 0.113248L0 3ZM12 2.5L4.5 2.5L4.5 3.5L12 3.5L12 2.5Z" fill="currentColor"></path></svg></a></div></div></div></div></div></div></div></div><div class="rich-text line-break font-mono text-mono-12"><p>Disclaimer: This post is for general information purposes only. It does not constitute investment advice or a recommendation or solicitation to buy or sell any investment and should not be used in the evaluation of the merits of making any investment decision. It should not be relied upon for accounting, legal or tax advice or investment recommendations. This post reflects the current opinions of the authors and is not made on behalf of Paradigm or its affiliates and does not necessarily reflect the opinions of Paradigm, its affiliates or individuals associated with Paradigm. The opinions reflected herein are subject to change without being updated.</p></div></div></div></div></footer><div class="p-3 md:pt-6 bg-black text-white font-mono text-mono-12"><div class="flex flex-col gap-6"><div class="grid grid-cols-12 gap-y-6"><div class="col-span-12 md:col-span-3"><div class="flex"><svg width="94" height="108" viewBox="0 0 94 108" class="text-green block w-[53px] h-[60px] md:w-[94px] md:h-[108px]"><path d="M94 33.2314L36.1538 0L28.9231 4.15692V12.4628L21.6923 8.30585L14.4615 12.4628V20.7686L7.23077 16.6117L0 20.7686V87.2314L7.23077 91.3883L14.4615 87.2314V95.5372L21.6923 99.6942L28.9231 95.5372V103.843L36.1538 108L94 74.7686V66.4628L86.7692 62.3059L94 58.1489V49.8431L86.7692 45.6862L94 41.5292V33.2314ZM14.4615 78.9255L7.23077 83.0825V24.9255L14.4615 29.0825V78.9255ZM36.1538 83.0745V74.7686L65.0769 58.1569L72.3077 62.3138L36.1538 83.0745ZM57.8462 54L36.1538 66.4628V41.5372L57.8462 54ZM65.0769 49.8431L36.1538 33.2314V24.9255L72.3077 45.6942L65.0769 49.8431ZM21.6923 16.6117L28.9231 20.7686V29.0745L21.6923 24.9175V16.6117ZM21.6923 33.2314L28.9231 37.3883V70.6197L21.6923 74.7766V33.2314ZM21.6923 83.0745L28.9231 78.9175V87.2234L21.6923 91.3803V83.0745ZM86.7692 70.6117L36.1538 99.6862V91.3803L79.5385 66.4548L86.7692 70.6117ZM86.7692 54L79.5385 58.1569L72.3077 54L79.5385 49.8431L86.7692 54ZM79.5385 41.5372L36.1538 16.6117V8.30585L86.7692 37.3803L79.5385 41.5372Z" fill="currentColor"></path></svg></div></div><div class="col-span-12 md:col-span-6 flex flex-col gap-6"><div class="grid md:grid-cols-3 gap-y-1"><div><ul class="flex flex-col gap-1"><li><a _key="c617717bef10" class="link-underline-hover uppercase font-medium" href="../../about.html">About</a></li><li><a _key="445b500c20cd" class="link-underline-hover uppercase font-medium" href="../../team.html">Team</a></li><li><a _key="ae321ba66fad" class="link-underline-hover uppercase font-medium" href="../../portfolio.html">Portfolio</a></li></ul></div><div><ul class="flex flex-col gap-1"><li><a _key="6862d607fb16" class="link-underline-hover uppercase font-medium" href="../../writing.html">Writing</a></li><li><a _key="ce7b888d0e75" class="link-underline-hover uppercase font-medium" href="../../oss.html">Open Source</a></li><li><a _key="927788bfed4f" class="link-underline-hover uppercase font-medium" href="../../careers.html">Careers</a></li></ul></div><div><ul class="flex flex-col gap-1"><li><a _key="02f85bf11b4a" class="link-underline-hover uppercase font-medium" target="_blank" rel="noopener noreferrer" href="https://app.junipersquare.com/i/paradigm">LP Login</a></li></ul></div></div><div class="grid md:grid-cols-3 gap-y-1"><div><a _key="f325e52a9ec5" class="link-underline-hover" target="_blank" rel="noopener noreferrer" href="https://twitter.com/paradigm">Twitter</a></div><div><a _key="f231f3484f95" class="link-underline-hover" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/company/paradigm-xyz/">LinkedIn</a></div><div><a _key="1c198033e797" class="link-underline-hover" target="_blank" rel="noopener noreferrer" href="https://warpcast.com/paradigm">Warpcast</a></div><div><a _key="d8394a8a29cb" class="link-underline-hover" href="../../contact.html">Contact</a></div></div></div></div><div class="grid grid-cols-12 items-end gap-y-6"><div class="col-span-12 md:col-span-3"><ul class="flex flex-col gap-1"><li><a _key="d6e347271e47" class="link-underline-hover" href="../../website-terms-of-use.html">Terms</a></li><li><a _key="29e55cad5ff7" class="link-underline-hover" href="../../important-disclosures.html">Disclosures</a></li><li><a _key="02e810af4cf8" class="link-underline-hover" href="../../privacy-policy.html">Privacy</a></li><li><a _key="520d04d2ff65" class="link-underline-hover" href="../../privacy-policy.html#83a48e65d92d">CA Privacy</a></li></ul></div><div class="col-span-12 md:col-span-6"><p>Copyright © 2025 Paradigm Operations LP All rights reserved. “Paradigm” is a trademark, and the triangular mobius symbol is a registered trademark of Paradigm Operations LP</p></div><div class="col-span-12 md:col-span-3"><div class="flex justify-between md:justify-end"><div class="tag block md:hidden"></div><div class="tag"></div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"layout":{"header":{"desktopLinks":[{"_type":"pageLink","page":{"_ref":"8a0be9a1-8ab7-4a76-9d11-5b0d2636b14e","_type":"reference"},"_key":"426608038e76","slug":"about","openInNewWindow":null,"title":null,"pageName":"About"},{"title":"Team","url":"/team","_type":"link","_key":"ff5f78089e91","openInNewWindow":null},{"pageName":"Portfolio","slug":"portfolio","_type":"pageLink","page":{"_type":"reference","_ref":"5413381f-bafa-4f3e-bba8-91d912b8db45"},"_key":"38b3cd4525de","openInNewWindow":null,"title":null},{"openInNewWindow":null,"_type":"link","_key":"22b86a453ca1","title":"Writing","url":"/writing"},{"page":{"_ref":"cd2cf7f4-c943-4bfe-928b-ee045fba8a9f","_type":"reference"},"_key":"cd5b2c9fbd5f","_type":"pageLink","openInNewWindow":null,"title":null,"pageName":"Open Source","slug":"oss"},{"openInNewWindow":null,"title":"Careers","url":"/careers","_type":"link","_key":"05b4198b2e14"}],"mobileLinks":[{"openInNewWindow":null,"_type":"pageLink","page":{"_ref":"8a0be9a1-8ab7-4a76-9d11-5b0d2636b14e","_type":"reference"},"_key":"ad3cf4299bd8","title":null,"pageName":"About","slug":"about"},{"url":"/team","openInNewWindow":null,"_type":"link","_key":"cdc21cfec068","title":"Team"},{"slug":"portfolio","page":{"_ref":"5413381f-bafa-4f3e-bba8-91d912b8db45","_type":"reference"},"_key":"56f654c719a3","_type":"pageLink","openInNewWindow":null,"title":null,"pageName":"Portfolio"},{"url":"/writing","_type":"link","_key":"f8ada95cbc04","title":"Writing","openInNewWindow":null},{"_type":"pageLink","page":{"_ref":"cd2cf7f4-c943-4bfe-928b-ee045fba8a9f","_type":"reference"},"_key":"8e6834f3c151","openInNewWindow":null,"title":null,"pageName":"Open Source","slug":"oss"},{"_type":"link","_key":"027927bd5b1f","title":"Careers","url":"/careers","openInNewWindow":null}],"mobileSmallLinks":[{"openInNewWindow":true,"_type":"link","_key":"8fb4f75b65fa","title":"LP Login","url":"https://app.junipersquare.com/i/paradigm"}],"socialLinks":[{"_key":"389a7a5bd2b7","title":"Twitter","url":"https://twitter.com/paradigm","openInNewWindow":true,"_type":"link"},{"openInNewWindow":true,"_type":"link","_key":"309ee4c0c92b","title":"LinkedIn","url":"https://www.linkedin.com/company/paradigm-xyz/"},{"_type":"link","_key":"caa5dd28bb8e","title":"Warpcast","url":"https://warpcast.com/paradigm","openInNewWindow":true},{"_type":"pageLink","page":{"_ref":"57df6e24-c479-4932-861a-f7b349880f5f","_type":"reference"},"_key":"c747bb27efab","pageName":"Contact","slug":"contact","openInNewWindow":null,"title":null}],"legalLinks":[{"_key":"798f6ddf0d55","title":"Terms","slug":"website-terms-of-use","openInNewWindow":null,"pageName":"Website Terms of Use","_type":"pageLink","page":{"_ref":"d33b5b91-90eb-4b9f-9eba-d894012bcc53","_type":"reference"}},{"page":{"_ref":"c7027d0e-71a0-4bc4-b4ad-61cd2c3685a7","_type":"reference"},"_key":"a5c485dc29ed","openInNewWindow":null,"pageName":"Important Disclosures","slug":"important-disclosures","title":"Disclosures","_type":"pageLink"},{"page":{"_ref":"081c96bd-e746-495c-998f-dc5e1421b55e","_type":"reference"},"_key":"d66378d18c1a","title":"Privacy","openInNewWindow":null,"pageName":"Privacy Policy","slug":"privacy-policy","_type":"pageLink"},{"url":"/privacy-policy#83a48e65d92d","openInNewWindow":false,"_type":"link","_key":"e8f366883ed3","title":"CA Privacy"}]},"footer":{"linkColumns":[{"_key":"520a97f1c3b3","links":[{"openInNewWindow":null,"_type":"pageLink","page":{"_ref":"8a0be9a1-8ab7-4a76-9d11-5b0d2636b14e","_type":"reference"},"_key":"c617717bef10","title":null,"pageName":"About","slug":"about"},{"pageName":"Team","slug":"team","openInNewWindow":null,"_type":"pageLink","page":{"_ref":"c0cc1f2f-202f-4d37-b5bb-dc9edb7edf62","_type":"reference"},"_key":"445b500c20cd","title":null},{"_key":"ae321ba66fad","_type":"pageLink","openInNewWindow":null,"title":null,"pageName":"Portfolio","slug":"portfolio","page":{"_ref":"5413381f-bafa-4f3e-bba8-91d912b8db45","_type":"reference"}}]},{"_key":"0d51d5f77b26","links":[{"slug":"writing","_type":"pageLink","page":{"_ref":"c4ba5025-72c6-4c4d-a5a1-c46dfcce2cea","_type":"reference"},"_key":"6862d607fb16","openInNewWindow":null,"title":null,"pageName":"Writing"},{"title":null,"_type":"pageLink","page":{"_ref":"cd2cf7f4-c943-4bfe-928b-ee045fba8a9f","_type":"reference"},"_key":"ce7b888d0e75","pageName":"Open Source","slug":"oss","openInNewWindow":null},{"_type":"link","_key":"927788bfed4f","title":"Careers","url":"/careers","openInNewWindow":null}]},{"_key":"efc2b524a0f6","links":[{"_key":"02f85bf11b4a","title":"LP Login","url":"https://app.junipersquare.com/i/paradigm","openInNewWindow":true,"_type":"link"}]}],"socialLinks":[{"_key":"f325e52a9ec5","title":"Twitter","url":"https://twitter.com/paradigm","openInNewWindow":true,"_type":"link"},{"_key":"f231f3484f95","title":"LinkedIn","url":"https://www.linkedin.com/company/paradigm-xyz/","openInNewWindow":true,"_type":"link"},{"_type":"link","_key":"1c198033e797","title":"Warpcast","url":"https://warpcast.com/paradigm","openInNewWindow":true},{"slug":"contact","_key":"d8394a8a29cb","_type":"pageLink","page":{"_ref":"57df6e24-c479-4932-861a-f7b349880f5f","_type":"reference"},"openInNewWindow":null,"title":null,"pageName":"Contact"}],"legalLinks":[{"pageName":"Website Terms of Use","slug":"website-terms-of-use","_type":"pageLink","page":{"_ref":"d33b5b91-90eb-4b9f-9eba-d894012bcc53","_type":"reference"},"_key":"d6e347271e47","title":"Terms","openInNewWindow":null},{"pageName":"Important Disclosures","_type":"pageLink","page":{"_ref":"c7027d0e-71a0-4bc4-b4ad-61cd2c3685a7","_type":"reference"},"_key":"29e55cad5ff7","title":"Disclosures","slug":"important-disclosures","openInNewWindow":null},{"_type":"pageLink","page":{"_ref":"081c96bd-e746-495c-998f-dc5e1421b55e","_type":"reference"},"_key":"02e810af4cf8","title":"Privacy","openInNewWindow":null,"pageName":"Privacy Policy","slug":"privacy-policy"},{"_key":"520d04d2ff65","title":"CA Privacy","url":"/privacy-policy#83a48e65d92d","openInNewWindow":false,"_type":"link"}],"legalStatement":"Copyright © [YEAR] Paradigm Operations LP All rights reserved. “Paradigm” is a trademark, and the triangular mobius symbol is a registered trademark of Paradigm Operations LP"},"postDisclaimer":{"disclaimer":[{"style":"normal","_key":"45dda89c171b","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Disclaimer: This post is for general information purposes only. It does not constitute investment advice or a recommendation or solicitation to buy or sell any investment and should not be used in the evaluation of the merits of making any investment decision. It should not be relied upon for accounting, legal or tax advice or investment recommendations. This post reflects the current opinions of the authors and is not made on behalf of Paradigm or its affiliates and does not necessarily reflect the opinions of Paradigm, its affiliates or individuals associated with Paradigm. The opinions reflected herein are subject to change without being updated.","_key":"da9bfb35a7960"}],"asset":null,"_type":"block"}]},"careersIndex":{"indexTitle":"Opportunities","description":[{"children":[{"_type":"span","marks":[],"text":"Browse through careers and opportunities in the Paradigm universe.","_key":"fdbf7aeff6590"}],"_type":"block","style":"normal","asset":null,"_key":"6663134c09b3","markDefs":[]}]}},"config":{"seo":{"twitterImage":{"lqip":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABa0lEQVQokX1Su47CMBD0T9PQU/ML/MBVFCBRUlAgJIQUBQVOPAyBEMgLbOJc7DnZRyAEuI1W2qzXs7OzJqiY0p9Sf7FSb704E0IgCAJ4nmfcdV2QKuAd+HaxGkM9cmmawvd9bDYbrNdrzGYzkGrX8r9UErGMQX8o/NyHUOKpRgPu93vM53NMp1OMx+MHYBVUG1ccw3SI1rmFL/YFJ3MMaFGX5zmSJDEMNeBoNHqM/E4nza7N26gFNdTDOjq8g0QmT/VSSlyvVxyPRyyXSxDd5ZPwZ3lGj/fQiBpoxk0M0gGYZK+6AoatloBcLhcTFMDlTTPBYIUWul4Xfa8PGlOI7KYjXgloI3rdYRiCMWaegR6hKNI56lLY3zZsxwal1OTKeqMiF9lut2ZTu90Oh8MBnPP7YZZl0BNEYYTT6YQoiu4My0DlmKxWKywWC7Mlx3EMW82y2vm/11A2YlkWJpOJcdu2DZMy4Dv7lNeAv2hnUK/yFW33AAAAAElFTkSuQmCC","dimensions":{"_type":"sanity.imageDimensions","width":2400,"aspectRatio":1.9047619047619047,"height":1260},"url":"https://cdn.sanity.io/images/dgybcd83/production/fd732ebeb1c4d286fd7e3b5b25395d72452edeb6-2400x1260.png","_type":"image","_key":null,"alt":null},"hideFromSitemap":null,"disallowRobots":null,"metaTitle":"Paradigm","metaKeywords":null,"openGraphTitle":"Paradigm","openGraphDescription":"Paradigm is a research-driven crypto investment firm that funds companies and protocols from their earliest stages.","metaDescription":"Paradigm is a research-driven crypto investment firm that funds companies and protocols from their earliest stages.","openGraphImage":{"_type":"image","_key":null,"alt":null,"lqip":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABa0lEQVQokX1Su47CMBD0T9PQU/ML/MBVFCBRUlAgJIQUBQVOPAyBEMgLbOJc7DnZRyAEuI1W2qzXs7OzJqiY0p9Sf7FSb704E0IgCAJ4nmfcdV2QKuAd+HaxGkM9cmmawvd9bDYbrNdrzGYzkGrX8r9UErGMQX8o/NyHUOKpRgPu93vM53NMp1OMx+MHYBVUG1ccw3SI1rmFL/YFJ3MMaFGX5zmSJDEMNeBoNHqM/E4nza7N26gFNdTDOjq8g0QmT/VSSlyvVxyPRyyXSxDd5ZPwZ3lGj/fQiBpoxk0M0gGYZK+6AoatloBcLhcTFMDlTTPBYIUWul4Xfa8PGlOI7KYjXgloI3rdYRiCMWaegR6hKNI56lLY3zZsxwal1OTKeqMiF9lut2ZTu90Oh8MBnPP7YZZl0BNEYYTT6YQoiu4My0DlmKxWKywWC7Mlx3EMW82y2vm/11A2YlkWJpOJcdu2DZMy4Dv7lNeAv2hnUK/yFW33AAAAAElFTkSuQmCC","dimensions":{"_type":"sanity.imageDimensions","width":2400,"aspectRatio":1.9047619047619047,"height":1260},"url":"https://cdn.sanity.io/images/dgybcd83/production/fd732ebeb1c4d286fd7e3b5b25395d72452edeb6-2400x1260.png"},"twitterTitle":"Paradigm","twitterDescription":"Paradigm is a research-driven crypto investment firm that funds companies and protocols from their earliest stages."}},"passwordProtection":{"enablePassword":false,"password":"paradigm"},"_type":"post","title":"pm-AMM: A Uniform AMM for Prediction Markets","slug":"pm-amm","authors":[{"biography":[{"_key":"10b8c400ff5e","markDefs":[],"children":[{"text":"Ciamac Moallemi is William von Mueffling Professor of Business in the Decision, Risk, \u0026 Operations Division of the Graduate School of Business at Columbia University, and the Director of the Briger Family Digital Finance Lab. In his work with Paradigm, he focuses on applied research in mechanism and market design, with a particular focus on decentralized finance.","_key":"a3328b5e759b0","_type":"span","marks":[]}],"_type":"block","style":"normal","asset":null}],"_type":"teamMember","_key":"5d84e9d1477c","hideOnAll":null,"portrait":{"lqip":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVR4nAEZA+b8AKeOdKuQeKeOeKeQfbWjnNDIydLMz7WusKOgoKKjl6irkayvlKaojJ2feaKebaadZq2ib8O6nNbSwNbQuwCWg3SZgnWchnyeiYKvnJnHu720q6yGfHtzamd2cGiMjHqlqI+lpoygnH2fmHCclGihl3C3sJnOzcTW1c8Ah314h3p0m46MpZeYtKaoxr2/p52bi3hyj3ZtiHNqioN6pKegra+praieopyLn5qFqKKNs7Cjubu4wcPGAH52bn96bZGQhZqYk6Wioba1tKablZt/daWAdJp8cJCDe52gnqSrqqerqp6ioJ+jnaSooJmhloiQh4uOjABeX1BeZlJlcFpocWBrc2d4f3OEfHCMcGWNal+Ial9+c2N4gGp2hW15h3R6iHd+jHh8i3VugGdgb1ddZVUAQ088RVM/TlpEU19IVmJKXWhQaWtZbF1UYktFZlZJcHFTcH5RcYJRdodYeYtbfJBcfJFde5Fdd4paanZRAG18WnSCYIKObYuYd4yZeYSQeHmDeXNxc2BYWmZkXIKMcJWmeaGyfaa3gaW4fqW5e6W5e6e7fqS1fZaldACit3umu4Cou4eesY2Lm4xseX1eaXp6f5GFhpJ+gYt0foJ+jIabqpawwp+6zZ+7zp26zpu6zZy4ypqzxpcAqcF6qcF9lqx5an1wSFZoMz5cMz1dZGuFk5isipCjV2B3PUhgUl5qfY58pbqLscePssiOssePscaOr8aMAKK4caC1c36QakBMUyErRyApSCQtTElRbYaNo42Up1ZedCUvSSIrQUtYU4uecaa6fae6e6e5e6e6e6W6eQCXrmOTqWZre1wuN0IWHTIZIDccJD8yOlVsc4qGjZ9YYHUjK0IWHjI3QEJ7iWegr3eisXelsHqns32otH4AhJtWf5VZV2hRJC06ERcpExgpFRsxIShATlRrcniMUFdsICY6ERgpKjE3aXhXlqdpnattn6txoK5zn65xAHCGVWuBVUlYSx8nNg8UJhAUIhIXKhgeMzc9U1xid0dNYRwiNA4TJCAmLltpSI6gW5apXpSoXZSpXJOpWiYOfr7ogRSPAAAAAElFTkSuQmCC","dimensions":{"_type":"sanity.imageDimensions","width":959,"aspectRatio":1.4868217054263566,"height":645},"url":"https://cdn.sanity.io/images/dgybcd83/production/e06b9127a575458c274a99e0e9b3962578655626-959x645.png","_type":"imageAlt","_key":null,"alt":null},"_id":"48c9692e-122d-4206-8fe6-8e7fe55e071c","name":"Ciamac Moallemi","slug":"ciamac-moallemi","tags":[{"_id":"d8eaf825-6396-4f7b-8d9b-bc15df7fab3f","slug":"collaborators","title":"Collaborators","subTags":null}],"links":[{"url":"https://moallemi.com/ciamac/","openInNewWindow":true,"_type":"link","_key":"d7a917e88c0a","title":"Personal"},{"url":"https://www.linkedin.com/in/ciamacmoallemi/","openInNewWindow":true,"_type":"link","_key":"b4e0825f030e","title":"LinkedIn"},{"openInNewWindow":true,"_type":"link","_key":"fa1315135d3b","title":"Twitter","url":"https://twitter.com/ciamac"}],"title":"Research Advisor"},{"title":"General Partner","hideOnAll":null,"biography":[{"_key":"ca41d7fa7bd6","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Dan Robinson is a General Partner at Paradigm, focused on crypto investments and research into open-source protocols. Previously, Dan was a protocol researcher at Interstellar. Before Interstellar, Dan practiced as a litigation attorney at Paul, Weiss, Rifkind, Wharton \u0026 Garrison LLP. He earned a J.D. from Harvard Law School and an A.B. from Harvard University.","_key":"0bff70e7fa0f0"}],"_type":"block","style":"normal","asset":null}],"portrait":{"lqip":"data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAUHCAL/xAAkEAABBAEEAgIDAAAAAAAAAAABAAIDBAUGERITBzEhYVFyof/EABcBAAMBAAAAAAAAAAAAAAAAAAACAwH/xAAZEQEBAAMBAAAAAAAAAAAAAAABAAISMVH/2gAMAwEAAhEDEQA/ALBrUhHj5pNw14YSCT8A7KA0NWdZys8gyTrMMkXJ8L38uL9/Y+lUXm3Wt859uHpW5IaUTB2tjdtzJ97qCz+dt4Ovi7GItyV5mjkCw7bj7/KEVGvuAiWm7WODZnABFH6M1IzP6Yx+Rlc3uliHZ+w9ontGyd5De6TWGSe87u7QFxquRzq+PBPqJES0fa2PElydmjIGteeIkeB/ERExVx5f/9k=","dimensions":{"_type":"sanity.imageDimensions","width":4991,"aspectRatio":1,"height":4991},"url":"https://cdn.sanity.io/images/dgybcd83/production/d8aee6ceefc3025593928dc9142f25903563fb7c-4991x4991.jpg","_type":"imageAlt","_key":null,"alt":null},"_type":"teamMember","_key":"636d08615b14","slug":"dan-robinson","_id":"8a786bd2-8bdc-4935-b8c3-85b32d9a5980","tags":[{"_id":"e7cc8e78-9951-4bd0-9359-2de52c2c71e0","slug":"leadership","title":"Leadership","subTags":null},{"_id":"5f451f5f-7e63-41bf-94e2-e9086936db67","slug":"investing-and-research","title":"Investing \u0026 Research","subTags":null},{"_id":"d653d2da-dd5c-436c-96f1-3468da8fc86a","slug":"sort-priority-5","title":"(Sort Priority) 5","subTags":null}],"links":[{"_type":"link","_key":"6738ffc28bba","title":"LinkedIn","url":"https://www.linkedin.com/in/danielprobinson/","openInNewWindow":true},{"_key":"44c9b840cad2","title":"Twitter","url":"https://twitter.com/danrobinson","openInNewWindow":true,"_type":"link"},{"_type":"link","_key":"8ad39bdaa28b","title":"Warpcast","url":"https://warpcast.com/danrobinson","openInNewWindow":true}],"name":"Dan Robinson"}],"summary":"Introducing pm-AMM: an automated market maker designed for prediction markets. We introduce a new methodology for deriving AMMs for particular assets, and apply it to prediction market tokens, creating an AMM that may provide more consistent liquidity and reduce the risk of losing everything.","featuredImageCaption":null,"content":[{"_type":"richTextBlock","_key":"fec48ad91327","content":[{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Introduction","_key":"6905b5eab6020"}],"_type":"block","asset":null,"style":"h2","_key":"1c61e0b1f2f9"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"In this post, we introduce a new automated market maker (AMM) customized for prediction markets: the ","_key":"c53d2413aac10"},{"_key":"c53d2413aac11","_type":"span","marks":["strong"],"text":"pm-AMM."}],"asset":null,"_type":"block","style":"normal","_key":"268cb3f4fcd8"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"AMMs and their predecessors, such as market scoring rules, were originally invented as a way to provide liquidity for prediction markets.  They now dominate most decentralized exchange volume in crypto.","_key":"e862bfa5ec9f0"}],"_type":"block","style":"normal","_key":"523171abbee3","asset":null},{"_key":"86f65f716792","markDefs":[],"children":[{"_type":"span","marks":[],"text":"But ironically, despite prediction market volumes taking off in crypto, ","_key":"27a706f791f1"},{"_type":"span","marks":["em"],"text":"most of it uses orderbooks, not AMMs","_key":"3827c0ea2ed3"},{"_type":"span","marks":[],"text":".","_key":"d05dca68fbea"}],"_type":"block","asset":null,"style":"normal"},{"children":[{"_key":"4fbab0df28c2","_type":"span","marks":[],"text":"One possible reason is that existing automated market makers are a poor fit for outcome tokens (tokens that resolve to $1 if an event occurs and $0 if it does not occur). The volatility of outcome tokens is dependent on the current probability of the event and the time until the prediction market expires, meaning that the pool provides inconsistent liquidity. Liquidity providers (LPs) are also essentially guaranteed to lose all of their value once the prediction market expires."}],"_type":"block","style":"normal","_key":"f0c5f09710f0","markDefs":[],"asset":null},{"_key":"a700b6bd9092","markDefs":[],"children":[{"_type":"span","marks":[],"text":"We present a new AMM optimized around these considerations. This required addressing a longstanding question in AMM research: what does it mean for an AMM to be optimized for a particular type of asset? In other words, given a model for some asset (such as an option, a bond, a stablecoin, or an outcome token), how should that affect what AMM we use for it? We present a possible answer to this question, based on the concept of loss-vs-rebalancing (LVR).","_key":"21d085121d1c"}],"_type":"block","style":"normal","asset":null},{"_type":"block","style":"h2","_key":"90ef7fa55727","asset":null,"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Contributions","_key":"e4e407820055"}]},{"_key":"8315ed984547","markDefs":[],"children":[{"text":"We develop a model for the price processes of some outcome tokens, which we call ","_key":"a9d7f808a2880","_type":"span","marks":[]},{"_type":"span","marks":["strong"],"text":"Gaussian score dynamics","_key":"29bc215fe1cd"},{"_type":"span","marks":[],"text":". This model is a potential fit for prediction markets on whether some underlying random walk (such as the score difference of a basketball game, the vote margin in an election, or the price of some asset) will be above some value at a particular future expiration time.","_key":"46cbafd8c859"}],"_type":"block","style":"normal","asset":null},{"style":"normal","_key":"8e557e0e070a","asset":null,"markDefs":[],"children":[{"_type":"span","marks":[],"text":"We use this model to derive a new invariant-based AMM for those tokens, the ","_key":"ac407ad60c81"},{"_type":"span","marks":["strong"],"text":"static pm-AMM invariant","_key":"78ffebe5d0c9"},{"text":":","_key":"ebe185791a93","_type":"span","marks":[]}],"_type":"block"}]},{"_type":"mathBlock","_key":"12888ee18de8c9392f1ad07cd7c0afd7","content":"(y - x) \\Phi\\left( \\frac{y - x}{L} \\right)\n  + L \\phi\\left( \\frac{y - x}{L} \\right)\n  - y = 0,"},{"_type":"richTextBlock","_key":"755120485abfd9ee98d460bee7763a46","content":[{"markDefs":[{"_type":"math","math":{"_type":"latex","body":"\\phi"},"_key":"de952314bc84"},{"_type":"math","math":{"body":"\\Phi","_type":"latex"},"_key":"24f93e0e1e31"},{"_type":"math","math":{"_type":"latex","body":"x"},"_key":"9afefaf09a09"},{"math":{"_type":"latex","body":"y"},"_key":"fdd65bf58dc6","_type":"math"},{"_type":"math","math":{"_type":"latex","body":"L"},"_key":"d3741b63b57f"}],"children":[{"_key":"31495b50dc2d","_type":"span","marks":[],"text":"where "},{"marks":["9afefaf09a09"],"text":"x","_key":"cb74e3ac04b7","_type":"span"},{"_type":"span","marks":[],"text":" is the AMM's reserves of one outcome token, ","_key":"e65b0aa09168"},{"text":"y","_key":"08f73bcc1d00","_type":"span","marks":["fdd65bf58dc6"]},{"_key":"62d6995327d3","_type":"span","marks":[],"text":" is its reserves of the opposite, complementary outcome token, "},{"_key":"ba71d526ac05","_type":"span","marks":["d3741b63b57f"],"text":"L"},{"_type":"span","marks":[],"text":" is an overall liquidity or scaling factor, and ","_key":"28ebe63a71c8"},{"_type":"span","marks":["de952314bc84"],"text":"phi","_key":"58edf0154dd1"},{"marks":[],"text":" and ","_key":"7c2ea8158b9d","_type":"span"},{"_type":"span","marks":["24f93e0e1e31"],"text":"Phi","_key":"8425b6e55646"},{"_type":"span","marks":[],"text":" are the probability density function and cumulative distribution function of the normal distribution, respectively.","_key":"14db342503b7"}],"_type":"block","asset":null,"style":"normal","_key":"5d3c6aa35e7c"},{"style":"normal","asset":null,"_key":"46bd5e1e65f0","markDefs":[],"children":[{"marks":[],"text":"","_key":"0feccf83c834","_type":"span"}],"_type":"block"},{"markDefs":[{"_key":"f9ea2ce5e28a","_type":"link","href":"https://arxiv.org/abs/2208.06046"}],"children":[{"marks":[],"text":"To derive this, we make use of the powerful concept of ","_key":"d38b7a8aae5f0","_type":"span"},{"_type":"span","marks":["f9ea2ce5e28a"],"text":"loss-vs-rebalancing","_key":"fc6ef1034e2d"},{"_type":"span","marks":[],"text":" (LVR), which can be thought of as the rate at which an AMM loses money due to arbitrage. Loss-vs-rebalancing depends on both the shape of the AMM and the price process for the underlying assets traded on it. ","_key":"9f9ee78c4653"}],"asset":null,"_type":"block","style":"normal","_key":"ce08105340ca"},{"markDefs":[],"children":[{"marks":[],"text":"","_key":"7692f4f55d32","_type":"span"}],"_type":"block","style":"normal","_key":"804fe84e00f7","asset":null},{"style":"normal","_key":"df43a7c69317","markDefs":[{"_key":"e561accb3b23","_type":"link","href":"https://arxiv.org/abs/2208.06046"},{"href":"https://app.uniswap.org/whitepaper.pdf","_key":"bbc2f2e26998","_type":"link"},{"_type":"link","href":"https://wikibitimg.fx994.com/attach/2021/05/212595670202/WBE212595670202_14467.pdf","_key":"67e67c03ad91"}],"children":[{"_key":"c612e99fc066","_type":"span","marks":[],"text":"We define a "},{"_type":"span","marks":["strong"],"text":"uniform AMM","_key":"dbafbb42f477"},{"_type":"span","marks":["em"],"text":" ","_key":"83ecba698fec"},{"_type":"span","marks":[],"text":"for an asset as the AMM which, if used for that asset, has LVR that is proportional to its portfolio value at an instant of time, regardless of the current price.  ","_key":"6b11733f1646"},{"_type":"span","marks":["e561accb3b23"],"text":"Milionis, et al.","_key":"15aed0d0edbc"},{"_type":"span","marks":[],"text":" establish that constant geometric mean market makers (like ","_key":"8ec6ad2f60eb"},{"_type":"span","marks":["bbc2f2e26998"],"text":"Uniswap","_key":"3f00275b0535"},{"_type":"span","marks":[],"text":" and ","_key":"553d085e0842"},{"marks":["67e67c03ad91"],"text":"Balancer","_key":"b3a7909d8c39","_type":"span"},{"marks":[],"text":") are the unique uniform AMMs for assets whose prices follow geometric Brownian motion (a popular model for the price process of ordinary assets like stocks and cryptocurrencies). The static pm-AMM is a uniform AMM for assets that behave under our model of Gaussian score dynamics for outcome tokens.","_key":"6869b343f163","_type":"span"}],"asset":null,"_type":"block"},{"_key":"62dd90c343fb","markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"433058def0ed0"}],"_type":"block","style":"normal","asset":null},{"_key":"df73f5a471e9","markDefs":[{"_key":"100b83a11d75","_type":"math","math":{"body":"T - t","_type":"latex"}}],"children":[{"_type":"span","marks":[],"text":"While the static pm-AMM has uniform LVR (as a fraction of portfolio value) for all prices, LVR will still increase as the expiration of the prediction market approaches. This is because prediction markets can be very volatile near expiry. We show how the pm-AMM can be tweaked to reduce its liquidity over time, so that the AMM’s expected LVR at all moments over the remaining time to expiration is constant. This gives us the ","_key":"3740ed21d4240"},{"_type":"span","marks":["strong"],"text":"dynamic pm-AMM invariant","_key":"91626cd53bc7"},{"marks":[],"text":", which is dependent on the time to expiration ","_key":"1dbd4b707f81","_type":"span"},{"_type":"span","marks":["100b83a11d75"],"text":"T - t","_key":"2a4a6da72f4a"},{"_key":"e7b2d5a7a065","_type":"span","marks":[],"text":":"}],"_type":"block","style":"normal","asset":null}]},{"_type":"mathBlock","_key":"c405816cb188806d6967b7ca80d3d673","content":" (y - x) \\Phi\\left( \\frac{y - x}{L\\sqrt{T - t}} \\right)\n  + L\\sqrt{T - t} \\phi\\left( \\frac{y - x}{L\\sqrt{T-t}} \\right)\n  - y = 0."},{"_type":"richTextBlock","_key":"6ee3637a1980441c7a359825998b66df","content":[{"_type":"block","style":"normal","_key":"b92c890e4b22","markDefs":[],"asset":null,"children":[{"_key":"bfdd8d1403fe","_type":"span","marks":[],"text":"The dynamic pm-AMM isn't magic—it prevents LVR from increasing as expiration approaches by providing a decreasing amount of liquidity. This may not necessarily be desirable on a real pool, particularly because non-arbitrage trading activity (and thus fees) may increase over time as well. But the pm-AMM provides a framework for liquidity providers to adjust their liquidity over time based on expected fees and how they want to allocate their exposure to arbitrage."}]},{"style":"normal","_key":"7e30f0286976","asset":null,"markDefs":[],"children":[{"_key":"bcb3c4e93c92","_type":"span","marks":[],"text":""}],"_type":"block"},{"style":"normal","_key":"56d9afc99fa5","asset":null,"markDefs":[],"children":[{"_type":"span","marks":[],"text":"These AMMs may be useful for bootstrapping passive liquidity on onchain prediction markets. The concept of uniform AMMs, and the methodology for finding them, may also be more widely applicable for decentralized exchange designers looking to customize AMMs for other types of assets whose behavior does not follow geometric Brownian motion, such as stablecoins, bonds, options, or other derivatives.","_key":"4b774731521b0"}],"_type":"block"}]},{"caption":null,"description":null,"_type":"imageBlock","_key":"b9506a647e22","image":{"url":"https://cdn.sanity.io/images/dgybcd83/production/1d47cc565d0540e7bb8bd6373754cdacb815f77c-1045x1023.png","_type":"imageAlt","_key":null,"alt":null,"lqip":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACzElEQVR4nKWUzWsTQRjGZ5vN526yadOmpmlsiZVCD/UQkN720CgBg6GHQbRbgq2k7SxjutkuiakwYKRNiLEWqlAQBI8LgngoiIe9BQ8Be+jdk3/HyOSjpjSJ1T7wQGB3f+/7zPtmAGiJAwDYengInBfX9l/Fh0IhDwDA3Tb77QIA2DsASgFnQmCDrUIDoUOyLIuLi4uBO/PzQhvE7OwGWkTmdWVcWFhoFmTQPorF7Mnkw1H8ZHmyqigCAITF7LjTCYcT2JlKpfyzs7Pe7kIXJcv80pIS1BGaOkRI7PEGC8wlZg6c8q2sf2bktq99LI52p9x5OIS2lRU1kH+aud4fCLgETjjjMC5Fo1EJAMDeE7qgtj8DZEBVDWTz69MVY5XF6SnZAnyIhDwgBrqHZ2cDbbsFhNC0ZUhudLuEb5TzGVa9T2rAARPYADzX0dCFyJRSTt1VA89fGDd3C2qAXNy9f9xDCrj0h6y/QAozb56tjbP1uOzy9gUuH2NfYW8r+nprK2RC6KBXBSonipB7uxkpalq4BjX3lYAUUC5tEdfGp42gWlEnCMY+E8IB/4RLiJwSR/pH2v/YhGOErI0cY+z87y4poFyj0bCjUyTCRlwqvLs3/L5y33uME07WKXve8tmEBxeilHLUonytXnMnf8U80JoTy2Zc2is8Gi5n8tJHRRcOEpjBHUeZmJ1tASUDVovSVodm3XSTn8SVbCQ9y98TPnwAx4rF9XApl4tUVGPicBtdq+pKcLewEtjPpv2fDcNrIiKaCIk1TXOfnXuzQ0r5er3uZrZ+Wq7qSVXIfMtIuS+5Ua2mhXeq+lR+Lz+NdtAUxnjypVYMv9osRZhLD3IRfWkjSOS06+zcO1AW3bIs3qIWf9Q4srNhaabm1r/qAjKJqFR1ASEkGquGNw/LEknt+9fuaiPxGJTgHGQXRU9dZrocu9JadyeL2ozb/O43fuXudcuhDZYAAAAASUVORK5CYII=","dimensions":{"width":1045,"aspectRatio":1.021505376344086,"height":1023,"_type":"sanity.imageDimensions"}}},{"_type":"richTextBlock","_key":"999fd3eccbe0","content":[{"asset":null,"_key":"d1e1abc3f53a","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Figure 1 shows the invariant curves for the static and dynamic pm-AMMs, compared with other well-known invariant curves, namely for the constant product market maker (CPMM) and logarithmic market scoring rule (LMSR). Note that the reserves curve for the dynamic pm-AMM provides less liquidity over time.","_key":"16ae2a3d440f"}],"_type":"block","style":"normal"}]},{"_type":"imageBlock","_key":"89112782c727","image":{"alt":null,"lqip":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB10lEQVR4nI2SwWsaQRTGn+7GdWc0Jm6qLHj0nEsIlFKY04KHbSEHIdCEUoSBKBLsErSnd2sti6AYFhYPQXObQyoehCWHvXny2FMvhf4jU3aVsqEeHPgxw8fMx5v3PoDNSgGAskXdQVJPwx5LAYAsAOgAQACAJnY9oUcc7GOqAEAGALSEcdYEk5yWLfrGeJ+PMOFsP0MJkEIGaoig+hwO2rWqhjYn/bNuAV8Pir3zsdE7/2r03n47di2HCqxnpAAlRkJayrhlCUOE9K9RVVujTQTWc97NzbF34ZSG776Ux9c94+Hj7dGk0Sh6F1gaXm60x/aHw8Cx6G9k2RCZ+sI0ZKiK5n1uej023CuvNLyclEefRq/8br+w8JGsREf/Iwb6/O57ftKYFL3tHZ/7J4L3C8t2W8NkG0IM1fndPD9tPRvT1pMhus+FYBbQ1WqlRwRBQNfrBYnPs4A+4vJw3Hoy/M+Lk4fbH0eDekdnjEUJ2FQppUyFKNVRe6kJFJkwDFUphSKlVH4KzMzcK9rEZs5yXMo5Et9Gcs8w51gu5TYntWotGuauQcmXzY0UAYroVHTLOqWmzYlp2oTDhgpU4jRs8/nf290JkJASdVDiLzFUAZjKtiRC/6+6v6eroWL3vIrUAAAAAElFTkSuQmCC","dimensions":{"height":497,"_type":"sanity.imageDimensions","width":1045,"aspectRatio":2.10261569416499},"url":"https://cdn.sanity.io/images/dgybcd83/production/d1b47f5d071c96523737a486227d6ce4f60c7078-1045x497.png","_type":"imageAlt","_key":null},"caption":null,"description":[]},{"_type":"richTextBlock","_key":"15b0a0926649","content":[{"markDefs":[{"_type":"math","math":{"body":"y","_type":"latex"},"_key":"0af6d53664b7"},{"_type":"math","math":{"_type":"latex","body":"x"},"_key":"352eefbb240a"},{"_type":"link","href":"https://www.paradigm.xyz/2021/06/uniswap-v3-the-universal-amm","_key":"d43e720e5d97"}],"children":[{"_type":"span","marks":[],"text":"Figure 2 shows the ","_key":"d6df607e48b1"},{"_type":"span","marks":["d43e720e5d97"],"text":"liquidity fingerprint","_key":"c5ef07c036fd"},{"_type":"span","marks":[],"text":" of the static pm-AMM, showing what it would look like if the invariant was implemented on a Uniswap v3 concentrated liquidity AMM, as compared to the CPMM and LMSR. The horizontal axis corresponds to ticks in relative price (the price of the ","_key":"8564e9108cf1"},{"_type":"span","marks":["352eefbb240a"],"text":"x","_key":"27e8df2e8fda"},{"_type":"span","marks":[],"text":" token divided by the price of the ","_key":"eb80e1b881d9"},{"_type":"span","marks":["0af6d53664b7"],"text":"y","_key":"24a17b6b1e46"},{"_type":"span","marks":[],"text":" token) on a logarithmic scale, while the vertical axis corresponds to how much liquidity each AMM places at that price level. Notice that relative to both alternatives, the pm-AMM concentrates more liquidity around a relative price of 1 (a probability of 50%, where the tokens' prices are equal at 0.50), and less liquidity at extreme relative prices (either very low or very high).","_key":"2cd3c007e61d"}],"_type":"block","style":"normal","_key":"1bd08b65020c","asset":null}]},{"_type":"richTextBlock","_key":"781ca40ec7ff","content":[{"_type":"block","style":"h2","_key":"5732311dde62","asset":null,"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Background","_key":"4b7dcd68c2140"}]},{"_type":"block","style":"h3","_key":"dbcf29d444ad","markDefs":[],"asset":null,"children":[{"_type":"span","marks":[],"text":"Prediction markets","_key":"8df4860bd35d0"}]},{"style":"normal","_key":"7917512db702","asset":null,"markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"f699d30b2849"}],"_type":"block"},{"children":[{"_type":"span","marks":[],"text":"Prediction markets are an increasingly popular application in crypto. ","_key":"05c66e5f494a0"},{"_key":"038406f96e34","_type":"span","marks":["f8dd120bfbd3"],"text":"Polymarket"},{"text":" saw over $2 billion in volume in just October 2024.","_key":"695aa50dcad2","_type":"span","marks":[]}],"_type":"block","style":"normal","_key":"f9b614f21fc1","markDefs":[{"_type":"link","href":"https://polymarket.com/","_key":"f8dd120bfbd3"}],"asset":null},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"2d0deed7116c0"}],"_type":"block","style":"normal","_key":"611f1a1e8ec3","asset":null},{"_type":"block","style":"normal","_key":"27eebeadf8de","markDefs":[],"children":[{"_type":"span","marks":[],"text":"However, most crypto prediction market liquidity is available on orderbooks, rather than AMMs, despite AMMs being dominant for most other decentralized exchange volume across crypto.","_key":"5df43766637a0"}],"asset":null},{"style":"normal","_key":"ffe212289aef","markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"b803d304c884"}],"_type":"block","asset":null},{"style":"normal","_key":"d3821e5e65ba","markDefs":[],"children":[{"marks":[],"text":"One possible reason is that outcome tokens don’t behave like ordinary assets, so AMMs designed for them don’t work very consistently.","_key":"221d1e559888","_type":"span"}],"_type":"block","asset":null},{"style":"normal","_key":"4a43e508408a","markDefs":[],"children":[{"text":"","_key":"87dd38def9310","_type":"span","marks":[]}],"_type":"block","asset":null},{"_type":"block","style":"normal","_key":"871feea412f5","markDefs":[{"_type":"math","math":{"_type":"latex","body":"x"},"_key":"01ebedd6383f"},{"math":{"body":"y","_type":"latex"},"_key":"c7a2798f96df","_type":"math"}],"children":[{"_type":"span","marks":[],"text":"For example, imagine a prediction market on the result of a game in which someone flips a coin 1,001 times. There are two tokens corresponding to each outcome of this game: ","_key":"a38726be1b290"},{"marks":["01ebedd6383f"],"text":"x","_key":"a53bc88245fb","_type":"span"},{"text":" tokens resolve to $1 if there are more heads than tails, and $0 if there are more tails than heads; vice versa for ","_key":"3c63b095cd1b","_type":"span","marks":[]},{"_key":"a38726be1b293","_type":"span","marks":["em","c7a2798f96df"],"text":"y"},{"_type":"span","marks":[],"text":" tokens.","_key":"a38726be1b294"}],"asset":null},{"_type":"block","asset":null,"style":"normal","_key":"5323e0953e2b","markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"9702144a03b7"}]},{"markDefs":[],"children":[{"_key":"da429de80ff8","_type":"span","marks":[],"text":"The volatility of these outcome tokens is highly dependent on both the number of flips remaining and the current score. The closer the current score is to even, and the fewer flips remain, the more volatile these tokens will be. This means that the losses of a constant product market maker, which as discussed below are dependent on volatility, will vary wildly over time."}],"_type":"block","style":"normal","_key":"9f4444965f00","asset":null}]},{"_key":"bc9a0dc459d6","image":{"url":"https://cdn.sanity.io/images/dgybcd83/production/dc606b34cf7ec25e47956af1ab8c3024510c5f7e-1045x1088.png","_type":"imageAlt","_key":null,"alt":null,"lqip":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSElEQVR4nI1UQYvbVhAeWZKlJ8lrEzaEwBZfBAEfejGUZS+61MWHdEMP7xAILElBB4MJiimmp7k0sEtQNgL3oJQi2BAK72R0EPikm0465OxLoX/khbElV7vumg586Gm+8efRzLwB2JoCACoAaHfwX74mWnCPEckqWABgV2ezem/6rYZPr5K5Za1+v28Oh0PLdV0DAGq0qx+0G7jLq3uCnudpo9HIDoKACSHqgCZaHLhKqD7xLg97gr7vW2EYMinlrZpIwFYMsS5AtAnb80Z4X6g2RGwJIdpZlhlVhmSKBKFmkBkCQpZDYtbIIDJyQO1eUSmlUpal3hBUEFDbCuRmlaFKoHMtTDH/S5AD32VGAgBCBZStDUBWJQhZAolJJYFDgjnmmgBspxBb2E/MARdtGGcGXCQmwR1nBvkiNzOKE8FKiHUJUtmrYRRFRlEULIsyY/Xtjb0YCOepn1pDTK3TQLAaPCgY+Yi7Ga3scphaEqVGSe0JpmlqFUHBlmfLzi/ny85otrKDMGRJcmHmDZCPuFevlh2KXY/X29rLqkmkHpexXoiC0b9enS07k8nCCcOA/Z14pkz65j/hCatBPuL4ZOHgd5+O0mFqCb6bjq2glFL7MlvZl9+Lrs8vuwvkzkZMDNplDLoUoBJKH/R15BrEUcycX3bR/XREtWx0BZQyLnXhiy4+jY+vX1/0ivCEyRw0ibubUZtCPuIoJp77XfwhfBA/jq1bzaFm/DkVDz/8/PaRQM+RCJo8cBuIyxE0io1e/vrw2kt6CPlu2JXV7Mb+OP148vkNHpfxUD8k1hSl2D+C4MGHH98+Ck5D2j7KpsvJ6+veX29+/ybB616e55oUQhUHgIgaIY5jPZ7Pu+9/+u3x1flVB2nQN3d5snA+Y3wsFsLJsrVBQ75eZ0a23j5pcSR5biZ5YiZJbuIEnckEndnsnT335118jsfvXsxs0tp8MnqoCRRtyo4yyBG1svR1mrssmhrT6dQ4DQLGg5B5F2iePznvPOs/643d8dHZk7OON/AcPuC0H+9ZGACKEKDm2DcFH7RpxcF4avQ9NGHo6x545gxe2BxOmQuuMfh32R4outyKYj06nKuwGWBsUa1o+2xqtl26u/H6CsuKm8rp8Z4JAAAAAElFTkSuQmCC","dimensions":{"width":1045,"aspectRatio":0.9604779411764706,"height":1088,"_type":"sanity.imageDimensions"}},"caption":"Figure 3 shows the volatility of the outcome token price process under Gaussian score dynamics—where the event is determined by whether a certain random walk ends up above zero—as a function of the token price and the remaining time.","description":null,"_type":"imageBlock"},{"_type":"richTextBlock","_key":"c14d3b8280544356fd8622042c46087c","content":[{"_key":"e0f73648a3f2","markDefs":[],"asset":null,"children":[{"text":"Many popular prediction markets could loosely be thought of as similar to this coin-flipping example—a bet on whether some random walk ends above or below 0 at some future expiration time. For example:","_key":"45eceb7c5be4","_type":"span","marks":[]}],"_type":"block","style":"normal"},{"children":[{"_type":"span","marks":[],"text":"A prediction market on the result of a live basketball game, expiring once the remaining game time hits 0. In this example, the random walk is the score difference between the teams.","_key":"c74a68a45cc1"}],"level":1,"_type":"block","asset":null,"style":"normal","_key":"d676fbc76186","listItem":"bullet","markDefs":[]},{"children":[{"_type":"span","marks":[],"text":"A prediction market on the result of a Presidential election, expiring on Election Day. In this example, the random walk could be thought of as the difference in the number of voters who intend to vote for the candidate.","_key":"5faf70c0e012"}],"level":1,"_type":"block","style":"normal","_key":"d6f4b6432b1e","listItem":"bullet","asset":null,"markDefs":[]},{"_key":"807d7e863763","listItem":"bullet","asset":null,"markDefs":[],"children":[{"_type":"span","marks":[],"text":"A prediction market on whether the price of an asset like Bitcoin is above a certain strike price on a future date. In this example, the random walk could be the logarithm of the current Bitcoin price minus some strike price.","_key":"ef86fe88a6b4"}],"level":1,"_type":"block","style":"normal"},{"markDefs":[],"children":[{"text":"In this post, we define a model for the price evolution of outcome tokens—the ","_key":"6381451c4258","_type":"span","marks":[]},{"_type":"span","marks":["strong"],"text":"Gaussian score dynamics","_key":"8f7642375f60"},{"_type":"span","marks":[],"text":" model—inspired by examples like these. The model assumes that the prediction market price matches the probability that some underlying Brownian motion ends above 0.","_key":"11b0266776c8"}],"_type":"block","style":"normal","_key":"a50922087f5c","asset":null},{"style":"normal","_key":"75313aefd326","asset":null,"markDefs":[],"children":[{"text":"","_key":"dcb74a94c1eb","_type":"span","marks":[]}],"_type":"block"},{"asset":null,"_type":"block","style":"normal","_key":"2446d61924ee","markDefs":[],"children":[{"_type":"span","marks":[],"text":"This model resembles the Black-Scholes model for a binary option (an instrument that pays out a fixed dollar amount if an asset's price is above some strike price, and $0 if it is not). However, in our model, there is no requirement that the underlying process corresponds to the price of a tradeable asset.","_key":"b5731b408718"}]},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"89cba3764deb"}],"_type":"block","style":"normal","asset":null,"_key":"002893c5bd29"},{"asset":null,"markDefs":[],"children":[{"_key":"1da302381edb","_type":"span","marks":[],"text":"We do make the simplifying assumption that the price of the outcome token matches the probability that it resolves to $1. This assumes away important features of the market, including risk and time preferences—examining how those affect this model is a subject for future study."}],"_type":"block","style":"normal","_key":"5b9d98effbab"},{"style":"normal","_key":"5e45b6ab28b0","markDefs":[],"children":[{"marks":[],"text":"","_key":"6d10999e545c","_type":"span"}],"_type":"block","asset":null},{"asset":null,"markDefs":[],"children":[{"text":"We should also that not all prediction markets are a good fit for the Gaussian score dynamics model, which assumes that the rate at which new information comes out is predictable. For example, basketball games are likely a better fit than soccer games, since scoring is much more frequent, so the evolution of the score differential is more consistent over time. And some types of prediction markets won’t resemble this model at all, such as prediction markets on whether some one-time surprising occurrence (like an earthquake) will occur before a particular date. But this model may be a useful starting place for deriving models for those other dynamics, and can serve as a demonstration of the methodology for deriving uniform AMMs for any model.","_key":"cce73384d96d","_type":"span","marks":[]}],"_type":"block","style":"normal","_key":"87c43f70937b"},{"_key":"ea5de65fd4ce","markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"3c03cd437a54"}],"_type":"block","asset":null,"style":"normal"},{"_key":"7abd24daf3af","asset":null,"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Loss-vs-rebalancing and uniformity","_key":"1af0ec1c6b89"}],"_type":"block","style":"h3"},{"asset":null,"children":[{"_type":"span","marks":[],"text":"","_key":"f58414fa9f72"}],"_type":"block","style":"normal","_key":"b5ebe6ffb8b0","markDefs":[]},{"style":"normal","_key":"3d190a81ac50","markDefs":[],"children":[{"text":"After specifying this model, we derive an automated market maker that may be better optimized for these tokens than existing AMMs like the constant product market maker or LMSR. The metric we use as a guide is the rate of expected losses for liquidity providers, which can be characterized as “loss-vs-rebalancing,” or LVR.","_key":"e1c605013f1e","_type":"span","marks":[]}],"_type":"block","asset":null},{"children":[{"text":"","_key":"fbea0979f527","_type":"span","marks":[]}],"asset":null,"_type":"block","style":"normal","_key":"d3c7168b6ec3","markDefs":[]},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"LVR captures the main adverse selection costs of an AMM: prices on an AMM are static in the absence of trade, and become stale as new information becomes known. LVR captures the costs that AMM liquidity providers suffer as these stale prices are picked off by better informed arbitrageurs who trade against the AMM at prices which are disavantageous for the AMM. Thus, LVR can be viewed as how much the AMM pays to arbitrageurs in order to have its prices corrected.","_key":"d9c106b16ebd"}],"_type":"block","style":"normal","_key":"c792c18692b4","asset":null},{"_type":"block","style":"normal","_key":"f9aead736e47","markDefs":[],"children":[{"text":"","_key":"2e56e6f5acbc","_type":"span","marks":[]}],"asset":null},{"_key":"e34a8d62eb1e","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Furthermore, absent trading fees, LVR is also the loss incurred by a liquidity provider who delta-hedges their LP position by separately holding a short position in the exact same quantity of the tokens owned as part of the pool reserves.  In this way, LVR builds on the main insight of the famous Black-Scholes model for option pricing: just as an option is valued by delta-hedging with the underlying asset to remove market risk, LVR values an LP position in an AMM once the market risk is removed. That is, LVR isolates what is special about being a liquidity provider in an AMM, versus simply taking the market risk of holding the same tokens as the AMM reserves.","_key":"3657b24f6cfe"}],"_type":"block","style":"normal","asset":null},{"_type":"block","style":"normal","_key":"33d865d1929c","markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"787a4997502f"}],"asset":null},{"style":"normal","_key":"a1ea740d1310","markDefs":[],"children":[{"_key":"50100820f671","_type":"span","marks":[],"text":"We consider simple invariant-based AMMs, with no fees or MEV-recapturing mechanisms. In this context, the AMM is "},{"_type":"span","marks":["em"],"text":"guaranteed","_key":"3f725264642f"},{"_type":"span","marks":[],"text":" to lose money due to arbitrage—no AMM invariant can eliminate LVR (other than one that results in no trading at all). Even “minimizing” LVR doesn’t really make sense here: reducing LVR would just mean reducing the liquidity provided.","_key":"39fef414fd34"}],"asset":null,"_type":"block"},{"children":[{"_type":"span","marks":[],"text":"","_key":"41bb567cd661"}],"_type":"block","style":"normal","_key":"2d348ec63003","asset":null,"markDefs":[]},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"But we can make LVR more consistent, so that the percentage of the pool value that is lost does not depend on the current price of the asset. We call this property ","_key":"1aa8a5b8a250"},{"_type":"span","marks":["em"],"text":"uniformity","_key":"f5c0ffd56fc4"},{"_key":"eb9e56f5cf66","_type":"span","marks":[],"text":"."}],"_type":"block","style":"normal","_key":"ff33a413d1c0","asset":null},{"style":"normal","_key":"1b7d153b8d0b","markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"474206a412c3"}],"asset":null,"_type":"block"},{"_key":"6373c0102e3f","markDefs":[],"asset":null,"children":[{"_type":"span","marks":[],"text":"One way to motivate the value of uniformity is to imagine a sponsor who is willing to provide liquidity on some zero-fee prediction market in order to learn the market's prediction about the outcome. This to lose money, but would naturally prefer to spread out their losses evenly, rather than concentrating their losses at a particular time or at particular prices. In this case, the current portfolio value of the pool can be thought of as the sponsor’s “budget.” On a uniform AMM, if the sponsor puts in $1 of liquidity at some time, their expected losses in the next timestep are independent of the current state of the pool.","_key":"d5a289db697f"}],"_type":"block","style":"normal"},{"asset":null,"_type":"block","style":"normal","_key":"bbe4e3972f1d","markDefs":[],"children":[{"marks":[],"text":"","_key":"d8d21568ae0c","_type":"span"}]},{"_type":"block","style":"normal","_key":"dd344c3e01b7","markDefs":[{"_type":"link","href":"https://www.paradigm.xyz/2024/06/priority-is-all-you-need","_key":"14482a0fb670"}],"children":[{"_type":"span","marks":[],"text":"But uniformity is potentially relevant for profit-seeking liquidity providers as well. Even if an AMM is able to capture some of its loss-vs-rebalancing or even turn a profit (from non-zero swap fees, or through auction mechanisms like ","_key":"9f4f0d39317b"},{"_key":"91850ec293a0","_type":"span","marks":["14482a0fb670"],"text":"MEV taxes"},{"_key":"1fd71b55c500","_type":"span","marks":[],"text":"), it still needs some strategy for how to allocate its liquidity at different prices and different times. We might think of expected losses for the zero-fee pool as one way to measure how much liquidity the strategy is allocating at a particular time, in a way that takes into account the price process of the asset."}],"asset":null},{"markDefs":[],"asset":null,"children":[{"_type":"span","marks":[],"text":"","_key":"3b518c20020d"}],"_type":"block","style":"normal","_key":"f2cb01bd7fbd"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"We define a ","_key":"615d3929bc20"},{"_type":"span","marks":["strong"],"text":"uniform AMM","_key":"b21b3e0ec9bc"},{"_type":"span","marks":[],"text":" for a particular asset as an AMM whose expected LVR is a constant fraction of the value of the current value of the pool, regardless of the current price of the asset.","_key":"fd41d3a8cf68"}],"_type":"block","style":"normal","_key":"ab2a75ea3c21","asset":null},{"asset":null,"_key":"93b89641a7b1","markDefs":[],"children":[{"text":"","_key":"0e654e03dadb","_type":"span","marks":[]}],"_type":"block","style":"normal"},{"asset":null,"markDefs":[{"_type":"math","math":{"_type":"latex","body":"\\theta \\in (0,1)"},"_key":"5fec43997f2b"},{"_type":"link","href":"https://arxiv.org/pdf/2208.06046","_key":"11ed6cb1a581"},{"_type":"math","math":{"_type":"latex","body":"x^{\\theta} y^{1 - \\theta} = L"},"_key":"83345c590b51"}],"children":[{"_key":"be029c642f75","_type":"span","marks":[],"text":"Note that whether an AMM has uniform LVR depends on the price process of the asset itself. As shown in Appendix B.2 of "},{"_type":"span","marks":["11ed6cb1a581"],"text":"Milionis, et al.","_key":"6ad082803f1d"},{"text":", if the price of an asset follows geometric Brownian motion, then the essentially unique uniform AMM between that asset and the numéraire is the weighted geometric mean market maker with invariant ","_key":"717e40bffc43","_type":"span","marks":[]},{"_key":"eabc273ec9e6","_type":"span","marks":["83345c590b51"],"text":"$x^{\\theta}  y^{1 - \\theta} = L$"},{"marks":[],"text":", for ","_key":"cc26c939e704","_type":"span"},{"_type":"span","marks":["5fec43997f2b"],"text":"$\\theta\\in (0,1)$","_key":"cd382ca3f90a"},{"_type":"span","marks":[],"text":". This is the formula used in Balancer, and the constant product market maker used in Uniswap v2 is a special case of it. ","_key":"1eff569b7e7e"}],"_type":"block","style":"normal","_key":"984532fe7f6f"},{"markDefs":[],"children":[{"_key":"bfaaab502952","_type":"span","marks":[],"text":""}],"_type":"block","style":"normal","_key":"f878d71debcf","asset":null},{"_key":"720cda2aedbf","asset":null,"markDefs":[],"children":[{"_type":"span","marks":[],"text":"But constant-geometric-mean AMMs do not have uniform LVR for tokens that follow Gaussian score dynamics. Nor does the logarithmic market score rule (LMSR), an AMM that was originally developed for prediction markets.","_key":"7d3b20210da6"}],"_type":"block","style":"normal"},{"style":"normal","_key":"e2a9172b9dcb","markDefs":[],"asset":null,"children":[{"_type":"span","marks":[],"text":"","_key":"d764237e0aa3"}],"_type":"block"},{"children":[{"marks":[],"text":"Figure 4 shows the LVR experienced by the CPMM and LMSR when used for outcome tokens with Gaussian score dynamics at time ","_key":"7e8d43660fd5","_type":"span"},{"_key":"d2e8731b7520","_type":"span","marks":["852cb4e3a4aa"],"text":"T - t = 1"},{"_key":"36bbb38d597d","_type":"span","marks":[],"text":", compared to the uniform LVR of the static pm-AMM:"}],"_type":"block","asset":null,"style":"normal","_key":"30dbeec6a037","markDefs":[{"math":{"_type":"latex","body":"T - t = 1"},"_key":"852cb4e3a4aa","_type":"math"}]}]},{"caption":null,"description":null,"_type":"imageBlock","_key":"ca6c1e84475b","image":{"_key":null,"alt":null,"lqip":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAACuklEQVR4nKWVz2saURDHR/fprrvrLwwUIeDFk5ccBOmh8C7xFpJe3qkGoYeFbpEiS4i3ucWEbZDFEHgQkARyecceFnLyX+jBUy/+J90yq9vaqEXpwAef88avs/NDARaWAgDtFWwD2+61pcbCOAdWq4EBADmA+DU5J5hLyK+/8lmHADnSiMUQMd3tcsM5qZr1ehycWZJdQV85Z1Z9NQBDvD3M9Xp1HRHSwBGZi659h8KWTpOC08v0d0IIoSGemL7fsRCRQdNxMs6lU7y+FMWl4J9a7GCInCG69sXNRT4WdKTM4AhL98NPZUSR3VMwJWUzEwQfCi6iLYTSQEqZuX8elh/Hg0oQ9PQo+k/B6XTKnp+HZSnxgAT3zVChyMprp+h5HtUwDYhTNhqNSl+/4sEEuzQW+1iKkkD8Uurf9mmUUqCU0m4eHvIkeIdunDYCpqN/ZEp3FIMcGbquTYKISPWHWND3n6zx4Koy/jyoXJze5J2mNLE2MYJ6qG+C7iiGYsfng4p0Lotxh8no4HtPVtgLCo/ng8r4/VVl8G5Ydpqq2GuFhU3QHcVQ7OP5oPLtBE0FSvud4WQyMcIg0KfdrvHidSzlCvup41nSQfNW3OZWIZ/f8awXv2N99zrWj15PV9TdpEQkGIahTt2mkVEKtJlqZOdYM+aTmvEzrOtrBHU9Uo1spEBbG7NVwWSdaCfjYAQWTV9BvsUdrei6bRBc6+gqGyT+tiiK0rPZLLtNcG9TywxJNIoijd5vg76c2OSHpJaJ4Hw+NxLhVchHUxBPQhjqBCKatGoJ/X4/J5RYjE28j0pp9MjboJX0vU784bbnW8fHotg9OiudHZ2VWq1WgXNuQzP+4d2pZKkpApNO1Wy329abtmc1GsL+CKd5DtyuQpX+BmiPd+8BzRpyYJxzBhwZB84QOBMQP2ZCLPYL7nV3VUJgS30AAAAASUVORK5CYII=","dimensions":{"aspectRatio":0.913372582001682,"height":1189,"_type":"sanity.imageDimensions","width":1086},"url":"https://cdn.sanity.io/images/dgybcd83/production/d80d3717e7d8ed30c8be488ff38a0c15f68d9de0-1086x1189.png","_type":"imageAlt"}},{"_type":"richTextBlock","_key":"edbec95bcd92","content":[{"_key":"7969b292447b","asset":null,"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Motivated by these concerns, we develop two AMMs that are designed for prediction markets under Gaussian score dynamics—one that has uniform LVR at any given time but increasing LVR as the prediction market's expiration approaches, and one that has uniform LVR and constant expected LVR over the remaining time horizon.","_key":"20224a07dd80"}],"_type":"block","style":"normal"},{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"37e15d3f9013"}],"asset":null,"_type":"block","style":"normal","_key":"b079147a64c0"},{"style":"normal","_key":"e5d4d588ff44","markDefs":[],"children":[{"_type":"span","marks":[],"text":"As can be seen in Figure 4, the CPMM and LMSR suffer large LVR (as a fraction of pool value) when the outcome token price is at an extreme, close to zero or one. This is because, while price volatility is low around those points (cf. Figure 3), the pool value decays even faster at extreme prices. Hence, a uniform AMM should provide less liquidity at extreme prices, which is what the pm-AMM design does (cf. Figure 2).","_key":"182f314527bd"}],"_type":"block","asset":null}]},{"_type":"richTextBlock","_key":"44eca7c799b53da10b638547c008f099","content":[{"_key":"f63a08b806a3","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Prior work","_key":"adbf79509cf2"}],"_type":"block","style":"h2","asset":null},{"_key":"0eb321c255ef","markDefs":[],"asset":null,"children":[{"_type":"span","marks":[],"text":"","_key":"8a2eb4d0ebbf"}],"_type":"block","style":"normal"},{"_key":"003815afaefa","asset":null,"markDefs":[{"href":"https://mason.gmu.edu/~rhanson/mktscore.pdf","_key":"786529201cc9","_type":"link"},{"_type":"link","href":"https://app.uniswap.org/whitepaper.pdf","_key":"52fe961493e7"}],"children":[{"_type":"span","marks":[],"text":"AMMs have their origin in the world of prediction markets and market scoring rules, such as the","_key":"4d3056c99f77"},{"_type":"span","marks":["786529201cc9"],"text":" logarithmic market scoring rule (LMSR)","_key":"4dad89ad30df"},{"text":". These rules motivated the discovery of constant function market makers (CFMMs), such as ","_key":"7a1e7b4d1921","_type":"span","marks":[]},{"_type":"span","marks":["52fe961493e7"],"text":"Uniswap v2","_key":"0c2d27554d5e"},{"_type":"span","marks":[],"text":", which are often characterized by an invariant relationship between the AMM's reserves of each asset. AMMs based on this design have emerged in recent years as the dominant market mechanism for decentralized exchange on blockchains.","_key":"b53c6e5f9527"}],"_type":"block","style":"normal"},{"style":"normal","_key":"d4e60dc08776","markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"5e6036639b42"}],"_type":"block","asset":null},{"markDefs":[{"_type":"link","href":"https://arxiv.org/pdf/2208.06046","_key":"c418868c0b80"}],"children":[{"_type":"span","marks":[],"text":"More recently, ideas from financial economics have been applied to understand the costs of automated market making, in the form of loss-versus-rebalancing, or LVR, as discussed in ","_key":"b78fc123bb33"},{"_type":"span","marks":["c418868c0b80"],"text":"Milionis, et al.","_key":"fd68dd6b187a"},{"marks":[],"text":" LVR captures the losses incurred by an AMM to arbitrageurs due to stale prices. That paper considers assets whose dynamics follow diffusion processes, primarily focusing on geometric Brownian motion.","_key":"f36f012c41d5","_type":"span"}],"_type":"block","style":"normal","asset":null,"_key":"a63364fb7593"},{"_type":"block","style":"normal","_key":"1aacf92f3e63","asset":null,"markDefs":[],"children":[{"_key":"d8c0a6df6592","_type":"span","marks":[],"text":""}]},{"_key":"cf16ed682f69","markDefs":[{"_type":"link","href":"https://arxiv.org/pdf/1703.06351","_key":"864dff07ce1f"}],"children":[{"_type":"span","marks":[],"text":"Prediction markets, on the other hand, have very different price dynamics because of their bounded payoffs and finite horizons. ","_key":"82abc96500ca"},{"_type":"span","marks":["864dff07ce1f"],"text":"Taleb","_key":"419a3aff075a"},{"_type":"span","marks":[],"text":" proposes dynamics based on an underlying and observable polling process, while we develop an alternative form of dynamics, based on an underlying and observable Gaussian score process.","_key":"b709474dfebc"}],"_type":"block","asset":null,"style":"normal"},{"children":[{"_key":"2077b7a34dea","_type":"span","marks":[],"text":""}],"asset":null,"_type":"block","style":"normal","_key":"0768ad570eb0","markDefs":[]},{"children":[{"_type":"span","marks":[],"text":"There has been some prior applied work on designing automated market makers for non-GBM assets. One example is ","_key":"99272a056199"},{"marks":["12b05e42a41f"],"text":"StableSwap","_key":"ab12566edce8","_type":"span"},{"marks":[],"text":", an AMM designed for stablecoin pairs, which is based on the intuitive premise that AMMs between correlated and mean-reverting assets should involve concentrating liquidity closely at a single price, but its derivation does not involve modeling the assets' price processes. Another is ","_key":"12f68402e22b","_type":"span"},{"_type":"span","marks":["521288e3eab3"],"text":"YieldSpace","_key":"687b3dccd0ce"},{"_type":"span","marks":[],"text":", an AMM designed for zero-coupon bonds. While the derivation of YieldSpace does involve a simple model for the pricing of zero-coupon bonds as a function of interest rates, it does not include a full model for the price process (since it does not model the evolution of interest rates), and the paper makes a largely arbitrary choice for how the interest rate should be inferred from the current reserves.","_key":"3fbc1dd00ea2"}],"_type":"block","style":"normal","_key":"186f0d0ef7d1","markDefs":[{"_type":"link","href":"https://docs.curve.fi/assets/pdf/stableswap-paper.pdf","_key":"12b05e42a41f"},{"_key":"521288e3eab3","_type":"link","href":"https://yield.is/YieldSpace.pdf"}],"asset":null},{"children":[{"_type":"span","marks":[],"text":"","_key":"ef7e415f772b"}],"_type":"block","style":"normal","_key":"688706c6e628","markDefs":[],"asset":null},{"_key":"5070d832f40b","asset":null,"markDefs":[{"_type":"link","href":"https://arxiv.org/pdf/2212.03340","_key":"7d289863d63c"}],"children":[{"_type":"span","marks":[],"text":"There has also been some academic work on designing AMMs based around beliefs about how asset prices will behave. One example is ","_key":"5b7b950a5b64"},{"text":"Goyal et al.","_key":"920e23330b96","_type":"span","marks":["7d289863d63c"]},{"_type":"span","marks":[],"text":" Their framework is designed around maximizing the amount of liquidity that is expected to be active, rather than making expected losses uniform, and as a result sometimes reaches opposite implications from ours. For example, their paper suggests that LMSR (which, relative to the CPMM, concentrates liquidity around the price of 1) is a good fit if liquidity providers expect relative asset prices to remain around 1, whereas our framework suggests that there are reasons to concentrate liquidity around 1 if you expect prices to diverge (as with outcome tokens).","_key":"e794a2fc4fe7"}],"_type":"block","style":"normal"}]},{"_type":"richTextBlock","_key":"231b4ea4addb","content":[{"children":[{"_type":"span","marks":[],"text":"Model","_key":"1baf18fe48aa"}],"_type":"block","style":"h2","_key":"20ab9b8f303b","markDefs":[],"asset":null},{"_type":"block","style":"normal","asset":null,"_key":"ca3a42e0d250","markDefs":[{"_type":"math","math":{"_type":"latex","body":"x"},"_key":"f5a1120d0f7f"},{"math":{"body":"y","_type":"latex"},"_key":"0f4b6e45fa8a","_type":"math"},{"_type":"math","math":{"_type":"latex","body":"f(x,y) = L"},"_key":"90365c2e4272"},{"_type":"math","math":{"_type":"latex","body":"f(\\cdot,\\cdot)"},"_key":"362c2a0bc38a"},{"_type":"math","math":{"_type":"latex","body":"(x,y)"},"_key":"70983ea551a6"},{"_type":"math","math":{"_type":"latex","body":"L"},"_key":"3f1345d00ac4"},{"_key":"5c6f6a5dd4b1","_type":"math","math":{"_type":"latex","body":"P"}},{"_type":"math","math":{"_type":"latex","body":"x"},"_key":"24a28e931bf0"}],"children":[{"marks":["strong"],"text":"Automated market making","_key":"cac175c88afc0","_type":"span"},{"text":". We consider a prediction market on a single event of interest, and an AMM which trades two assets against each other: a risky asset (denoted by ","_key":"3028e8f38f91","_type":"span","marks":[]},{"_type":"span","marks":["f5a1120d0f7f"],"text":"$","_key":"bf56bdbed1e7"},{"_type":"span","marks":[],"text":") that pays one dollar if the event occurs and nothing otherwise, and another risky asset (denoted by ","_key":"b34f076b8be7"},{"_type":"span","marks":["0f4b6e45fa8a"],"text":"y","_key":"3ceee2abc1c2"},{"_type":"span","marks":[],"text":") with opposite payments. The AMM maintains an invariant ","_key":"b66ccb84d619"},{"text":"f (x, y) = L","_key":"db3c6953e0c2","_type":"span","marks":["90365c2e4272"]},{"text":", where ","_key":"318809dfe174","_type":"span","marks":[]},{"_type":"span","marks":["362c2a0bc38a"],"text":"f (·, ·)","_key":"02f360c25fc2"},{"marks":[],"text":" is the invariant function of the reserves ","_key":"dc75aca7f965","_type":"span"},{"_type":"span","marks":["70983ea551a6"],"text":"(x, y)","_key":"396d3c97af9f"},{"_type":"span","marks":[],"text":", and ","_key":"b4d7ff8835b0"},{"_type":"span","marks":["3f1345d00ac4"],"text":"L","_key":"2c94d72b47f0"},{"_type":"span","marks":[],"text":" is a constant. Given a price ","_key":"23333f6272d7"},{"_key":"642628cc1e36","_type":"span","marks":["5c6f6a5dd4b1"],"text":"P"},{"_type":"span","marks":[],"text":" for the ","_key":"f60ba29b4525"},{"_type":"span","marks":["24a28e931bf0"],"text":"x","_key":"b2314e37967a"},{"_type":"span","marks":[],"text":" asset (in terms of dollars), define the ","_key":"93f613e528a3"},{"text":"pool value function","_key":"3b16c1aa5b2a","_type":"span","marks":["em"]},{"marks":[],"text":" to be","_key":"9d98d6b749ee","_type":"span"}]}]},{"_type":"mathBlock","_key":"53d6cb82542b","content":"\\begin{array}{lll}\nV (P) \\triangleq \n\u0026  \\underset{(x,y)\\in \\mathbb{R}_{+}^{2}}{\\text{minimize}} \n\u0026 Px+(1-P)y\n\\\\\n\u0026  \\text{subject to} \u0026 f(x,y)=L.\n\\end{array}\n\\quad\\quad\n\\tag{1}"},{"_type":"richTextBlock","_key":"c21648cd5803","content":[{"markDefs":[{"_type":"math","math":{"_type":"latex","body":"x"},"_key":"530bb73d0b11"},{"_key":"cca93cb61edf","_type":"math","math":{"_type":"latex","body":"P"}},{"_type":"math","math":{"_type":"latex","body":"x"},"_key":"e4172b9ab821"},{"_type":"math","math":{"_type":"latex","body":"y"},"_key":"0f019371af92"},{"_type":"math","math":{"_type":"latex","body":"y"},"_key":"3b77ee6744fe"},{"math":{"_type":"latex","body":"1 - P"},"_key":"8709ca408870","_type":"math"},{"_type":"math","math":{"_type":"latex","body":"f(x,y) ≜ \\sqrt{xy}"},"_key":"5bc0cfe8ddff"}],"children":[{"_type":"span","marks":[],"text":"This is the value of the pool when the ","_key":"acfb612cad610"},{"text":"x","_key":"0d6f986e64c8","_type":"span","marks":["530bb73d0b11"]},{"text":" price is ","_key":"18eba1b33931","_type":"span","marks":[]},{"_type":"span","marks":["cca93cb61edf"],"text":"P","_key":"631d73299d94"},{"_type":"span","marks":[],"text":". Since holding one unit of the ","_key":"43d55348ccc3"},{"text":"x","_key":"2d1f480622ab","_type":"span","marks":["e4172b9ab821"]},{"_type":"span","marks":[],"text":" and ","_key":"36c28820dedf"},{"_type":"span","marks":["0f019371af92"],"text":"y","_key":"d11a0caf3fa7"},{"_key":"efe57cd3616a","_type":"span","marks":[],"text":" assets each is equivalent to holding cash, we must have the price of the "},{"_key":"1f094f3f2dea","_type":"span","marks":["3b77ee6744fe"],"text":"y"},{"_type":"span","marks":[],"text":" be ","_key":"55bd60354f1a"},{"_key":"f81be737d204","_type":"span","marks":["8709ca408870"],"text":"1 − P"},{"_type":"span","marks":[],"text":".","_key":"3f80dae04f54"}],"asset":null,"_type":"block","style":"normal","_key":"14dab2af7ea7"},{"_key":"26d126ab17b3","markDefs":[{"_type":"math","math":{"_type":"latex","body":"t"},"_key":"667bda132698"},{"_type":"math","math":{"_type":"latex","body":"P_t"},"_key":"100e6c985d01"},{"_type":"math","math":{"_type":"latex","body":"x"},"_key":"6683077861b4"},{"_type":"math","math":{"_type":"latex","body":"1 - P_t"},"_key":"d0ae3f281f99"},{"_type":"math","math":{"_type":"latex","body":"y"},"_key":"847548e1676f"},{"_type":"math","math":{"_type":"latex","body":"V_t"},"_key":"84f296390025"},{"_type":"math","math":{"_type":"latex","body":"t"},"_key":"6070eabb802e"},{"math":{"_type":"latex","body":"P_t"},"_key":"754371417e45","_type":"math"},{"_type":"math","math":{"_type":"latex","body":"V_t = V(P_t)"},"_key":"810f5058e377"},{"_key":"5bc0cfe8ddff","_type":"math","math":{"_type":"latex","body":"f(x,y) ≜ \\sqrt{xy}"}}],"children":[{"_type":"span","marks":[],"text":"We assume that there is a population of arbitrageurs who, at each time ","_key":"c36437f27300"},{"_type":"span","marks":["667bda132698"],"text":"t","_key":"dca1b3ebddee"},{"_type":"span","marks":[],"text":", can observe the price ","_key":"b3f3258ff707"},{"_type":"span","marks":["100e6c985d01"],"text":"Pt","_key":"a72e815e5935"},{"_type":"span","marks":[],"text":" of the ","_key":"4e1b9b10108c"},{"_type":"span","marks":["6683077861b4"],"text":"x","_key":"06bdabd3a338"},{"_type":"span","marks":[],"text":" asset (and also the price ","_key":"289ffdeb9135"},{"text":"1 − Pt","_key":"e1e463bd0556","_type":"span","marks":["d0ae3f281f99"]},{"_type":"span","marks":[],"text":" of the ","_key":"035dae94d7bc"},{"_type":"span","marks":["847548e1676f"],"text":"y","_key":"257507985709"},{"_type":"span","marks":[],"text":" asset). Assuming there are no trading fees or other frictions, these arbitrageurs continuously monitor the AMM and seek to extract value from any mispricing of the AMM. When maximizing their own profits, they trade against the AMM to minimize the value of the AMM reserves. If we denote by ","_key":"c6421eada5d1"},{"_type":"span","marks":["84f296390025"],"text":"Vt","_key":"fc6d4356aaa0"},{"_type":"span","marks":[],"text":" the value of the reserves at time ","_key":"ab6d96974f12"},{"marks":["6070eabb802e"],"text":"t","_key":"b972620979ab","_type":"span"},{"marks":[],"text":" (when the price is ","_key":"de160f3737f3","_type":"span"},{"text":"Pt","_key":"c4b5d4921aab","_type":"span","marks":["754371417e45"]},{"_type":"span","marks":[],"text":"), then we must have ","_key":"117f7e243afb"},{"_type":"span","marks":["810f5058e377"],"text":"Vt = V (Pt)","_key":"8db14ac84472"},{"_type":"span","marks":[],"text":".\n\n","_key":"a1099c8b8b50"},{"text":"Example 1","_key":"6cefa39b7f22","_type":"span","marks":["strong"]},{"_type":"span","marks":[],"text":" (Constant Product Market Maker). In the case of a constant product market maker (CPMM), where the invariant function is given by ","_key":"d88db9e32ebe"},{"text":"f(x, y) ≜ √xy","_key":"be2f6f10aebe","_type":"span","marks":["5bc0cfe8ddff"]},{"_type":"span","marks":[],"text":", the pool value function is given by","_key":"e95b3823df66"}],"_type":"block","style":"normal","asset":null}]},{"_type":"mathBlock","_key":"98572a50d113","content":"V(P) = 2L \\sqrt{P(1-P)}."},{"_type":"richTextBlock","_key":"b121e4cba68f","content":[{"markDefs":[{"_type":"math","math":{"_type":"latex","body":"f(x,y) ≜ 2^{-x/L} + 2^{-y/L} = 1"},"_key":"b62d9af32c87"},{"_type":"link","href":"https://mason.gmu.edu/~rhanson/mktscore.pdf","_key":"620a0c5db685"},{"_type":"link","href":"https://www.paradigm.xyz/2021/06/uniswap-v3-the-universal-amm#d9efe5234233","_key":"3e3eedff99a8"}],"asset":null,"children":[{"_type":"span","marks":["strong"],"text":"Example 2","_key":"1211a74f38920"},{"_key":"3457c18cbb58","_type":"span","marks":[],"text":" (Logarithmic Market Scoring Rule). The "},{"_type":"span","marks":["620a0c5db685"],"text":"logarithmic market scoring rule","_key":"19ae0c81b962"},{"marks":[],"text":" (LMSR) created by Robin Hanson ","_key":"85edc0ad043f","_type":"span"},{"_type":"span","marks":["3e3eedff99a8"],"text":"can be viewed as","_key":"7c8fb9532aaa"},{"_type":"span","marks":[],"text":" an AMM satisfying the invariant ","_key":"966d11d8a685"},{"_type":"span","marks":["b62d9af32c87"],"text":"f(x, y) ≜ 2 −x/L + 2−y/L = 1","_key":"a16a99589807"},{"_type":"span","marks":[],"text":", in which case the pool value function is given by","_key":"34719903c20c"}],"_type":"block","style":"normal","_key":"02dc03992204"}]},{"_type":"mathBlock","_key":"3d278e384f9b","content":"V(P) = -L \\left\\{ P \\log_2 P + (1 - P) \\log_2 (1 - P) \\right\\},\n"},{"_type":"richTextBlock","_key":"149c07cac276","content":[{"_key":"ff86c852e294","markDefs":[{"_type":"math","math":{"_type":"latex","body":"x^*(P)"},"_key":"735756dc3baa"},{"_type":"math","math":{"_type":"latex","body":"y^*(P)"},"_key":"df7c5d04dc8d"},{"_type":"math","math":{"_type":"latex","body":"P"},"_key":"d3bdc8f6bf51"},{"_type":"math","math":{"_type":"latex","body":"P ≥ 0"},"_key":"95ebbbf1f9bf"},{"_type":"math","math":{"_type":"latex","body":"V'(P)=x^{*}(P) - y^*(P)."},"_key":"aacaaaf17992"},{"_type":"math","math":{"_type":"latex","body":"V''(P)=x^{*\\prime}(P) - y^{*\\prime}(P)\\leq0."},"_key":"93ded6145eaf"}],"children":[{"_type":"span","marks":[],"text":"which is proportional to the binary entropy of the event implied by the price.","_key":"51f891379a680"}],"_type":"block","style":"normal","asset":null},{"markDefs":[{"_type":"link","href":"https://arxiv.org/pdf/2208.06046","_key":"4ddd98941b31"},{"_type":"math","math":{"_type":"latex","body":"x^*(P)"},"_key":"735756dc3baa"},{"_type":"math","math":{"_type":"latex","body":"y^*(P)"},"_key":"df7c5d04dc8d"},{"_type":"math","math":{"_type":"latex","body":"P"},"_key":"d3bdc8f6bf51"}],"children":[{"_type":"span","marks":[],"text":"\nDenote by ","_key":"c1a936631ef7"},{"_type":"span","marks":["735756dc3baa"],"text":"x ∗ (P)","_key":"8e4897d8b0e8"},{"text":" and ","_key":"70be21162374","_type":"span","marks":[]},{"_type":"span","marks":["df7c5d04dc8d"],"text":"y ∗ (P)","_key":"12118eceacb7"},{"_key":"9732b1977d55","_type":"span","marks":[],"text":" to be the optimal solution to the optimization problem (1), we assume that these exist, are unique, and are sufficiently smooth functions of the price "},{"_type":"span","marks":["d3bdc8f6bf51"],"text":"P","_key":"9873a96ef702"},{"_key":"7d1bd5abcb8a","_type":"span","marks":[],"text":". The following is analogous to Lemma 1 of "},{"_type":"span","marks":["4ddd98941b31"],"text":"Milionis, et al.","_key":"e3293f2175ac"},{"marks":[],"text":", but adapted to the present setting: ","_key":"bdee1cc663c8","_type":"span"}],"_type":"block","style":"normal","_key":"88fd88e9533d","asset":null},{"_key":"60780f9de8a6","asset":null,"markDefs":[{"_type":"math","math":{"_type":"latex","body":"P ≥ 0"},"_key":"95ebbbf1f9bf"},{"_type":"math","math":{"_type":"latex","body":"V'(P)=x^{*}(P) - y^*(P)."},"_key":"aacaaaf17992"},{"_type":"math","math":{"body":"V''(P)=x^{*\\prime}(P) - y^{*\\prime}(P)\\leq0.","_type":"latex"},"_key":"93ded6145eaf"}],"children":[{"_type":"span","marks":["strong"],"text":"Lemma 1","_key":"faf4ee944942"},{"_type":"span","marks":[],"text":". For all prices ","_key":"8b264ad8d58f"},{"_type":"span","marks":["95ebbbf1f9bf"],"text":"P ≥ 0","_key":"7e969bb3b662"},{"_type":"span","marks":[],"text":", the pool value function satisfies:\n\n","_key":"bd01d5b8302e"},{"_type":"span","marks":["em"],"text":"1.","_key":"19da6463a60b"},{"_type":"span","marks":[],"text":" ","_key":"c647683c2825"},{"_type":"span","marks":["aacaaaf17992"],"text":"V'(P)=x^{*}(P) - y^*(P).","_key":"ccdfc4a1529f"},{"_type":"span","marks":[],"text":"\n","_key":"fd7bd671065e"},{"_type":"span","marks":["em"],"text":"2.","_key":"a61acbdeaa25"},{"_type":"span","marks":[],"text":" ","_key":"29d05dfd1945"},{"_type":"span","marks":["93ded6145eaf"],"text":"V''(P)=x^{*\\prime}(P) - y^{*\\prime}(P)\\leq0.","_key":"e1b927b08204"}],"_type":"block","style":"normal"},{"_key":"ffb34cd74819","markDefs":[],"children":[{"_type":"span","marks":[],"text":"","_key":"7bbaf7acaef2"}],"_type":"block","style":"normal","asset":null}]},{"_type":"richTextBlock","_key":"5fced593488d","content":[{"children":[{"marks":["strong"],"text":"Gaussian score dynamics","_key":"f903d3d2370b0","_type":"span"},{"marks":[],"text":". We now describe how the risky asset prices evolve over time according to what we call ","_key":"24c2379a7f1b","_type":"span"},{"_type":"span","marks":["em"],"text":"Gaussian score dynamics","_key":"570e96d5c1d4"},{"text":". In particular, we assume there exists a stochastic process ","_key":"ee24e8d68b08","_type":"span","marks":[]},{"_key":"b74c55565318","_type":"span","marks":["41696d0ef50f"],"text":"{Zt}"},{"_type":"span","marks":[],"text":" over the time interval ","_key":"c4713d956fce"},{"text":"t ∈ [0, T]","_key":"95701f4bb9a0","_type":"span","marks":["f8101aaef955"]},{"_key":"4d4d3c07ecb2","_type":"span","marks":[],"text":", where the event is determined by the sign of "},{"_type":"span","marks":["1e664e372b21"],"text":"Zt","_key":"bb2c27f778f4"},{"_type":"span","marks":[],"text":" at the end time of the horizon ","_key":"0a70ba8e0f12"},{"_type":"span","marks":["9092ff68a18c"],"text":"t = T","_key":"d7f928919e6d"},{"_type":"span","marks":[],"text":": if ","_key":"be6d66e902f5"},{"_type":"span","marks":["74028ca3ab07"],"text":"ZT ≥ 0","_key":"2836084eb876"},{"_type":"span","marks":[],"text":", the ","_key":"0ab569868612"},{"_type":"span","marks":["7be19b1bd979"],"text":"x","_key":"1f017e51b1fd"},{"_key":"83f5d8927c36","_type":"span","marks":[],"text":" asset pays off, otherwise if "},{"marks":["3be3135039d7"],"text":"ZT \u003c 0","_key":"b81fffa6a5b4","_type":"span"},{"_type":"span","marks":[],"text":" the ","_key":"c9094f2282bd"},{"_type":"span","marks":["a2e1a5df6799"],"text":"y","_key":"61630402afa6"},{"_type":"span","marks":[],"text":" asset pays off. We can interpret ","_key":"098f1c209684"},{"_type":"span","marks":["b5d6cd964aa0"],"text":"Zt","_key":"e472ba1296e1"},{"_type":"span","marks":[],"text":" as the score differential between two teams in a bilateral competition. Hence, we will call ","_key":"bb53d8430034"},{"marks":["9bbb069fe26e"],"text":"Zt","_key":"cd1c9405776f","_type":"span"},{"_type":"span","marks":[],"text":" the score process. Note that while our model assumes the existence of this score process, the score process does not need to be directly observable by the AMM. As discussed below, the AMM can infer the current value of the score from the marginal price (after being arbitraged) and the time to maturity. \n\nWe assume that ","_key":"2343dbe9c15b"},{"_type":"span","marks":["765537bc2ab3"],"text":"Zt","_key":"1113c3cc0e40"},{"_key":"8bb937ac46f1","_type":"span","marks":[],"text":" follows a random walk. Specifically, we assume that "},{"marks":["b8cb767e2755"],"text":"Zt","_key":"d26dfc33e6f4","_type":"span"},{"_type":"span","marks":[],"text":" is a Brownian motion with volatity ","_key":"af94797fca56"},{"_type":"span","marks":["207a9fdc4902"],"text":"σ \u003e 0","_key":"26faff0acf2f"},{"_type":"span","marks":[],"text":", i.e.,","_key":"a59ee2f49449"}],"_type":"block","style":"normal","_key":"0a3069ce4bed","markDefs":[{"_type":"math","math":{"_type":"latex","body":"\\{ Z_t\\}"},"_key":"41696d0ef50f"},{"math":{"_type":"latex","body":"t \\in [0,T]"},"_key":"f8101aaef955","_type":"math"},{"_type":"math","math":{"_type":"latex","body":"Z_t"},"_key":"1e664e372b21"},{"_type":"math","math":{"_type":"latex","body":"t=T"},"_key":"9092ff68a18c"},{"_type":"math","math":{"_type":"latex","body":"Z_T \\geq 0"},"_key":"74028ca3ab07"},{"_key":"7be19b1bd979","_type":"math","math":{"_type":"latex","body":"x"}},{"_type":"math","math":{"_type":"latex","body":"Z_T \u003c 0"},"_key":"3be3135039d7"},{"_type":"math","math":{"_type":"latex","body":"y"},"_key":"a2e1a5df6799"},{"_type":"math","math":{"_type":"latex","body":"Z_t"},"_key":"b5d6cd964aa0"},{"_type":"math","math":{"_type":"latex","body":"Z_t"},"_key":"9bbb069fe26e"},{"_type":"math","math":{"_type":"latex","body":"Z_t"},"_key":"765537bc2ab3"},{"_type":"math","math":{"_type":"latex","body":"Z_t"},"_key":"b8cb767e2755"},{"_type":"math","math":{"_type":"latex","body":"\\sigma \u003e 0"},"_key":"207a9fdc4902"}],"asset":null}]},{"_type":"mathBlock","_key":"0e6e79b3df42","content":"dZ_t = \\sigma \\, dB_t,"},{"_type":"richTextBlock","_key":"d8be56cfee74","content":[{"markDefs":[{"_type":"math","math":{"_type":"latex","body":"B_t"},"_key":"3ab8f5005eeb"},{"_type":"math","math":{"_type":"latex","body":"P_t"},"_key":"a9d2dbe73145"},{"_type":"math","math":{"_type":"latex","body":"x"},"_key":"ba02b1857e4b"},{"_type":"math","math":{"_type":"latex","body":"t"},"_key":"ffb6b8c849df"}],"children":[{"marks":[],"text":"where ","_key":"43cf8f7234c70","_type":"span"},{"_type":"span","marks":["3ab8f5005eeb"],"text":"B_t","_key":"384d92f31231"},{"_type":"span","marks":[],"text":" is a standard Brownian motion. Then, it is easy to see that the price ","_key":"14cba51fe031"},{"_type":"span","marks":["a9d2dbe73145"],"text":"P_t","_key":"ab496b292f60"},{"_key":"ae3c1059dd86","_type":"span","marks":[],"text":" of the "},{"_type":"span","marks":["ba02b1857e4b"],"text":"x","_key":"32971b738e57"},{"marks":[],"text":" asset at time ","_key":"8b949b826a09","_type":"span"},{"text":"t","_key":"e70f025acf30","_type":"span","marks":["ffb6b8c849df"]},{"text":" must be given by","_key":"085d914bd159","_type":"span","marks":[]}],"_type":"block","style":"normal","_key":"84ee89511d53","asset":null}]},{"_type":"mathBlock","_key":"d90473971772","content":"P_t = \\mathbb{E}\\left[\\left. \\mathbb{I}_{\\{Z_T \u003e 0\\}} \\ \\right| \\ Z_t \\right] = \\Phi\\left( \\frac{Z_t}{\\sigma \\sqrt{T-t}} \\right),"},{"_type":"richTextBlock","_key":"9f82cea9556f","content":[{"_key":"70006e6f45d9","asset":null,"markDefs":[{"_type":"math","math":{"body":"\\Phi(\\cdot)","_type":"latex"},"_key":"046ab6bf771a"},{"_type":"math","math":{"_type":"latex","body":"P_t"},"_key":"47738bae9e45"}],"children":[{"text":"where ","_key":"3eba25fb6b160","_type":"span","marks":[]},{"marks":["046ab6bf771a"],"text":"$\\Phi(\\cdot)$","_key":"1c21809ea77f","_type":"span"},{"_type":"span","marks":[],"text":" is the standard normal cumulative distribution function (CDF). Applying Itô's lemma, ","_key":"5d78a4f18b06"},{"_type":"span","marks":["47738bae9e45"],"text":"$P_t$","_key":"fea6b4f4be93"},{"_type":"span","marks":[],"text":" must satisfy","_key":"5cb9346e7f17"}],"_type":"block","style":"normal"}]},{"_type":"mathBlock","_key":"f616caa5828a","content":"  dP_t\n  = \\phi\\left(  \\frac{Z_t}{\\sigma\\sqrt{T-t}} \\right) \\frac{dZ_t}{\\sigma\\sqrt{T-t}}\n  = \\frac{ \\phi\\left(  \\Phi^{-1}\\left( P_t \\right) \\right) }{\\sqrt{T-t}} \\, dB_t,"},{"_type":"richTextBlock","_key":"ff027b2eacf0","content":[{"markDefs":[{"_type":"math","math":{"_type":"latex","body":"\\phi(\\cdot)"},"_key":"a8c2a2720e3c"},{"_type":"math","math":{"body":"\\Phi^{-1}(\\cdot)","_type":"latex"},"_key":"d82bd29108e8"},{"_type":"math","math":{"_type":"latex","body":"\\sigma"},"_key":"f13659c9321f"},{"_type":"math","math":{"_type":"latex","body":"P_t"},"_key":"7734a934070c"},{"_type":"math","math":{"_type":"latex","body":"\\sigma"},"_key":"994ffffcac95"}],"asset":null,"children":[{"_key":"dfcbef43954b0","_type":"span","marks":[],"text":"where "},{"_type":"span","marks":["a8c2a2720e3c"],"text":"$\\phi(\\cdot)$","_key":"3269caa78d38"},{"_type":"span","marks":[],"text":" is the standard normal probability density function, and ","_key":"633f8ce49edd"},{"_type":"span","marks":["d82bd29108e8"],"text":"$\\Phi^{-1}(\\cdot)$","_key":"a2f5b33b65fa"},{"_type":"span","marks":[],"text":" is the inverse CDF. Observe that, while the score dynamics and the conversion of a score to price or versa depend on ","_key":"e05208b45137"},{"_key":"39930b6445fa","_type":"span","marks":["f13659c9321f"],"text":"$\\sigma$"},{"_type":"span","marks":[],"text":", the dynamics of price process ","_key":"7af7451d16e4"},{"text":"$P_t$","_key":"dcaf1edceaf8","_type":"span","marks":["7734a934070c"]},{"marks":[],"text":" in isolation do not depend on ","_key":"ca01e10cbec7","_type":"span"},{"text":"$\\sigma$","_key":"9b8ae7c64838","_type":"span","marks":["994ffffcac95"]},{"_type":"span","marks":[],"text":". The volatility of these dynamics, as a function of price and remaining time, can be seen in Figure 3.","_key":"726f7982adaa"}],"_type":"block","style":"normal","_key":"6ab1c9337195"}]},{"_type":"richTextBlock","_key":"3179ee3aa3f4","content":[{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Uniform AMMs","_key":"4f4a199a866a0"}],"asset":null,"_type":"block","style":"h2","_key":"e00e6e153612"}]},{"_type":"richTextBlock","_key":"e0713a5a2a62","content":[{"_key":"675ebf1fb80b","markDefs":[{"_type":"math","math":{"_type":"latex","body":"V_t"},"_key":"8093ebdf4ad9"},{"_type":"math","math":{"_type":"latex","body":"t"},"_key":"977ccfe2cf22"},{"_type":"math","math":{"_type":"latex","body":"P_t"},"_key":"8a45da30b309"},{"_type":"math","math":{"_type":"latex","body":"V_t = V(P_t)"},"_key":"bc9d3b8829b9"}],"children":[{"text":"Loss-versus-rebalancing.","_key":"1259131ef48b","_type":"span","marks":["strong"]},{"_type":"span","marks":[],"text":" From the discussion above, if we denote by ","_key":"27e980113acc"},{"_key":"8d2336246949","_type":"span","marks":["8093ebdf4ad9"],"text":"Vt"},{"_type":"span","marks":[],"text":" the value of the reserves at time ","_key":"60b6ff5b7fa4"},{"marks":["977ccfe2cf22"],"text":"t","_key":"b6e1f451745d","_type":"span"},{"_key":"a3eaf1161fba","_type":"span","marks":[],"text":" (when the price is "},{"_key":"4163e3dcaadc","_type":"span","marks":["8a45da30b309"],"text":"Pt"},{"text":"), then we must have ","_key":"4860e85a626b","_type":"span","marks":[]},{"_key":"44d3b8439d54","_type":"span","marks":["bc9d3b8829b9"],"text":"Vt = V (Pt)"},{"_type":"span","marks":[],"text":". Applying Itô’s lemma, we have that the pool value evolves according to:","_key":"230063812258"}],"_type":"block","asset":null,"style":"normal"}]},{"_type":"mathBlock","_key":"352d752bc37e","content":"\\begin{array}{ll}\ndV_t \u0026 = \\tfrac{1}{2} V''(P_t) \\, (dP_t)^2 + V'(P_t) \\, dP_t \\\\\n\u0026 =\n\\displaystyle\n \\tfrac{1}{2} \\frac{ \\phi\\left( \\Phi^{-1}\\left( P_t \\right) \\right)^2 }{T-t} V''(P_t) \\, dt + \\big(x^{*}(P_t) - y^{*}(P_t) \\big) \\, dP_t.\n\\end{array}\n\\quad\\quad\n\\tag{2}\n"},{"_type":"richTextBlock","_key":"1479589fbd48","content":[{"asset":null,"_type":"block","style":"normal","_key":"019eb0c4f28f","markDefs":[{"_type":"math","math":{"_type":"latex","body":"P_t"},"_key":"9c893266af90"},{"_type":"math","math":{"body":"V(\\cdot)","_type":"latex"},"_key":"e14bac3d6d27"},{"_key":"a6aa1b2ba7fa","_type":"link","href":"https://arxiv.org/abs/2208.06046"}],"children":[{"marks":[],"text":"Since the price ","_key":"8032b80b77850","_type":"span"},{"_type":"span","marks":["9c893266af90"],"text":"Pt","_key":"880537b44084"},{"_type":"span","marks":[],"text":" is a martingale, the second term of (2) is also a martingale, and could be increasing or decreasing. However, from the concavity of ","_key":"aed651b66897"},{"marks":["e14bac3d6d27"],"text":"V (·)","_key":"c4802aad9651","_type":"span"},{"_type":"span","marks":[],"text":" (cf. Lemma 1), the first term corresponds to a negative drift and hence to a decreasing process. This is the loss-versus-rebalancing process (LVR) of ","_key":"d59c30eee2fa"},{"_key":"5d26ea9a6139","_type":"span","marks":["a6aa1b2ba7fa"],"text":"Milionis, et al."},{"_type":"span","marks":[],"text":", and it captures the value the pool loses to arbitrageurs who trade against it at disadvantageous prices. We define the instantaneous rate of this loss by","_key":"99485544e264"}]}]},{"_type":"mathBlock","_key":"3fd09ff506cf","content":"\\mathsf{LVR}_t ≜- \\tfrac{1}{2} \\frac{ \\phi\\left( \\Phi^{-1}\\left( P_t \\right) \\right)^2 }{T-t} V''(P_t) \\geq 0.\n\\quad\\quad\n\\tag{3}"},{"_type":"richTextBlock","_key":"876a7203dab0","content":[{"children":[{"text":"Uniform AMM","_key":"268c66fe90710","_type":"span","marks":["strong"]},{"marks":[],"text":". A ","_key":"10f71e24c39d","_type":"span"},{"_key":"dda9f09d1b88","_type":"span","marks":["em"],"text":"uniform AMM "},{"_type":"span","marks":[],"text":"is a pool which loses money at a constant rate proportional to it’s value, i.e., ","_key":"b208cb71352f"},{"_type":"span","marks":["8d6d178c4382"],"text":"LVRt = αVt","_key":"c2a092899cf9"},{"_type":"span","marks":[],"text":" , for some constant ","_key":"9c9918e0b001"},{"_key":"f15e45f84bd8","_type":"span","marks":["73c57085973c"],"text":"α \u003e 0"},{"_type":"span","marks":[],"text":". For example, ","_key":"ca1bee197954"},{"_type":"span","marks":["a1852f21a048"],"text":"Milionis, et al.","_key":"586c45f0edf6"},{"_type":"span","marks":[],"text":" establish that, for assets following geometric Brownian motion, essentially the only uniform AMMs are geometric mean market makers. In the case of a prediction market under Gaussian score dynamics, examining (3), a uniform LVR pool must solve the ordinary differential equation","_key":"f47efafa2635"}],"_type":"block","style":"normal","_key":"89db9bf1987b","markDefs":[{"_type":"math","math":{"_type":"latex","body":"\\text{LVR}_t = \\alpha V_t"},"_key":"8d6d178c4382"},{"_type":"math","math":{"_type":"latex","body":"\\alpha \u003e 0"},"_key":"73c57085973c"},{"_type":"link","href":"https://arxiv.org/abs/2208.06046","_key":"a1852f21a048"}],"asset":null}]},{"_type":"mathBlock","_key":"32e1c56e784c","content":"  - \\tfrac{1}{2}  \\frac{ \\phi\\left(  \\Phi^{-1}\\left( P \\right) \\right)^2 }{T-t}\n  V''(P) = \\alpha V(P)."},{"_type":"richTextBlock","_key":"6809dc5dce45","content":[{"children":[{"_type":"span","marks":[],"text":"This is not possible, since the left side depends on ","_key":"3b6023d994d20"},{"_type":"span","marks":["a5fb3d0ed18c"],"text":"t","_key":"b8f1a1fe1778"},{"_type":"span","marks":[],"text":", while the right side does not. The core issue here is that, unlike geometric Brownian motion, whose dynamics are invariant across time, Gaussian score dynamics are highly time dependent. ","_key":"52554cb01785"}],"_type":"block","style":"normal","_key":"6c5248fd4b5a","markDefs":[{"_type":"math","math":{"_type":"latex","body":"t"},"_key":"a5fb3d0ed18c"},{"_type":"math","math":{"_type":"latex","body":"\\alpha"},"_key":"a214713a94ad"},{"_type":"math","math":{"_type":"latex","body":"\\alpha"},"_key":"5541419663a5"},{"_type":"math","math":{"_type":"latex","body":"\\alpha = \\beta / (T -t)"},"_key":"7ef1675979ba"},{"_key":"cd6bc2245223","_type":"math","math":{"_type":"latex","body":"\\beta \u003e 0"}}],"asset":null},{"_key":"a9190354798d","markDefs":[{"_type":"math","math":{"_type":"latex","body":"\\alpha"},"_key":"a214713a94ad"},{"_type":"math","math":{"_type":"latex","body":"\\alpha = \\beta / (T -t)"},"_key":"7ef1675979ba"},{"_type":"math","math":{"_type":"latex","body":"\\beta \u003e 0"},"_key":"cd6bc2245223"}],"children":[{"_type":"span","marks":[],"text":"\nTo  circumvent this issue, we allow ","_key":"7610161d038e"},{"marks":["a214713a94ad"],"text":"α","_key":"67c34482487a","_type":"span"},{"_type":"span","marks":[],"text":" to be time dependent, i.e., we set ","_key":"37b202f93a97"},{"_type":"span","marks":["7ef1675979ba"],"text":"β/(T −t)","_key":"aeaa4074641e"},{"text":", for some ","_key":"5935e6e8ad74","_type":"span","marks":[]},{"_type":"span","marks":["cd6bc2245223"],"text":"β \u003e 0","_key":"bc5f2014eaeb"},{"_type":"span","marks":[],"text":", and now consider a setting where","_key":"fdba1f8d363e"}],"_type":"block","style":"normal","asset":null}]},{"_type":"mathBlock","_key":"2fab14e46b3f","content":"\\mathsf{LVR}_t = \\beta \\frac{V_t}{T- t}"},{"_type":"richTextBlock","_key":"1ec4e88af97b","content":[{"_type":"block","style":"normal","_key":"0bd0a514b465","markDefs":[],"asset":null,"children":[{"_type":"span","marks":[],"text":"This is equivalent to the ODE","_key":"919c02eb9fe20"}]}]},{"_type":"mathBlock","_key":"3650d6a4d9f7","content":"\\phi\\left(\\Phi^{-1}(P)\\right)^2 V''(P) + 2 \\beta V(P) = 0,\n\\quad\\quad\n\\tag{4}"},{"_type":"richTextBlock","_key":"1fb84288bdb1","content":[{"_key":"cd951fc49a7e","markDefs":[{"_type":"math","math":{"_type":"latex","body":"P \\geq 0"},"_key":"fb164cd61722"},{"_type":"math","math":{"_type":"latex","body":"V(\\cdot)"},"_key":"9bbc2dee3e19"},{"_key":"211edc46054d","_type":"math","math":{"body":"V''(P) \\leq 0","_type":"latex"}}],"asset":null,"children":[{"_type":"span","marks":[],"text":"for ","_key":"3df2e9b5f4f30"},{"text":"P ≥ 0","_key":"e5c61b090515","_type":"span","marks":["fb164cd61722"]},{"_type":"span","marks":[],"text":". In addition, there are are additional requirements on ","_key":"49acbe9d1935"},{"_type":"span","marks":["9bbc2dee3e19"],"text":"V (·)","_key":"cebba3ab7486"},{"_type":"span","marks":[],"text":" such that it is a valid pool value function, for example that ","_key":"a794f7e61e18"},{"_type":"span","marks":["211edc46054d"],"text":"V ′′(P) ≤ 0","_key":"8cd474c836c3"},{"_type":"span","marks":[],"text":" (cf. Lemma 1).","_key":"6c53ee4f4851"}],"_type":"block","style":"normal"}]},{"_type":"richTextBlock","_key":"6bb88c756c6e","content":[{"_key":"b2904abfff8a","markDefs":[],"children":[{"_key":"6880a8a20e74","_type":"span","marks":[],"text":"Static pm-AMM"}],"_type":"block","asset":null,"style":"h2"}]},{"_type":"richTextBlock","_key":"0532d90cdfac","content":[{"_key":"5f5932f0f553","markDefs":[{"_type":"math","math":{"_type":"latex","body":"u=\\Phi^{-1}(P)"},"_key":"086fbbaa4595"},{"_type":"math","math":{"_type":"latex","body":"\\beta = 1/2"},"_key":"79a1c7a6c3db"}],"children":[{"_type":"span","marks":["strong"],"text":"Pool definition.","_key":"ce12bd5d777b"},{"_type":"span","marks":[],"text":" The above ODE can be simplified through the change of variables ","_key":"f53c55c3e8e4"},{"_type":"span","marks":["086fbbaa4595"],"text":"u = Φ−1 (P)","_key":"fc0c54ab651b"},{"_type":"span","marks":[],"text":". When ","_key":"644d4fcb5f0a"},{"_type":"span","marks":["79a1c7a6c3db"],"text":"β = 1/2","_key":"49b93e37e17f"},{"_type":"span","marks":[],"text":", there is a solution satisfying both the ODE and the additional concavity requirements, and it is given by","_key":"2f7c878f09fb"}],"_type":"block","style":"normal","asset":null}]},{"_type":"mathBlock","_key":"6787f387ba6d","content":"V(P) = L \\phi\\left( \\Phi^{-1}(P) \\right),"},{"_type":"richTextBlock","_key":"49de7fd77c8e","content":[{"style":"normal","_key":"c223579f5419","markDefs":[],"asset":null,"children":[{"_key":"62f032c75c19","_type":"span","marks":[],"text":"with reserves given by"}],"_type":"block"}]},{"_type":"mathBlock","_key":"e32f38b5772b","content":"  x^*(P) = L \\left\\{\n    \\Phi^{-1}(P)  P + \\phi\\left(  \\Phi^{-1}(P)  \\right) -  \\Phi^{-1}(P)\n  \\right\\},\n\\quad\\quad\n\\tag{5}"},{"_type":"mathBlock","_key":"aef1a2e3000f","content":"  y^*(P) = L \\left\\{\n    \\Phi^{-1}(P)  P + \\phi\\left(  \\Phi^{-1}(P)  \\right)\n  \\right\\}.\n\\quad\\quad\n\\tag{6}"},{"_type":"richTextBlock","_key":"3abcb9f3b8e7","content":[{"_key":"c54e42ef20f8","asset":null,"markDefs":[{"math":{"_type":"latex","body":"L \\geq 0"},"_key":"71976a2f092a","_type":"math"},{"_key":"a58f64bee7d2","_type":"math","math":{"_type":"latex","body":"y^*(P) - x^*(P) = L \\Phi^{-1}(P)"}},{"_type":"math","math":{"_type":"latex","body":"(x,y)"},"_key":"00aca2326101"}],"children":[{"_type":"span","marks":[],"text":"Here, ","_key":"cca844cc2bd00"},{"_key":"169a7e9c4b44","_type":"span","marks":["71976a2f092a"],"text":"L ≥ 0"},{"_type":"span","marks":[],"text":" is a liquidity parameter that determines the scaling of the pool size. Observing that ","_key":"68a7e37a3e81"},{"_type":"span","marks":["a58f64bee7d2"],"text":"y ∗ (P) − x ∗ (P) = LΦ −1 (P)","_key":"6563166cd644"},{"_type":"span","marks":[],"text":" and substituting that into (5), the pool reserves ","_key":"eb96313675b0"},{"_type":"span","marks":["00aca2326101"],"text":"(x, y)","_key":"90aa81c140f7"},{"_type":"span","marks":[],"text":" must satisfy the invariant","_key":"75df8adb790c"}],"_type":"block","style":"normal"}]},{"_type":"mathBlock","_key":"4f1c985aff01","content":" (y - x) \\Phi\\left( \\frac{y - x}{L} \\right)\n  + L \\phi\\left( \\frac{y - x}{L} \\right)\n  - y = 0."},{"_type":"richTextBlock","_key":"f640eb4d9f36","content":[{"markDefs":[],"children":[{"_key":"309a3f9019350","_type":"span","marks":[],"text":"This defines the "},{"marks":["em"],"text":"static pm-AMM","_key":"4c90a4093c63","_type":"span"},{"_type":"span","marks":[],"text":". (This name alludes to the time varying, dynamic variation of the pm-AMM we will discuss shortly.) By design, this AMM satisfies the relationship","_key":"0b1572b78550"}],"asset":null,"_type":"block","style":"normal","_key":"52f4a457cf8d"}]},{"_type":"mathBlock","_key":"fbcedc115078","content":"\\mathsf{LVR}_t = \\frac{V_t}{2 (T - t)}."},{"_type":"richTextBlock","_key":"5c05b7a70ae9","content":[{"_type":"block","style":"normal","_key":"f634a08f2e66","markDefs":[{"math":{"body":"\\bar{V}_t = \\mathbb{E}[V_t]\n","_type":"latex"},"_key":"a94beb05a9c0","_type":"math"}],"asset":null,"children":[{"_key":"065affdf6ada0","_type":"span","marks":[],"text":"Defining "},{"text":"V t = E[Vt ]","_key":"19bd471bd845","_type":"span","marks":["a94beb05a9c0"]},{"_type":"span","marks":[],"text":" to be the expected pool value, from (2) we have that","_key":"adfb98707db4"}]}]},{"_type":"mathBlock","_key":"4376ad4a2578","content":"\\frac{d\\bar{V}_t}{dt} = - \\frac{\\bar{V}_t}{2(T - t)}.\n"},{"_type":"richTextBlock","_key":"c5d61e728701","content":[{"markDefs":[],"children":[{"text":"Solving this ODE,","_key":"40f9a830b1280","_type":"span","marks":[]}],"_type":"block","style":"normal","_key":"27e702c8c32b","asset":null}]},{"_type":"mathBlock","_key":"b0ba0078de08","content":"\\bar{V}_t = V_0 \\sqrt{\\frac{T-t}{T}}.\n"},{"_type":"richTextBlock","_key":"37fc36f886d5","content":[{"_key":"1ceeff9528ab","markDefs":[],"children":[{"_type":"span","marks":[],"text":"In other words, in expectation, the static pm-AMM pool value decays according to the square root of the remaining time horizon.","_key":"6b33e35601630"}],"_type":"block","style":"normal","asset":null}]},{"_type":"richTextBlock","_key":"59ebd2f11f04","content":[{"markDefs":[],"children":[{"marks":[],"text":"Dynamic pm-AMM","_key":"d6ed2ee9a4010","_type":"span"}],"_type":"block","style":"h2","_key":"9ed3cf5c6434","asset":null}]},{"_type":"richTextBlock","_key":"887d52a84a39","content":[{"_type":"block","asset":null,"style":"normal","_key":"dd96afa0a543","markDefs":[],"children":[{"_type":"span","marks":[],"text":"One downside of the static pm-AMM is that, while its LVR per dollar of value is uniform over all possible ","_key":"814e60f44cae0"},{"marks":["em"],"text":"prices","_key":"e1bd65baa14b","_type":"span"},{"_type":"span","marks":[],"text":", it changes over ","_key":"d90022e5c59e"},{"_type":"span","marks":["em"],"text":"time","_key":"ac09da231304"},{"_type":"span","marks":[],"text":". In particular, loss per dollar of value is inversely proportional to the time to maturity, so it will increase over time until losing all of its value by maturity\n\n","_key":"f618590f890f"},{"_type":"span","marks":["strong"],"text":"Dynamic liquidity","_key":"28fe8da2d069"},{"_type":"span","marks":[],"text":". We imagine now a dynamic, time-varying variation of the static pm-AMM design where the AMM LPs withdraw liquidity over time to mitigate their losses. In particular, assume that the pool value is given by","_key":"ef1d0fd96220"}]}]},{"_type":"mathBlock","_key":"f7176f7a98cd","content":"V(P,t) = L_t \\phi\\left( \\Phi^{-1}(P) \\right),"},{"_type":"richTextBlock","_key":"8baa29a426f2","content":[{"style":"normal","_key":"0464e90af6ed","markDefs":[{"_type":"math","math":{"_type":"latex","body":"L_t"},"_key":"0676796d0c47"},{"_type":"math","math":{"_type":"latex","body":"V_t"},"_key":"fb56a7f11bef"},{"_type":"math","math":{"_type":"latex","body":"V_t ≜ V(P_t,t)"},"_key":"4f9b35799100"}],"asset":null,"children":[{"marks":[],"text":"where ","_key":"767bf26808240","_type":"span"},{"_type":"span","marks":["0676796d0c47"],"text":"Lt","_key":"f1b45ba43fd4"},{"text":" is a deterministic, smooth function that determines how much liquidity is removed (or possibly added) over time. Applying Itô's lemma to the pool value process ","_key":"03de1ea13d6b","_type":"span","marks":[]},{"_type":"span","marks":["fb56a7f11bef","4f9b35799100"],"text":"Vt ≜ V (Pt , t)","_key":"7727a93a5990"},{"_type":"span","marks":[],"text":",","_key":"151f6f95b928"}],"_type":"block"}]},{"_type":"mathBlock","_key":"92ece8ead613","content":"\\begin{array}{ll}\ndV_t \u0026 = \\partial_t V(P_t, t) + \\tfrac{1}{2} \\partial_{PP} V(P_t, t) \\, (dP_t)^2 + \\partial_P V(P_t, t) \\, dP_t \\\\\n\u0026 \\displaystyle = \\left( \\dot{L}_t \\phi\\left( \\Phi^{-1}(P) \\right) - \\frac{L_t}{2(T-t)} \\phi\\left( \\Phi^{-1}(P) \\right) \\right) \\, dt \\\\\n\u0026 \\quad + \\big(x^{*}(P_t) - y^{*}(P_t) \\big) \\, dP_t \\\\\n\u0026 \\displaystyle = \\left( \\frac{\\dot{L}_t}{L_t} - \\frac{1}{2(T-t)} \\right) V_t \\, dt + \\big(x^{*}(P_t) - y^{*}(P_t) \\big) \\, dP_t.\n\\end{array}\n\\quad\\quad\n\\tag{7}\n"},{"_type":"richTextBlock","_key":"f04dd002ae09","content":[{"children":[{"_type":"span","marks":[],"text":"Denote by ","_key":"bac24bfce6f10"},{"_type":"span","marks":["c44b7a53f637"],"text":"Ct","_key":"695f3441b928"},{"_key":"31b2e34137e9","_type":"span","marks":[],"text":" the cumulative dollar value of liquidity withdrawn. Then, since the pool value is linear in the liquidity "},{"_type":"span","marks":["80124c8b677b"],"text":"Lt","_key":"cc1bb7a22223"},{"marks":[],"text":" , the dollar value of a change in ","_key":"d5964f482128","_type":"span"},{"_type":"span","marks":["09cbcace8360"],"text":"Lt ","_key":"7e1d285fa7c5"},{"_key":"3a1c061ac4b2","_type":"span","marks":[],"text":"is proportional to "},{"_type":"span","marks":["1217a50ee6e1"],"text":"Vt/LT","_key":"98a7b25d488f"},{"_type":"span","marks":[],"text":" . Then, we have that","_key":"1ffadedb8df9"}],"_type":"block","style":"normal","_key":"c2ae064424a4","asset":null,"markDefs":[{"_type":"math","math":{"_type":"latex","body":"C_t"},"_key":"c44b7a53f637"},{"_type":"math","math":{"_type":"latex","body":"L_t"},"_key":"80124c8b677b"},{"_type":"math","math":{"_type":"latex","body":"L_t"},"_key":"09cbcace8360"},{"_type":"math","math":{"_type":"latex","body":"V_t/L_T"},"_key":"1217a50ee6e1"}]}]},{"_type":"mathBlock","_key":"3590ab9404fa","content":"dC_t = - \\frac{\\dot L_t}{L_t} V_t \\, dt."},{"_type":"richTextBlock","_key":"3c1afb7d54eb","content":[{"style":"normal","asset":null,"_key":"2ca3f1ac0fb1","markDefs":[{"_type":"math","math":{"_type":"latex","body":"W_t"},"_key":"c8b61508acac"},{"_type":"math","math":{"_type":"latex","body":"W_t = V_t + C_t"},"_key":"172fd39d474f"}],"children":[{"_type":"span","marks":[],"text":"The AMM LPs’ total wealth ","_key":"1f4ffd518e680"},{"_type":"span","marks":["c8b61508acac"],"text":"W","_key":"8fd985d9632f"},{"_type":"span","marks":[],"text":"t consists of the value of the pool reserves plus the cumulative value of the liquidity withdrawn, so that ","_key":"aa61bf1c5625"},{"_type":"span","marks":["172fd39d474f"],"text":"Wt = Vt + Ct","_key":"319d24d71e17"},{"_type":"span","marks":[],"text":" , and this satisfies","_key":"37a2d6f2684a"}],"_type":"block"}]},{"_type":"mathBlock","_key":"f2cc194c5858","content":"dW_t = dV_t + dC_t = -\\frac{1}{2(T-t)} V_t \\, dt + \\big(x^{*}(P_t) - y^{*}(P_t) \\big) \\, dP_t."},{"_type":"richTextBlock","_key":"334c38e5eb73","content":[{"_type":"block","style":"normal","_key":"a8ed0c17c86f","asset":null,"markDefs":[{"_type":"math","math":{"_type":"latex","body":"\\bar{W}_t ≜ \\mathbb{E}[W_t]\n"},"_key":"47a40c61cad2"}],"children":[{"_type":"span","marks":[],"text":"This implies that the expected LP wealth ","_key":"2e88befc2dab0"},{"text":"Wt ≜ E[Wt ]","_key":"241bdf5a1de3","_type":"span","marks":["47a40c61cad2"]},{"marks":[],"text":" satisfies","_key":"3e9f09f4951b","_type":"span"}]}]},{"_type":"mathBlock","_key":"8ddd080272d0","content":"\\bar{W}_t = W_0 - \\int_0^t \\frac{\\bar{V}_s}{2(T-s)} \\, ds,\n\\quad\\quad\n\\tag{8}"},{"_type":"richTextBlock","_key":"958af1318747","content":[{"children":[{"_type":"span","marks":[],"text":"where ","_key":"cf3284a3404b0"},{"text":"V t ≜ E[VT","_key":"1fd1eb0eb2cd","_type":"span","marks":["49618c5ede2b"]},{"_key":"c9911042d624","_type":"span","marks":[],"text":"\n"}],"_type":"block","style":"normal","_key":"10591489b453","markDefs":[{"_type":"math","math":{"_type":"latex","body":"\\bar{V}_t ≜ {E}[V_T]."},"_key":"49618c5ede2b"}],"asset":null}]},{"_type":"richTextBlock","_key":"7585f7e38609","content":[{"markDefs":[],"children":[{"_type":"span","marks":["strong"],"text":"Constant LVR.","_key":"a303299d58910"},{"_type":"span","marks":[],"text":" Now, consider the specific choice of liquidity curve given","_key":"953c10e12c63"}],"_type":"block","asset":null,"style":"normal","_key":"590d09d2f5da"}]},{"_type":"mathBlock","_key":"7b437a025fc8","content":"L_t = L_0 \\sqrt{T - t}."},{"_type":"richTextBlock","_key":"718a3319a0f0","content":[{"_type":"block","style":"normal","asset":null,"_key":"a701f1cfe6e6","markDefs":[{"_type":"math","math":{"_type":"latex","body":"\\bar{V}_t = E[V_t]"},"_key":"f997daeb1fa0"}],"children":[{"marks":[],"text":"We call the the dynamic pm-AMM. Then, from (7), the expected pool value ","_key":"565a8aa838ed0","_type":"span"},{"_type":"span","marks":["f997daeb1fa0"],"text":"V t = E[Vt]","_key":"d4ffcd0a8f8f"},{"marks":[],"text":" satisfies","_key":"cb21f0f8142b","_type":"span"}]}]},{"_type":"mathBlock","_key":"cd4d930ec9a9","content":"\\frac{d \\bar{V}_t}{dt} = \\left( \\frac{\\dot{L}_t}{L_t} - \\frac{1}{2(T-t)} \\right) \\bar{V}_t = - \\frac{\\bar{V}_t}{T - t}."},{"_type":"richTextBlock","_key":"49d92a72f0d6","content":[{"_type":"block","style":"normal","_key":"1dc2cb759e68","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Solving this ODE, we have","_key":"2c9d072cdde30"}],"asset":null}]},{"_type":"mathBlock","_key":"8f522e3c2f86","content":"\\bar{V}_t = V_0 \\, \\frac{T-t}{T}."},{"_type":"richTextBlock","_key":"2c5e911364c6","content":[{"markDefs":[],"children":[{"marks":[],"text":"In other words, net of withdrawals, the expected pool value decreases linearly in the dynamic pm-AMM. Further, because it inherits the static pm-AMM value function, the rate of LVR loss per unit time is given by","_key":"238e575f3c680","_type":"span"}],"_type":"block","style":"normal","_key":"f4e319a7b0a2","asset":null}]},{"_type":"mathBlock","_key":"76414b158dde","content":"\\mathsf{LVR}_t = \\frac{1}{2(T-t)} V_t."},{"_type":"richTextBlock","_key":"a89279157964","content":[{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Then, the expected rate of loss is","_key":"184332205bba0"}],"_type":"block","style":"normal","_key":"b6e10c74697b","asset":null}]},{"_type":"mathBlock","_key":"96c5efc80312","content":"\\mathbb{E}[\\mathsf{LVR}_t] = \\frac{1}{2(T-t)} \\bar{V}_t = \\frac{V_0}{2T},\n"},{"_type":"richTextBlock","_key":"71ef79314c38","content":[{"asset":null,"_key":"ff930a742ee7","markDefs":[{"_type":"math","math":{"_type":"latex","body":"t"},"_key":"3d10caf5ca68"}],"children":[{"_key":"f67c6ceaf9470","_type":"span","marks":[],"text":"which is constant over "},{"_type":"span","marks":["3d10caf5ca68"],"text":"t","_key":"1af8b5c861d0"},{"marks":[],"text":". That is, the dynamic pm-AMM loses money to arbitrageurs at a constant rate (in expectation) over time.","_key":"c4cd538dd39f","_type":"span"}],"_type":"block","style":"normal"}]},{"_type":"richTextBlock","_key":"c639344299f7","content":[{"markDefs":[],"children":[{"_type":"span","marks":[],"text":"Finally, following (8), this results in an expected wealth process","_key":"8a3e377e6469"}],"_type":"block","style":"normal","asset":null,"_key":"d14e715fba21"}]},{"_type":"mathBlock","_key":"931c80c7da93","content":"\\bar{W}_T = W_0 - \\int_0^T \\frac{V_0}{2T} \\, dt = W_0 - \\frac{V_0}{2} = \\frac{W_0}{2},\n"},{"_type":"richTextBlock","_key":"7a2ee794134b","content":[{"markDefs":[],"asset":null,"children":[{"marks":[],"text":"so that half the initial wealth is lost by the end.","_key":"0685e30697df0","_type":"span"}],"_type":"block","style":"normal","_key":"35a9d468e8e7"}]},{"_type":"richTextBlock","_key":"3173d8ba5b3f3f8edab8f042fd7fff67","content":[{"asset":null,"_type":"block","style":"h2","_key":"b8b16df560a7","markDefs":[],"children":[{"_type":"span","marks":[],"text":"Conclusion","_key":"76b4c4be6fce"}]},{"style":"normal","_key":"ceb842b67fbe","asset":null,"markDefs":[],"children":[{"_type":"span","marks":[],"text":"The pm-AMM may be useful for prediction markets driven by dynamics that resemble the Gaussian score dynamics model. ","_key":"0ff2e7671a69"}],"_type":"block"},{"children":[{"_type":"span","marks":[],"text":"Beyond this, our work suggests that uniform AMMs may be derivable for other kinds of assets, like bonds, options, and other derivatives.","_key":"32a14ab4a704"}],"_type":"block","style":"normal","_key":"d0fa3d63d44c","markDefs":[],"asset":null}]},{"_type":"richTextBlock","_key":"185eab3085d1e6f755fd123e5b1eeb32","content":[{"markDefs":[],"asset":null,"children":[{"marks":[],"text":"Acknowledgements","_key":"38d46e7c11a9","_type":"span"}],"_type":"block","style":"h2","_key":"b7ffd4060449"}]},{"_type":"richTextBlock","_key":"d0c82234eeecfdaf1c9e5dc28f9842f2","content":[{"asset":null,"children":[{"_type":"span","marks":[],"text":"The authors wish to thank Benedict Brady, Leo Lau, Allan Niemerg, Storm Slivkoff, Shouqiao Wang, Dave White, and Bill Zhang for helpful comments.","_key":"e4e4718690f10"}],"_type":"block","style":"normal","_key":"5e32ed775ed1","markDefs":[]}]}],"seo":{"openGraphDescription":"Introducing pm-AMM: A new automated market maker designed for prediction markets. It provides more consistent liquidity and lower losses than traditional AMMs by adapting to the unique behavior of prediction market tokens.","openGraphImage":{"_key":null,"alt":null,"lqip":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABS0lEQVR4nK1Sya6CQBCcIwhugELEBeIuYQ1uaFTiyf//oH6pSp55iR40eYcKTHdXVXfPKF3X5VN0u13ZbDZSVZWsVitpt9svNeobQdu2JUkSOZ1OslgspNls/o/g+Xxmp+hY/5M3TVNUq9ViwnEcotPpiGEYbwUx4nK5pOB2u5XJZCKWZTEO7ng8FjUYDJiYzWbcC0YZDodPA3QFeJ4no9FI4jiW6/VKFEXx5CC+3+9FwREBYL1eS57ndN/tdiREUcR4lmUkYH+Xy4UXczgcCMTxPR6PokCYTqfsCoAwSI/HgyQYhmEo8/mc3QCoD4KAtUmSSJqmNMZZ+b7PkbBLoN/vs+B+v7PbXq/H2/zN4x/LB7Bvx3FYAw2cFRKNRuO5eJDgdLvdpCxLEjRN+/glvDwbGGC8uq65G9d1PxZ7K4gO8cYwMi4H43wj+AMdBRoT6cqG3QAAAABJRU5ErkJggg==","dimensions":{"_type":"sanity.imageDimensions","width":2400,"aspectRatio":1.7777777777777777,"height":1350},"url":"https://cdn.sanity.io/images/dgybcd83/production/5bad7635bd55e1a4b9c587acbcb745db8704634e-2400x1350.png","_type":"image"},"twitterImage":null,"disallowRobots":false,"metaKeywords":null,"openGraphTitle":"pm-AMM: A Uniform AMM for Prediction Markets","twitterTitle":null,"twitterDescription":null,"hideFromSitemap":false,"metaTitle":null,"metaDescription":null},"_id":"d473aa1c-dce8-4dce-a8d3-b215c4dbd61d","publishDate":"2024-11-05","tags":[{"_id":"493e238e-72b6-4c77-9dcf-35f015c39025","slug":"research","title":"Research"}],"featuredImage":{"alt":null,"lqip":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABS0lEQVR4nK1Sya6CQBCcIwhugELEBeIuYQ1uaFTiyf//oH6pSp55iR40eYcKTHdXVXfPKF3X5VN0u13ZbDZSVZWsVitpt9svNeobQdu2JUkSOZ1OslgspNls/o/g+Xxmp+hY/5M3TVNUq9ViwnEcotPpiGEYbwUx4nK5pOB2u5XJZCKWZTEO7ng8FjUYDJiYzWbcC0YZDodPA3QFeJ4no9FI4jiW6/VKFEXx5CC+3+9FwREBYL1eS57ndN/tdiREUcR4lmUkYH+Xy4UXczgcCMTxPR6PokCYTqfsCoAwSI/HgyQYhmEo8/mc3QCoD4KAtUmSSJqmNMZZ+b7PkbBLoN/vs+B+v7PbXq/H2/zN4x/LB7Bvx3FYAw2cFRKNRuO5eJDgdLvdpCxLEjRN+/glvDwbGGC8uq65G9d1PxZ7K4gO8cYwMi4H43wj+AMdBRoT6cqG3QAAAABJRU5ErkJggg==","dimensions":{"_type":"sanity.imageDimensions","width":2400,"aspectRatio":1.7777777777777777,"height":1350},"url":"https://cdn.sanity.io/images/dgybcd83/production/5bad7635bd55e1a4b9c587acbcb745db8704634e-2400x1350.png","_type":"imageAlt","_key":null},"tableOfContents":true},"__N_SSG":true},"page":"/[slug]/[postMonth]/[postSlug]","query":{"slug":"2024","postMonth":"11","postSlug":"pm-amm"},"buildId":"l8SbaQQM0om_yyzCyQlj0","isFallback":false,"dynamicIds":[72334,7333,24827],"gsp":true,"scriptLoader":[{"src":"https://www.googletagmanager.com/gtag/js?id=G-1JXQV4JD0S","strategy":"afterInteractive"},{"id":"google-analytics","strategy":"afterInteractive","children":"\n      \t\t\t\twindow.dataLayer = window.dataLayer || [];       \t\t\t\tfunction gtag(){window.dataLayer.push(arguments);}       \t\t\t\tgtag('js', new Date());       \t\t\t\tgtag('config', 'G-1JXQV4JD0S');\n      \t\t\t"}]}</script></body></html>