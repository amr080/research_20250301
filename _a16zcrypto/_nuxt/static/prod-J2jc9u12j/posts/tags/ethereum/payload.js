__NUXT_JSONP__("/posts/tags/ethereum", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB,fC,fD,fE,fF,fG,fH,fI,fJ,fK,fL,fM,fN,fO,fP,fQ,fR,fS,fT,fU,fV,fW,fX,fY,fZ,f_,f$,ga,gb,gc,gd,ge,gf,gg,gh,gi,gj,gk,gl,gm,gn,go,gp,gq,gr,gs,gt,gu,gv,gw,gx,gy,gz,gA,gB,gC,gD,gE,gF,gG,gH,gI,gJ,gK,gL,gM,gN,gO,gP,gQ,gR,gS,gT,gU,gV,gW,gX,gY,gZ,g_,g$,ha,hb,hc,hd,he,hf,hg,hh,hi,hj,hk,hl,hm,hn,ho,hp,hq,hr,hs,ht,hu,hv,hw,hx,hy,hz,hA,hB,hC,hD,hE,hF,hG,hH,hI,hJ,hK,hL,hM,hN,hO,hP,hQ,hR,hS,hT,hU,hV,hW,hX,hY,hZ,h_,h$,ia,ib,ic,id,ie,if0,ig,ih,ii,ij,ik,il,im,in0,io,ip,iq,ir,is,it,iu,iv,iw,ix,iy,iz,iA,iB,iC,iD,iE,iF,iG,iH,iI,iJ,iK,iL,iM,iN,iO,iP,iQ,iR,iS,iT,iU,iV,iW,iX,iY,iZ,i_,i$,ja,jb,jc,jd,je,jf,jg,jh,ji,jj,jk,jl,jm,jn,jo,jp,jq,jr,js,jt,ju,jv,jw,jx,jy,jz,jA,jB,jC,jD,jE,jF,jG,jH,jI,jJ,jK,jL,jM,jN,jO,jP,jQ,jR,jS,jT,jU,jV,jW,jX,jY,jZ,j_,j$,ka,kb,kc,kd,ke,kf,kg,kh,ki,kj,kk,kl,km,kn,ko,kp,kq,kr,ks,kt,ku,kv,kw,kx,ky,kz,kA,kB,kC,kD,kE,kF,kG,kH,kI,kJ,kK,kL,kM,kN,kO,kP,kQ,kR,kS,kT,kU,kV,kW,kX,kY,kZ,k_,k$,la){fF.favicon=h;fF.other_icons=h;fF.newsletter_title="newsletter: web3 weekly";fF.newsletter_subtitle="A newsletter from a16z crypto, and your go-to guide to the next internet";fF.newsletter_input_placeholder=fG;fF.newsletter_button_text=fG;fF.podcast_title="podcast: web3 with a16z";fF.podcast_subtitle="A show about building the next internet, from a16z crypto";fF.follow_us_text="Follow us";fF.logo=h;fF.disclaimer="Any investments or portfolio companies mentioned, referred to, or described on this page are not representative of all investments in vehicles managed by a16z and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. Exits include current and former a16z portfolio companies which have been acquired as well as companies which have undergone an initial public offering or direct public offering of shares. Certain publicly traded companies on this list may still be held in Andreessen Horowitz funds. A list of investments made by funds managed by a16z is available here: https:\u002F\u002Fa16z.com\u002Finvestments\u002F. Excluded from this list are investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets. Further, the list of investments is updated monthly and as such may not reflect most recent a16z investments. Past results of Andreessen Horowitz’s investments, pooled investment vehicles, or investment strategies are not necessarily indicative of future results.";fF.copyright="&copy; 2024 Andreessen Horowitz";fF.footer_menu=fH;fF.cookie_banner_text="we use third party cookies in order to personalise your site experience";fF.socials=fI;fF.streaming=fJ;fF.header_newsletter_title="Newsletter Sign Up";fF.header_newsletter_input_placeholder="enter email address";fF.header_newsletter_button_text="subscribe";fF.header_socials=h;fF.nav_focus_area_label_text="FOCUS AREAS";fF.nav_focus_areas=[{term_id:c,name:dN,slug:dO,term_group:b,term_taxonomy_id:c,taxonomy:B,description:a,parent:b,count:dP,filter:d,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ffocus-areas\u002Fcompany-building\u002F"},{term_id:Z,name:aG,slug:aH,term_group:b,term_taxonomy_id:Z,taxonomy:B,description:a,parent:b,count:aI,filter:d,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ffocus-areas\u002Ftech-trends\u002F"},{term_id:cS,name:fK,slug:cH,term_group:b,term_taxonomy_id:cS,taxonomy:B,description:a,parent:b,count:fL,filter:d,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ffocus-areas\u002Fpolicy\u002F"},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ffocus-areas\u002Fresearch\u002F"},{term_id:ar,name:cc,slug:cd,term_group:b,term_taxonomy_id:ar,taxonomy:B,description:a,parent:b,count:aJ,filter:d,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ffocus-areas\u002Fcode-engineering\u002F"}];fF.nav_trending_topics_label_text="TRENDING TOPICS";fF.nav_trending_topics=[{term_id:fM,name:cT,slug:cT,term_group:b,term_taxonomy_id:fM,taxonomy:f,description:a,parent:b,count:19,filter:d,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ftags\u002Fdecentralization\u002F"},{term_id:ce,name:cU,slug:cV,term_group:b,term_taxonomy_id:ce,taxonomy:f,description:a,parent:b,count:dQ,filter:d,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ftags\u002Fzkps-zero-knowledge-proofs-systems-more\u002F"},{term_id:_,name:W,slug:W,term_group:b,term_taxonomy_id:_,taxonomy:f,description:a,parent:b,count:aK,filter:d,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ftags\u002Fsecurity\u002F"}];fF.view_all_content_button={title:"view all content",url:"\u002Fcontent\u002F",target:a};fF.enable_puzzle=e;fF.puzzle_code_1=fN;fF.puzzle_code_2=fO;fF.header_css_js_custom="table#releasenotes {\r\n  width: 100% !important;\r\n  border-collapse: collapse ;\r\n  border: 3px solid purple;\r\n}\r\n\r\ntable#releasenotes td {\r\n  width: 50% !important;\r\n  border: 1px black solid ;\r\n  padding: 10px ;\r\n}\r\n\r\ndiv.punch-viewer-navbar-logo {\r\n  display: hidden !important;\r\n}";fF.custom_js_footer=a;fF.header_button=a;fF.companies_eyebrow="CSX COMPANIES";fF.companies_title=a;fF.companies_stats=h;fF.companies_companies=[{company_name:dR,square_logo:{ID:fP,id:fP,title:dR,filename:"afriex.svg",filesize:907,url:aQ,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fafriex\u002F",alt:a,author:E,description:a,caption:a,name:dR,status:m,uploaded_to:b,date:fQ,modified:fQ,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:aQ,"thumbnail-width":c,"thumbnail-height":c,medium:aQ,"medium-width":c,"medium-height":c,medium_large:aQ,"medium_large-width":c,"medium_large-height":c,large:aQ,"large-width":c,"large-height":c,"1536x1536":aQ,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":aQ,"2048x2048-width":c,"2048x2048-height":c,"medium-size":aQ,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.afriexapp.com\u002F"},{company_name:dS,square_logo:{ID:fR,id:fR,title:dS,filename:"axal.svg",filesize:1117,url:aR,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Faxal\u002F",alt:a,author:E,description:a,caption:a,name:dS,status:m,uploaded_to:b,date:fS,modified:fS,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:aR,"thumbnail-width":c,"thumbnail-height":c,medium:aR,"medium-width":c,"medium-height":c,medium_large:aR,"medium_large-width":c,"medium_large-height":c,large:aR,"large-width":c,"large-height":c,"1536x1536":aR,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":aR,"2048x2048-width":c,"2048x2048-height":c,"medium-size":aR,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fax.al"},{company_name:dT,square_logo:{ID:fT,id:fT,title:dT,filename:"bello.svg",filesize:8224,url:aS,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fbello\u002F",alt:a,author:E,description:a,caption:a,name:dT,status:m,uploaded_to:b,date:fU,modified:fU,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:aS,"thumbnail-width":c,"thumbnail-height":c,medium:aS,"medium-width":c,"medium-height":c,medium_large:aS,"medium_large-width":c,"medium_large-height":c,large:aS,"large-width":c,"large-height":c,"1536x1536":aS,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":aS,"2048x2048-width":c,"2048x2048-height":c,"medium-size":aS,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fbello.lol\u002F"},{company_name:dU,square_logo:{ID:fV,id:fV,title:dU,filename:"blockus.png",filesize:12591,url:cI,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fblockus\u002F",alt:a,author:E,description:a,caption:a,name:dU,status:m,uploaded_to:b,date:fW,modified:fW,menu_order:b,mime_type:dV,type:n,subtype:fX,icon:o,width:cf,height:cJ,sizes:{thumbnail:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fblockus-150x150.png","thumbnail-width":$,"thumbnail-height":$,medium:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fblockus-259x300.png","medium-width":259,"medium-height":ah,medium_large:cI,"medium_large-width":cf,"medium_large-height":cJ,large:cI,"large-width":cf,"large-height":cJ,"1536x1536":cI,"1536x1536-width":cf,"1536x1536-height":cJ,"2048x2048":cI,"2048x2048-width":cf,"2048x2048-height":cJ,"medium-size":"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fblockus-369x400.png","medium-size-width":cf,"medium-size-height":fY}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.blockus.gg\u002F"},{company_name:dW,square_logo:{ID:fZ,id:fZ,title:dW,filename:"capsule.svg",filesize:1539,url:aT,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fcapsule\u002F",alt:a,author:E,description:a,caption:a,name:dW,status:m,uploaded_to:b,date:f_,modified:f_,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:aT,"thumbnail-width":c,"thumbnail-height":c,medium:aT,"medium-width":c,"medium-height":c,medium_large:aT,"medium_large-width":c,"medium_large-height":c,large:aT,"large-width":c,"large-height":c,"1536x1536":aT,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":aT,"2048x2048-width":c,"2048x2048-height":c,"medium-size":aT,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fusecapsule.com\u002F"},{company_name:"Chain Patrol",square_logo:{ID:f$,id:f$,title:ga,filename:"chainpatrol.svg",filesize:16389,url:aU,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fchainpatrol\u002F",alt:a,author:E,description:a,caption:a,name:ga,status:m,uploaded_to:b,date:gb,modified:gb,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:aU,"thumbnail-width":c,"thumbnail-height":c,medium:aU,"medium-width":c,"medium-height":c,medium_large:aU,"medium_large-width":c,"medium_large-height":c,large:aU,"large-width":c,"large-height":c,"1536x1536":aU,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":aU,"2048x2048-width":c,"2048x2048-height":c,"medium-size":aU,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fchainpatrol.io\u002F"},{company_name:"Collar Networks",square_logo:{ID:gc,id:gc,title:"Collar_Wordmark_Yellow - Michael Moulton",filename:"Collar_Wordmark_Yellow-Michael-Moulton.svg",filesize:12535,url:aV,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fcollar_wordmark_yellow-michael-moulton\u002F",alt:a,author:ai,description:a,caption:a,name:"collar_wordmark_yellow-michael-moulton",status:m,uploaded_to:b,date:gd,modified:gd,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:aV,"thumbnail-width":c,"thumbnail-height":c,medium:aV,"medium-width":c,"medium-height":c,medium_large:aV,"medium_large-width":c,"medium_large-height":c,large:aV,"large-width":c,"large-height":c,"1536x1536":aV,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":aV,"2048x2048-width":c,"2048x2048-height":c,"medium-size":aV,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:a},{company_name:"Compass Labs",square_logo:{ID:ge,id:ge,title:"logo_nooutline_width60 (1) - Elisabeth Duijnstee",filename:"logo_nooutline_width60-1-Elisabeth-Duijnstee.svg",filesize:1408,url:aW,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Flogo_nooutline_width60-1-elisabeth-duijnstee\u002F",alt:a,author:ai,description:a,caption:a,name:"logo_nooutline_width60-1-elisabeth-duijnstee",status:m,uploaded_to:b,date:gf,modified:gf,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:aW,"thumbnail-width":c,"thumbnail-height":c,medium:aW,"medium-width":c,"medium-height":c,medium_large:aW,"medium_large-width":c,"medium_large-height":c,large:aW,"large-width":c,"large-height":c,"1536x1536":aW,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":aW,"2048x2048-width":c,"2048x2048-height":c,"medium-size":aW,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.compasslabs.ai\u002F"},{company_name:"Discove",square_logo:{ID:gg,id:gg,title:gh,filename:"discove.svg",filesize:4541,url:aX,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fdiscove\u002F",alt:a,author:E,description:a,caption:a,name:gh,status:m,uploaded_to:b,date:gi,modified:gi,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:aX,"thumbnail-width":c,"thumbnail-height":c,medium:aX,"medium-width":c,"medium-height":c,medium_large:aX,"medium_large-width":c,"medium_large-height":c,large:aX,"large-width":c,"large-height":c,"1536x1536":aX,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":aX,"2048x2048-width":c,"2048x2048-height":c,"medium-size":aX,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fdiscove.xyz"},{company_name:"EthXY",square_logo:{ID:gj,id:gj,title:"ethxy-dark - J Eth",filename:"ethxy-dark-J-Eth.svg",filesize:19156,url:aY,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fethxy-dark-j-eth\u002F",alt:a,author:ai,description:a,caption:a,name:"ethxy-dark-j-eth",status:m,uploaded_to:b,date:gk,modified:gk,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:aY,"thumbnail-width":c,"thumbnail-height":c,medium:aY,"medium-width":c,"medium-height":c,medium_large:aY,"medium_large-width":c,"medium_large-height":c,large:aY,"large-width":c,"large-height":c,"1536x1536":aY,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":aY,"2048x2048-width":c,"2048x2048-height":c,"medium-size":aY,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fethxy.com"},{company_name:dX,square_logo:{ID:gl,id:gl,title:dX,filename:"id.svg",filesize:2287,url:aZ,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fid\u002F",alt:a,author:E,description:a,caption:a,name:dX,status:m,uploaded_to:b,date:gm,modified:gm,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:aZ,"thumbnail-width":c,"thumbnail-height":c,medium:aZ,"medium-width":c,"medium-height":c,medium_large:aZ,"medium_large-width":c,"medium_large-height":c,large:aZ,"large-width":c,"large-height":c,"1536x1536":aZ,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":aZ,"2048x2048-width":c,"2048x2048-height":c,"medium-size":aZ,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:a},{company_name:"Fan Craze",square_logo:{ID:gn,id:gn,title:go,filename:"fancraze.svg",filesize:1051,url:a_,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Ffancraze\u002F",alt:a,author:E,description:a,caption:a,name:go,status:m,uploaded_to:b,date:gp,modified:gp,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:a_,"thumbnail-width":c,"thumbnail-height":c,medium:a_,"medium-width":c,"medium-height":c,medium_large:a_,"medium_large-width":c,"medium_large-height":c,large:a_,"large-width":c,"large-height":c,"1536x1536":a_,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":a_,"2048x2048-width":c,"2048x2048-height":c,"medium-size":a_,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.fancraze.com\u002F"},{company_name:"FINE",square_logo:{ID:gq,id:gq,title:gr,filename:"fine.svg",filesize:848,url:a$,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Ffine\u002F",alt:a,author:E,description:a,caption:a,name:gr,status:m,uploaded_to:b,date:gs,modified:gs,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:a$,"thumbnail-width":c,"thumbnail-height":c,medium:a$,"medium-width":c,"medium-height":c,medium_large:a$,"medium_large-width":c,"medium_large-height":c,large:a$,"large-width":c,"large-height":c,"1536x1536":a$,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":a$,"2048x2048-width":c,"2048x2048-height":c,"medium-size":a$,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:a},{company_name:dY,square_logo:{ID:gt,id:gt,title:dY,filename:"flashbot.svg",filesize:1011,url:ba,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fflashbot\u002F",alt:a,author:E,description:a,caption:a,name:dY,status:m,uploaded_to:b,date:gu,modified:gu,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:ba,"thumbnail-width":c,"thumbnail-height":c,medium:ba,"medium-width":c,"medium-height":c,medium_large:ba,"medium_large-width":c,"medium_large-height":c,large:ba,"large-width":c,"large-height":c,"1536x1536":ba,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":ba,"2048x2048-width":c,"2048x2048-height":c,"medium-size":ba,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:a},{company_name:"Formless",square_logo:{ID:gv,id:gv,title:gw,filename:"formless.svg",filesize:1233,url:bb,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fformless\u002F",alt:a,author:E,description:a,caption:a,name:gw,status:m,uploaded_to:b,date:gx,modified:gx,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bb,"thumbnail-width":c,"thumbnail-height":c,medium:bb,"medium-width":c,"medium-height":c,medium_large:bb,"medium_large-width":c,"medium_large-height":c,large:bb,"large-width":c,"large-height":c,"1536x1536":bb,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bb,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bb,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fformless.xyz"},{company_name:"Frens",square_logo:{ID:gy,id:gy,title:gz,filename:"frens.svg",filesize:876,url:bc,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Ffrens\u002F",alt:a,author:E,description:a,caption:a,name:gz,status:m,uploaded_to:b,date:gA,modified:gA,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bc,"thumbnail-width":c,"thumbnail-height":c,medium:bc,"medium-width":c,"medium-height":c,medium_large:bc,"medium_large-width":c,"medium_large-height":c,large:bc,"large-width":c,"large-height":c,"1536x1536":bc,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bc,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bc,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"frens.lol"},{company_name:"Fuul",square_logo:{ID:gB,id:gB,title:gC,filename:"fuul.svg",filesize:3228,url:bd,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Ffuul\u002F",alt:a,author:E,description:a,caption:a,name:gC,status:m,uploaded_to:b,date:gD,modified:gD,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bd,"thumbnail-width":c,"thumbnail-height":c,medium:bd,"medium-width":c,"medium-height":c,medium_large:bd,"medium_large-width":c,"medium_large-height":c,large:bd,"large-width":c,"large-height":c,"1536x1536":bd,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bd,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bd,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"http:\u002F\u002Fwww.fuul.xyz"},{company_name:dZ,square_logo:{ID:gE,id:gE,title:dZ,filename:"gandalf.svg",filesize:1634,url:be,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fgandalf\u002F",alt:a,author:E,description:a,caption:a,name:dZ,status:m,uploaded_to:b,date:gF,modified:gF,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:be,"thumbnail-width":c,"thumbnail-height":c,medium:be,"medium-width":c,"medium-height":c,medium_large:be,"medium_large-width":c,"medium_large-height":c,large:be,"large-width":c,"large-height":c,"1536x1536":be,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":be,"2048x2048-width":c,"2048x2048-height":c,"medium-size":be,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fgandalf.network\u002F"},{company_name:"Goldfinch",square_logo:{ID:gG,id:gG,title:"goldfinch",filename:"goldfinch.svg",filesize:3085,url:bf,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fgoldfinch-2\u002F",alt:a,author:E,description:a,caption:a,name:"goldfinch-2",status:m,uploaded_to:b,date:gH,modified:gH,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bf,"thumbnail-width":c,"thumbnail-height":c,medium:bf,"medium-width":c,"medium-height":c,medium_large:bf,"medium_large-width":c,"medium_large-height":c,large:bf,"large-width":c,"large-height":c,"1536x1536":bf,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bf,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bf,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fgoldfinch.finance\u002F"},{company_name:d_,square_logo:{ID:gI,id:gI,title:d_,filename:"iyk.svg",filesize:758,url:bg,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fiyk\u002F",alt:a,author:E,description:a,caption:a,name:d_,status:m,uploaded_to:b,date:gJ,modified:gJ,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bg,"thumbnail-width":c,"thumbnail-height":c,medium:bg,"medium-width":c,"medium-height":c,medium_large:bg,"medium_large-width":c,"medium_large-height":c,large:bg,"large-width":c,"large-height":c,"1536x1536":bg,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bg,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bg,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fiyk.app\u002F"},{company_name:gK,square_logo:{ID:gL,id:gL,title:gK,filename:"kiki.svg",filesize:cK,url:bh,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fkiki-2\u002F",alt:a,author:E,description:a,caption:a,name:"kiki-2",status:m,uploaded_to:b,date:gM,modified:gM,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bh,"thumbnail-width":c,"thumbnail-height":c,medium:bh,"medium-width":c,"medium-height":c,medium_large:bh,"medium_large-width":c,"medium_large-height":c,large:bh,"large-width":c,"large-height":c,"1536x1536":bh,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bh,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bh,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.kiki.world\u002F"},{company_name:"Magicblock",square_logo:{ID:gN,id:gN,title:"magicblock_white (1) - Andrea Fortugno",filename:"magicblock_white-1-Andrea-Fortugno.svg",filesize:9784,url:bi,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fmagicblock_white-1-andrea-fortugno\u002F",alt:a,author:ai,description:a,caption:a,name:"magicblock_white-1-andrea-fortugno",status:m,uploaded_to:b,date:gO,modified:gO,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bi,"thumbnail-width":c,"thumbnail-height":c,medium:bi,"medium-width":c,"medium-height":c,medium_large:bi,"medium_large-width":c,"medium_large-height":c,large:bi,"large-width":c,"large-height":c,"1536x1536":bi,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bi,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bi,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.magicblock.gg\u002F"},{company_name:d$,square_logo:{ID:gP,id:gP,title:d$,filename:"mbd.svg",filesize:2670,url:bj,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fmbd\u002F",alt:a,author:E,description:a,caption:a,name:d$,status:m,uploaded_to:b,date:cW,modified:cW,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bj,"thumbnail-width":c,"thumbnail-height":c,medium:bj,"medium-width":c,"medium-height":c,medium_large:bj,"medium_large-width":c,"medium_large-height":c,large:bj,"large-width":c,"large-height":c,"1536x1536":bj,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bj,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bj,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:a},{company_name:ea,square_logo:{ID:gQ,id:gQ,title:ea,filename:"mentaport.svg",filesize:878,url:bk,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fmentaport\u002F",alt:a,author:E,description:a,caption:a,name:ea,status:m,uploaded_to:b,date:cW,modified:cW,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bk,"thumbnail-width":c,"thumbnail-height":c,medium:bk,"medium-width":c,"medium-height":c,medium_large:bk,"medium_large-width":c,"medium_large-height":c,large:bk,"large-width":c,"large-height":c,"1536x1536":bk,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bk,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bk,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.mentaport.com\u002F"},{company_name:eb,square_logo:{ID:gR,id:gR,title:eb,filename:"mir.svg",filesize:1130,url:bl,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fmir\u002F",alt:a,author:E,description:a,caption:a,name:eb,status:m,uploaded_to:b,date:cX,modified:cX,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bl,"thumbnail-width":c,"thumbnail-height":c,medium:bl,"medium-width":c,"medium-height":c,medium_large:bl,"medium_large-width":c,"medium_large-height":c,large:bl,"large-width":c,"large-height":c,"1536x1536":bl,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bl,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bl,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:a},{company_name:ec,square_logo:{ID:gS,id:gS,title:ec,filename:"narval.svg",filesize:3111,url:bm,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fnarval\u002F",alt:a,author:E,description:a,caption:a,name:ec,status:m,uploaded_to:b,date:cX,modified:cX,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bm,"thumbnail-width":c,"thumbnail-height":c,medium:bm,"medium-width":c,"medium-height":c,medium_large:bm,"medium_large-width":c,"medium_large-height":c,large:bm,"large-width":c,"large-height":c,"1536x1536":bm,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bm,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bm,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"http:\u002F\u002Fnarval.xyz"},{company_name:"Nebra",square_logo:{ID:gT,id:gT,title:"NEBRA_logo_1 - Shumo Chu",filename:"NEBRA_logo_1-Shumo-Chu.svg",filesize:2102,url:bn,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fnebra_logo_1-shumo-chu\u002F",alt:a,author:ai,description:a,caption:a,name:"nebra_logo_1-shumo-chu",status:m,uploaded_to:b,date:gU,modified:gU,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bn,"thumbnail-width":c,"thumbnail-height":c,medium:bn,"medium-width":c,"medium-height":c,medium_large:bn,"medium_large-width":c,"medium_large-height":c,large:bn,"large-width":c,"large-height":c,"1536x1536":bn,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bn,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bn,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"nebra.one"},{company_name:"Neynar",square_logo:{ID:gV,id:gV,title:"Frame 27 - Rishav Mukherji",filename:"Frame-27-Rishav-Mukherji.svg",filesize:4170,url:bo,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fframe-27-rishav-mukherji\u002F",alt:a,author:ai,description:a,caption:a,name:"frame-27-rishav-mukherji",status:m,uploaded_to:b,date:gW,modified:gW,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bo,"thumbnail-width":c,"thumbnail-height":c,medium:bo,"medium-width":c,"medium-height":c,medium_large:bo,"medium_large-width":c,"medium_large-height":c,large:bo,"large-width":c,"large-height":c,"1536x1536":bo,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bo,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bo,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"http:\u002F\u002Fneynar.com"},{company_name:"Nodekit",square_logo:{ID:gX,id:gX,title:"NodeKit Logo - Atomic Abyss (1) - Nick Preszler",filename:"NodeKit-Logo-Atomic-Abyss-1-Nick-Preszler.svg",filesize:4216,url:bp,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fnodekit-logo-atomic-abyss-1-nick-preszler\u002F",alt:a,author:ai,description:a,caption:a,name:"nodekit-logo-atomic-abyss-1-nick-preszler",status:m,uploaded_to:b,date:gY,modified:gY,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bp,"thumbnail-width":c,"thumbnail-height":c,medium:bp,"medium-width":c,"medium-height":c,medium_large:bp,"medium_large-width":c,"medium_large-height":c,large:bp,"large-width":c,"large-height":c,"1536x1536":bp,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bp,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bp,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"http:\u002F\u002Fnodekit.xyz"},{company_name:"notional finance",square_logo:{ID:gZ,id:gZ,title:g_,filename:"notion-finance.svg",filesize:1843,url:bq,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fnotion-finance\u002F",alt:a,author:E,description:a,caption:a,name:g_,status:m,uploaded_to:b,date:cY,modified:cY,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bq,"thumbnail-width":c,"thumbnail-height":c,medium:bq,"medium-width":c,"medium-height":c,medium_large:bq,"medium_large-width":c,"medium_large-height":c,large:bq,"large-width":c,"large-height":c,"1536x1536":bq,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bq,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bq,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fnotional.finance\u002F"},{company_name:"OpenTrade",square_logo:{ID:g$,id:g$,title:"OpenTrade-logo (2) - David Sutter",filename:"OpenTrade-logo-2-David-Sutter.svg",filesize:4133,url:br,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fopentrade-logo-2-david-sutter\u002F",alt:a,author:ai,description:a,caption:a,name:"opentrade-logo-2-david-sutter",status:m,uploaded_to:b,date:ha,modified:ha,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:br,"thumbnail-width":c,"thumbnail-height":c,medium:br,"medium-width":c,"medium-height":c,medium_large:br,"medium_large-width":c,"medium_large-height":c,large:br,"large-width":c,"large-height":c,"1536x1536":br,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":br,"2048x2048-width":c,"2048x2048-height":c,"medium-size":br,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.opentrade.io\u002F"},{company_name:hb,square_logo:{ID:hc,id:hc,title:hb,filename:"phantom.svg",filesize:ao,url:bs,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fphantom-2\u002F",alt:a,author:E,description:a,caption:a,name:"phantom-2",status:m,uploaded_to:b,date:cY,modified:cY,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bs,"thumbnail-width":c,"thumbnail-height":c,medium:bs,"medium-width":c,"medium-height":c,medium_large:bs,"medium_large-width":c,"medium_large-height":c,large:bs,"large-width":c,"large-height":c,"1536x1536":bs,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bs,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bs,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fphantom.app\u002F"},{company_name:hd,square_logo:{ID:he,id:he,title:hd,filename:"pimlico.svg",filesize:4377,url:bt,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fpimlico-2\u002F",alt:a,author:E,description:a,caption:a,name:"pimlico-2",status:m,uploaded_to:b,date:cZ,modified:cZ,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bt,"thumbnail-width":c,"thumbnail-height":c,medium:bt,"medium-width":c,"medium-height":c,medium_large:bt,"medium_large-width":c,"medium_large-height":c,large:bt,"large-width":c,"large-height":c,"1536x1536":bt,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bt,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bt,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.pimlico.io\u002F"},{company_name:"Playmint",square_logo:{ID:hf,id:hf,title:"Playmint_Logo_Export_Colour_Black - Luke Gibson",filename:"Playmint_Logo_Export_Colour_Black-Luke-Gibson.svg",filesize:6812,url:bu,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fcsx\u002Fplaymint_logo_export_colour_black-luke-gibson\u002F",alt:a,author:ai,description:a,caption:a,name:"playmint_logo_export_colour_black-luke-gibson",status:m,uploaded_to:hg,date:"2024-09-03 23:34:57",modified:"2024-09-04 22:32:11",menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bu,"thumbnail-width":c,"thumbnail-height":c,medium:bu,"medium-width":c,"medium-height":c,medium_large:bu,"medium_large-width":c,"medium_large-height":c,large:bu,"large-width":c,"large-height":c,"1536x1536":bu,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bu,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bu,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fplaymint.com\u002F"},{company_name:ed,square_logo:{ID:hh,id:hh,title:ed,filename:"primev.svg",filesize:1684,url:bv,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fprimev\u002F",alt:a,author:E,description:a,caption:a,name:ed,status:m,uploaded_to:b,date:cZ,modified:cZ,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bv,"thumbnail-width":c,"thumbnail-height":c,medium:bv,"medium-width":c,"medium-height":c,medium_large:bv,"medium_large-width":c,"medium_large-height":c,large:bv,"large-width":c,"large-height":c,"1536x1536":bv,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bv,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bv,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fprimev.xyz\u002F"},{company_name:"Roux",square_logo:{ID:hi,id:hi,title:"Roux_logo_castiron - Lisa Grimm",filename:"Roux_logo_castiron-Lisa-Grimm.svg",filesize:36761,url:bw,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fcsx\u002Froux_logo_castiron-lisa-grimm\u002F",alt:a,author:ai,description:a,caption:a,name:"roux_logo_castiron-lisa-grimm",status:m,uploaded_to:hg,date:"2024-09-03 23:35:45",modified:"2024-09-04 22:32:12",menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bw,"thumbnail-width":c,"thumbnail-height":c,medium:bw,"medium-width":c,"medium-height":c,medium_large:bw,"medium_large-width":c,"medium_large-height":c,large:bw,"large-width":c,"large-height":c,"1536x1536":bw,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bw,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bw,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"www.roux.app"},{company_name:ee,square_logo:{ID:hj,id:hj,title:ee,filename:"shield.svg",filesize:2662,url:bx,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fshield\u002F",alt:a,author:E,description:a,caption:a,name:ee,status:m,uploaded_to:b,date:c_,modified:c_,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bx,"thumbnail-width":c,"thumbnail-height":c,medium:bx,"medium-width":c,"medium-height":c,medium_large:bx,"medium_large-width":c,"medium_large-height":c,large:bx,"large-width":c,"large-height":c,"1536x1536":bx,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bx,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bx,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"http:\u002F\u002Fgetshield.xyz"},{company_name:"Siren",square_logo:{ID:hk,id:hk,title:"siren_Logo_black (1) - Andrei Anisimov",filename:"siren_Logo_black-1-Andrei-Anisimov.svg",filesize:2329,url:by,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fsiren_logo_black-1-andrei-anisimov\u002F",alt:a,author:ai,description:a,caption:a,name:"siren_logo_black-1-andrei-anisimov",status:m,uploaded_to:b,date:hl,modified:hl,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:by,"thumbnail-width":c,"thumbnail-height":c,medium:by,"medium-width":c,"medium-height":c,medium_large:by,"medium_large-width":c,"medium_large-height":c,large:by,"large-width":c,"large-height":c,"1536x1536":by,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":by,"2048x2048-width":c,"2048x2048-height":c,"medium-size":by,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fsiren.xyz\u002F"},{company_name:ef,square_logo:{ID:hm,id:hm,title:ef,filename:"skylab.svg",filesize:2674,url:bz,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fskylab\u002F",alt:a,author:E,description:a,caption:a,name:ef,status:m,uploaded_to:b,date:c_,modified:c_,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bz,"thumbnail-width":c,"thumbnail-height":c,medium:bz,"medium-width":c,"medium-height":c,medium_large:bz,"medium_large-width":c,"medium_large-height":c,large:bz,"large-width":c,"large-height":c,"1536x1536":bz,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bz,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bz,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.skylab.xyz\u002F"},{company_name:"Spire",square_logo:{ID:hn,id:hn,title:"transparent - Kaito Yanai",filename:"transparent-Kaito-Yanai.svg",filesize:2085,url:bA,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Ftransparent-kaito-yanai\u002F",alt:a,author:ai,description:a,caption:a,name:"transparent-kaito-yanai",status:m,uploaded_to:b,date:ho,modified:ho,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bA,"thumbnail-width":c,"thumbnail-height":c,medium:bA,"medium-width":c,"medium-height":c,medium_large:bA,"medium_large-width":c,"medium_large-height":c,large:bA,"large-width":c,"large-height":c,"1536x1536":bA,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bA,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bA,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.spire.dev\u002F"},{company_name:eg,square_logo:{ID:hp,id:hp,title:eg,filename:"spring.svg",filesize:13520,url:bB,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fspring\u002F",alt:a,author:E,description:a,caption:a,name:eg,status:m,uploaded_to:b,date:c$,modified:c$,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bB,"thumbnail-width":c,"thumbnail-height":c,medium:bB,"medium-width":c,"medium-height":c,medium_large:bB,"medium_large-width":c,"medium_large-height":c,large:bB,"large-width":c,"large-height":c,"1536x1536":bB,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bB,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bB,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fspringinafrica.com"},{company_name:eh,square_logo:{ID:hq,id:hq,title:eh,filename:"stackr.svg",filesize:4351,url:bC,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fstackr\u002F",alt:a,author:E,description:a,caption:a,name:eh,status:m,uploaded_to:b,date:c$,modified:c$,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bC,"thumbnail-width":c,"thumbnail-height":c,medium:bC,"medium-width":c,"medium-height":c,medium_large:bC,"medium_large-width":c,"medium_large-height":c,large:bC,"large-width":c,"large-height":c,"1536x1536":bC,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bC,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bC,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.stackrlabs.xyz"},{company_name:hr,square_logo:{ID:hs,id:hs,title:hr,filename:"teller-1.svg",filesize:1081,url:bD,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fteller-2\u002F",alt:a,author:E,description:a,caption:a,name:"teller-2",status:m,uploaded_to:b,date:da,modified:da,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bD,"thumbnail-width":c,"thumbnail-height":c,medium:bD,"medium-width":c,"medium-height":c,medium_large:bD,"medium_large-width":c,"medium_large-height":c,large:bD,"large-width":c,"large-height":c,"1536x1536":bD,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bD,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bD,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.teller.org\u002F"},{company_name:"Titles",square_logo:h,full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Ftitles.xyz"},{company_name:"Tranched",square_logo:{ID:ht,id:ht,title:hu,filename:"logo_black.svg",filesize:7536,url:bE,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Flogo_black\u002F",alt:a,author:ai,description:a,caption:a,name:hu,status:m,uploaded_to:b,date:hv,modified:hv,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bE,"thumbnail-width":c,"thumbnail-height":c,medium:bE,"medium-width":c,"medium-height":c,medium_large:bE,"medium_large-width":c,"medium_large-height":c,large:bE,"large-width":c,"large-height":c,"1536x1536":bE,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bE,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bE,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Ftranched.fi\u002F"},{company_name:"triangle labs",square_logo:{ID:hw,id:hw,title:hx,filename:"triangle-labs.svg",filesize:13036,url:bF,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Ftriangle-labs\u002F",alt:a,author:E,description:a,caption:a,name:hx,status:m,uploaded_to:b,date:da,modified:da,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bF,"thumbnail-width":c,"thumbnail-height":c,medium:bF,"medium-width":c,"medium-height":c,medium_large:bF,"medium_large-width":c,"medium_large-height":c,large:bF,"large-width":c,"large-height":c,"1536x1536":bF,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bF,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bF,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:a},{company_name:"Tweed",square_logo:{ID:hy,id:hy,title:"logo (1) - Michelle Latzer",filename:"logo-1-Michelle-Latzer.svg",filesize:2925,url:bG,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Flogo-1-michelle-latzer\u002F",alt:a,author:ai,description:a,caption:a,name:"logo-1-michelle-latzer",status:m,uploaded_to:b,date:hz,modified:hz,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bG,"thumbnail-width":c,"thumbnail-height":c,medium:bG,"medium-width":c,"medium-height":c,medium_large:bG,"medium_large-width":c,"medium_large-height":c,large:bG,"large-width":c,"large-height":c,"1536x1536":bG,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bG,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bG,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"www.paytweed.com"},{company_name:"web 3 analytics",square_logo:{ID:hA,id:hA,title:hB,filename:"web3analytics.svg",filesize:2502,url:bH,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fweb3analytics\u002F",alt:a,author:E,description:a,caption:a,name:hB,status:m,uploaded_to:b,date:db,modified:db,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bH,"thumbnail-width":c,"thumbnail-height":c,medium:bH,"medium-width":c,"medium-height":c,medium_large:bH,"medium_large-width":c,"medium_large-height":c,large:bH,"large-width":c,"large-height":c,"1536x1536":bH,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bH,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bH,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fwww.web3analytic.xyz\u002F"},{company_name:"zero dev",square_logo:{ID:hC,id:hC,title:hD,filename:"zero-dev.svg",filesize:2378,url:bI,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fzero-dev\u002F",alt:a,author:E,description:a,caption:a,name:hD,status:m,uploaded_to:b,date:db,modified:db,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bI,"thumbnail-width":c,"thumbnail-height":c,medium:bI,"medium-width":c,"medium-height":c,medium_large:bI,"medium_large-width":c,"medium_large-height":c,large:bI,"large-width":c,"large-height":c,"1536x1536":bI,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bI,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bI,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"https:\u002F\u002Fzerodev.app\u002F"},{company_name:"zkSpin",square_logo:{ID:hE,id:hE,title:"zkSpin Logo - Justin Zhang",filename:"zkSpin-Logo-Justin-Zhang.svg",filesize:4206,url:bJ,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fzkspin-logo-justin-zhang\u002F",alt:a,author:ai,description:a,caption:a,name:"zkspin-logo-justin-zhang",status:m,uploaded_to:b,date:hF,modified:hF,menu_order:b,mime_type:p,type:n,subtype:q,icon:o,width:b,height:b,sizes:{thumbnail:bJ,"thumbnail-width":c,"thumbnail-height":c,medium:bJ,"medium-width":c,"medium-height":c,medium_large:bJ,"medium_large-width":c,"medium_large-height":c,large:bJ,"large-width":c,"large-height":c,"1536x1536":bJ,"1536x1536-width":c,"1536x1536-height":c,"2048x2048":bJ,"2048x2048-width":c,"2048x2048-height":c,"medium-size":bJ,"medium-size-width":c,"medium-size-height":c}},full_logo:h,x:a,linkedin:a,website:"http:\u002F\u002Fwww.zkspin.xyz"}];fF.cta_background={ID:hG,id:hG,title:hH,filename:"cta-backgrtound.png",filesize:509739,url:ei,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fcta-backgrtound\u002F",alt:a,author:E,description:a,caption:a,name:hH,status:m,uploaded_to:b,date:hI,modified:hI,menu_order:b,mime_type:dV,type:n,subtype:fX,icon:o,width:ej,height:ek,sizes:{thumbnail:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcta-backgrtound-150x150.png","thumbnail-width":$,"thumbnail-height":$,medium:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcta-backgrtound-300x142.png","medium-width":ah,"medium-height":142,medium_large:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcta-backgrtound-768x365.png","medium_large-width":768,"medium_large-height":365,large:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcta-backgrtound-1024x486.png","large-width":aj,"large-height":486,"1536x1536":ei,"1536x1536-width":ej,"1536x1536-height":ek,"2048x2048":ei,"2048x2048-width":ej,"2048x2048-height":ek,"medium-size":"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcta-backgrtound-600x400.png","medium-size-width":600,"medium-size-height":fY}};fF.cta_eyebrow=a;fF.cta_title=a;fF.cta_description=a;fF.cta_button=a;fF.csx_subscription_placeholder="Enter your email";fF.csx_subscription_button_text="subscribe for updates";fF.csx_subscription_thank_you="You're subscribed!";fF.vo_form_disclosure="\u003Cp\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to purchase or sell any asset. An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund.\u003C\u002Fp\u003E\n\u003Cp\u003ECertain information contained herein has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. Links may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fp\u003E\n";fF.analytics_code_header=a;fF.banner=h;fF.banner_copy="Crypto is on the ballot. Go here for more election resources";fF.banner_link={title:a,url:"https:\u002F\u002Fwww.standwithcrypto.org\u002Fvote",target:a};fF.csx_applications_open_date="01\u002F01\u002F2025 12:00 am";fF.csx_applications_close_date="07\u002F02\u002F2025 12:00 am";fH[0]={title:"Jobs",link:"\u002Fjobs\u002Fcompanies\u002F"};fH[1]={title:"Announcements",link:"\u002Fposts\u002Ftags\u002Fannouncements"};fH[2]={title:"Legal",link:"\u002Flegal"};fH[3]={title:"Sitemap",link:"\u002Fsitemap"};fH[4]={title:"a16z.com",link:"https:\u002F\u002Fa16z.com"};fI[0]={title:"Twitter",link:"https:\u002F\u002Ftwitter.com\u002Fa16zcrypto"};fI[1]={title:"GitHub",link:"https:\u002F\u002Fgithub.com\u002Fa16z"};fI[2]={title:"YouTube",link:"https:\u002F\u002Fwww.youtube.com\u002Fchannel\u002FUCTHq3W46BiAYjKUYZq2qm-Q"};fI[3]={title:"Farcaster",link:"https:\u002F\u002Fwarpcast.com\u002Fa16zcrypto"};fI[4]={title:"LinkedIn",link:"https:\u002F\u002Fwww.linkedin.com\u002Fshowcase\u002Fa16zcrypto\u002F?viewAsMember=true"};fI[5]={title:"Instagram",link:"https:\u002F\u002Fwww.instagram.com\u002Fa16zcrypto\u002F"};fJ[0]={title:"Apple Music",link:"https:\u002F\u002Fpodcasts.apple.com\u002Fus\u002Fpodcast\u002Fweb3-with-a16z-crypto\u002Fid1622312549"};fJ[1]={title:"Spotify",link:"https:\u002F\u002Fopen.spotify.com\u002Fshow\u002F7pMZvsNXEnb0CYcPiDQywE"};fJ[2]={title:"Amazon Music",link:"https:\u002F\u002Fmusic.amazon.com\u002Fpodcasts\u002Fc8e9bb85-11da-4498-ac00-9288f493f6db\u002Fweb3-with-a16z-crypto"};fJ[3]={title:"Overcast",link:"https:\u002F\u002Fovercast.fm\u002Flogin"};fJ[4]={title:"Stitcher",link:"https:\u002F\u002Fwww.stitcher.com\u002Fshow\u002Fweb3-with-a16z"};fJ[5]={title:"IHeartRadio",link:"https:\u002F\u002Fwww.iheart.com\u002Fpodcast\u002F1168-web3-with-a16z-96501686\u002F"};fJ[6]={title:"Pocket Casts",link:"https:\u002F\u002Fpca.st\u002F4ghx22vk"};hX.title=r;hX.slug=s;hX.featured_posts=g;return {data:[{taxonomiesKeys:["themes","focus-areas","series","departments","locations","stages","industries","tags","formats"],isTaxonomy:e,parsely:void 0}],fetch:{"data-v-73085de4:0":{fixedHeader:h,debounce:g,searching:h,settings:fF,mainMenu:[{ID:hJ,post_author:dc,post_date:cg,post_date_gmt:hK,post_content:a,post_title:hL,post_excerpt:a,post_status:G,comment_status:ad,ping_status:ad,post_password:a,post_name:"about-2",to_ping:a,pinged:a,post_modified:cg,post_modified_gmt:el,post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.approvemyviews.com\u002F?p=4821",menu_order:c,post_type:bR,post_mime_type:a,comment_count:x,filter:d,db_id:hJ,menu_item_parent:x,object_id:"92",object:cL,type:cM,type_label:cN,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fabout\u002F",title:hL,target:a,attr_title:a,description:a,classes:[a],xfn:a},{ID:hM,post_author:dc,post_date:cg,post_date_gmt:hK,post_content:a,post_title:hN,post_excerpt:a,post_status:G,comment_status:ad,ping_status:ad,post_password:a,post_name:"portfolio-2",to_ping:a,pinged:a,post_modified:cg,post_modified_gmt:el,post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.approvemyviews.com\u002F?p=4822",menu_order:dd,post_type:bR,post_mime_type:a,comment_count:x,filter:d,db_id:hM,menu_item_parent:x,object_id:"94",object:cL,type:cM,type_label:cN,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fportfolio\u002F",title:hN,target:a,attr_title:a,description:a,classes:[a],xfn:a},{ID:hO,post_author:de,post_date:cg,post_date_gmt:"2023-01-26 15:42:16",post_content:a,post_title:hP,post_excerpt:a,post_status:G,comment_status:ad,ping_status:ad,post_password:a,post_name:"content",to_ping:a,pinged:a,post_modified:cg,post_modified_gmt:el,post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16z.netlify.app\u002F?p=3770",menu_order:aL,post_type:bR,post_mime_type:a,comment_count:x,filter:d,db_id:hO,menu_item_parent:x,object_id:"3770",object:df,type:df,type_label:hQ,title:hP,url:"\u002Fposts\u002F",target:a,attr_title:a,description:a,classes:[a],xfn:a},{ID:hR,post_author:dc,post_date:bK,post_date_gmt:"2023-02-23 07:58:30",post_content:a,post_title:cH,post_excerpt:a,post_status:G,comment_status:ad,ping_status:ad,post_password:a,post_name:cH,to_ping:a,pinged:a,post_modified:bK,post_modified_gmt:dg,post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.approvemyviews.com\u002F?p=4823",menu_order:ak,post_type:bR,post_mime_type:a,comment_count:x,filter:d,db_id:hR,menu_item_parent:x,object_id:"117",object:cL,type:cM,type_label:cN,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fpolicy\u002F",title:cH,target:a,attr_title:a,description:a,classes:[a],xfn:a},{ID:hS,post_author:cO,post_date:bK,post_date_gmt:"2023-02-27 23:58:17",post_content:a,post_title:D,post_excerpt:a,post_status:G,comment_status:ad,ping_status:ad,post_password:a,post_name:D,to_ping:a,pinged:a,post_modified:bK,post_modified_gmt:dg,post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16z.netlify.app\u002F?p=6202",menu_order:5,post_type:bR,post_mime_type:a,comment_count:x,filter:d,db_id:hS,menu_item_parent:x,object_id:"107",object:cL,type:cM,type_label:cN,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fresearch\u002F",title:D,target:a,attr_title:a,description:a,classes:[a],xfn:a},{ID:hT,post_author:dc,post_date:bK,post_date_gmt:"2023-02-23 07:56:09",post_content:a,post_title:hU,post_excerpt:a,post_status:G,comment_status:ad,ping_status:ad,post_password:a,post_name:"4820",to_ping:a,pinged:a,post_modified:bK,post_modified_gmt:dg,post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.approvemyviews.com\u002F?p=4820",menu_order:aM,post_type:bR,post_mime_type:a,comment_count:x,filter:d,db_id:hT,menu_item_parent:x,object_id:"113",object:cL,type:cM,type_label:cN,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Faccelerator\u002F",title:hU,target:a,attr_title:a,description:a,classes:[a],xfn:a},{ID:hV,post_author:cO,post_date:bK,post_date_gmt:"2024-03-28 21:35:16",post_content:a,post_title:hW,post_excerpt:a,post_status:G,comment_status:ad,ping_status:ad,post_password:a,post_name:"state-of-crypto",to_ping:a,pinged:a,post_modified:bK,post_modified_gmt:dg,post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fapi.a16zcrypto.com\u002F?p=10280",menu_order:aN,post_type:bR,post_mime_type:a,comment_count:x,filter:d,db_id:hV,menu_item_parent:x,object_id:"10280",object:df,type:df,type_label:hQ,title:hW,url:"https:\u002F\u002Fa16zcrypto.com\u002Fstateofcryptoindex\u002F",target:a,attr_title:a,description:a,classes:[a],xfn:a}],contentSlideoutOpen:h},"data-v-0d1bf34e:0":{selectedFormats:[],showFilter:h,term:hX,tags:[{title:"AI &amp; crypto",slug:"ai-crypto",featured_posts:g},{title:hY,slug:hY,featured_posts:g},{title:"AMMs",slug:"amms",featured_posts:g},{title:"anatomy of a hack",slug:"anatomy-of-a-hack",featured_posts:g},{title:bL,slug:bL,featured_posts:g},{title:"annual Big Ideas",slug:"annual-big-ideas",featured_posts:g},{title:"arts &amp; culture",slug:"arts-culture",featured_posts:g},{title:em,slug:en,featured_posts:g},{title:hZ,slug:hZ,featured_posts:g},{title:eo,slug:ep,featured_posts:g},{title:h_,slug:h_,featured_posts:g},{title:"brand &amp; marketing",slug:"brand-marketing",featured_posts:g},{title:"business strategy",slug:"business-strategy-for-web3",featured_posts:g},{title:"choosing infrastructure",slug:"choosing-infrastructure",featured_posts:g},{title:"comment letters &amp; amicus briefs",slug:"comment-letters",featured_posts:g},{title:eq,slug:er,featured_posts:g},{title:h$,slug:h$,featured_posts:g},{title:"compliance &amp; illicit finance",slug:"compliance-illicit-finance",featured_posts:g},{title:ia,slug:ia,featured_posts:g},{title:aa,slug:aa,featured_posts:g},{title:"creator economy",slug:"creator-economy",featured_posts:g},{title:es,slug:et,featured_posts:g},{title:"Crypto Startup Accelerator (CSX)",slug:"crypto-startup-accelerator-csx",featured_posts:g},{title:al,slug:al,featured_posts:g},{title:"CSX 2020",slug:"csx-2020",featured_posts:g},{title:"CSX 2023",slug:"csx-2023",featured_posts:g},{title:"CSX 2024 (London)",slug:"csx-2024",featured_posts:g},{title:"CSX 2024 (NYC)",slug:"csx-2024-2",featured_posts:g},{title:"CSX 2025 (SF)",slug:"csx-2025-sf",featured_posts:g},{title:ib,slug:ib,featured_posts:g},{title:ic,slug:ic,featured_posts:g},{title:"DAGs",slug:"dags-directed-acylic-graphs",featured_posts:g},{title:aC,slug:aC,featured_posts:g},{title:"DAOs",slug:"daos",featured_posts:g},{title:bS,slug:bT,featured_posts:g},{title:"data insights",slug:"data-insights",featured_posts:g},{title:id,slug:id,featured_posts:g},{title:cT,slug:cT,featured_posts:g},{title:"decentralization how-to",slug:"decentralization-how-to",featured_posts:g},{title:"decentralized media &amp; entertainment",slug:"media-entertainment",featured_posts:g},{title:eu,slug:ev,featured_posts:g},{title:"DePIN",slug:"depin",featured_posts:g},{title:"DeSci",slug:"desci",featured_posts:g},{title:"design &amp; user experience",slug:"ux-design-user-experience",featured_posts:g},{title:"developer experience &amp; tooling",slug:"developer-experience-tooling",featured_posts:g},{title:"digital assets",slug:"digital-assets",featured_posts:g},{title:"DUNA",slug:"duna",featured_posts:g},{title:ch,slug:ch,featured_posts:g},hX,{title:"FAQ",slug:"faq",featured_posts:g},{title:"FHE (fully homomorphic encryption)",slug:"fhe",featured_posts:g},{title:ew,slug:ex,featured_posts:g},{title:"formal verification",slug:"formal-verification",featured_posts:g},{title:ey,slug:ez,featured_posts:g},{title:"Founders Summit 2022",slug:"founders-summit-2022",featured_posts:g},{title:"Founders Summit 2023",slug:"founders-summit-2023",featured_posts:g},{title:ie,slug:ie,featured_posts:g},{title:aD,slug:aD,featured_posts:g},{title:cP,slug:cQ,featured_posts:g},{title:"go-to-market",slug:"go-to-market-gtm",featured_posts:g},{title:if0,slug:if0,featured_posts:g},{title:ci,slug:ci,featured_posts:g},{title:"governance best practices",slug:"governance-best-practices",featured_posts:g},{title:"government agencies",slug:"government-agencies",featured_posts:g},{title:"guest posts",slug:"guest-posts",featured_posts:g},{title:"Halmos",slug:"halmos",featured_posts:g},{title:cj,slug:cj,featured_posts:g},{title:"hiring &amp; recruiting",slug:"hiring",featured_posts:g},{title:ig,slug:ig,featured_posts:g},{title:"how innovation happens",slug:"how-innovation-happens",featured_posts:g},{title:"identity &amp; reputation",slug:"decentralized-identity-reputation-pseudonymity-anonymity",featured_posts:g},{title:ih,slug:ih,featured_posts:g},{title:"innovation ecosystems",slug:"innovation-ecosystems",featured_posts:g},{title:ck,slug:ck,featured_posts:g},{title:"IP",slug:"ip-intellectual-property",featured_posts:g},{title:"Lasso + Jolt",slug:"lasso-jolt",featured_posts:g},{title:"legal best practices",slug:"legal-best-practices",featured_posts:g},{title:"licensing",slug:"licensing-licenses",featured_posts:g},{title:eA,slug:eB,featured_posts:g},{title:ii,slug:ii,featured_posts:g},{title:"LVR",slug:"lvr",featured_posts:g},{title:"Machiavelli for DAOs series",slug:"machiavelli-for-daos-series",featured_posts:g},{title:"machine learning",slug:"machine-learning",featured_posts:g},{title:"marketplaces",slug:"marketplaces-platforms",featured_posts:g},{title:"mechanism design",slug:"mechanism-design",featured_posts:g},{title:"mental models &amp; frameworks",slug:"mental-models-frameworks",featured_posts:g},{title:ij,slug:ij,featured_posts:g},{title:"metrics &amp; measures",slug:"metrics-measures",featured_posts:g},{title:eC,slug:eD,featured_posts:g},{title:"multi-client diversity",slug:"multi-client-diversity",featured_posts:g},{title:"network effects",slug:"network-effects",featured_posts:g},{title:"newsletters",slug:"newsletter",featured_posts:g},{title:eE,slug:eF,featured_posts:g},{title:"offline to online",slug:"offline-to-online",featured_posts:g},{title:eG,slug:eH,featured_posts:g},{title:bU,slug:bV,featured_posts:g},{title:"partnerships &amp; sales",slug:"partnerships-sales",featured_posts:g},{title:"PCNs",slug:"payment-channel-network-pcns",featured_posts:g},{title:"people practices &amp; HR",slug:"hr-people-practices",featured_posts:g},{title:"pitching investors",slug:"pitch-investors",featured_posts:g},{title:ik,slug:ik,featured_posts:g},{title:J,slug:J,featured_posts:g},{title:cl,slug:cl,featured_posts:g},{title:il,slug:il,featured_posts:g},{title:"product-market fit",slug:"product-market-fit",featured_posts:g},{title:im,slug:im,featured_posts:g},{title:"progressive decentralization",slug:"progressive-decentralization",featured_posts:g},{title:ay,slug:az,featured_posts:g},{title:"proof of unique personhood",slug:"proof-of-unique-personhood",featured_posts:g},{title:"proof of work",slug:"proof-of-work",featured_posts:g},{title:eI,slug:eJ,featured_posts:g},{title:"Q&amp;As",slug:"qas",featured_posts:g},{title:"quantum computing &amp; post-quantum crypto",slug:"quantum-post-quantum-crypto",featured_posts:g},{title:"regulatory know-how",slug:"regulatory-know-how",featured_posts:g},{title:"regulatory updates",slug:"regulatory-updates-roundups-recaps",featured_posts:g},{title:"release notes",slug:"release-notes",featured_posts:g},{title:D,slug:D,featured_posts:g},{title:am,slug:am,featured_posts:g},{title:in0,slug:in0,featured_posts:g},{title:io,slug:io,featured_posts:g},{title:ip,slug:ip,featured_posts:g},{title:aA,slug:aB,featured_posts:g},{title:W,slug:W,featured_posts:g},{title:"security best practices",slug:"security-best-practices",featured_posts:g},{title:iq,slug:iq,featured_posts:g},{title:"smart contracts",slug:"smart-contracts",featured_posts:g},{title:eK,slug:eL,featured_posts:g},{title:"SoC",slug:"soc",featured_posts:g},{title:"SoC 2024",slug:"soc-2024",featured_posts:g},{title:"social networks",slug:"social-networks",featured_posts:g},{title:ir,slug:ir,featured_posts:g},{title:"Solidity",slug:"solidity",featured_posts:g},{title:is,slug:is,featured_posts:g},{title:"State of Crypto 2022",slug:"state-of-crypto-2022",featured_posts:g},{title:"State of Crypto 2023",slug:"state-of-crypto-2023",featured_posts:g},{title:"State of Crypto 2024",slug:"state-of-crypto-2024",featured_posts:g},{title:"tax policy",slug:"tax-policy",featured_posts:g},{title:"TEEs (trusted execution environment)",slug:"tees",featured_posts:g},{title:bW,slug:bX,featured_posts:g},{title:"token design",slug:"token-design",featured_posts:g},{title:"token launch playbook",slug:"token-launch-playbook",featured_posts:g},{title:it,slug:it,featured_posts:g},{title:"UK",slug:"uk",featured_posts:g},{title:eM,slug:eN,featured_posts:g},{title:I,slug:I,featured_posts:g},{title:"Voices Onchain",slug:"voices-onchain",featured_posts:g},{title:iu,slug:iu,featured_posts:g},{title:"VR",slug:"vr",featured_posts:g},{title:iv,slug:iv,featured_posts:g},{title:"web2 to web3",slug:"web2-to-web3",featured_posts:g},{title:"what we're reading",slug:"what-were-reading",featured_posts:g},{title:cU,slug:cV,featured_posts:[2976]}],formats:[{title:v,slug:l,featured_posts:g},{title:iw,slug:iw,featured_posts:g},{title:"papers",slug:"papers-journals-whitepapers",featured_posts:g},{title:aE,slug:J,featured_posts:g},{title:y,slug:y,featured_posts:g}],allPosts:[{ID:13026,post_author:bY,post_date:ix,post_date_gmt:iy,post_content:a,post_title:iz,post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"ethereum-roadmap-focil-and-multi-proposers",to_ping:a,pinged:a,post_modified:ix,post_modified_gmt:iy,post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fapi.a16zcrypto.com\u002F?p=13026",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:iA,name:eO,slug:"cap-pranav-garimidi",term_group:b,term_taxonomy_id:iA,taxonomy:z,description:"Pranav Garimidi Pranav Garimidi pranav-garimidi 1177 ",parent:b,count:aN,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d}],acf:{format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum now supports a vibrant ecosystem of applications and Layer 2s. But its transaction supply chain, which determines which transactions land onchain, enshrines certain participants with market power, harming the chain’s economic efficiency. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMany issues with Ethereum’s transaction supply chain stem from the fact that for every slot, a single proposer has monopoly control over what transactions to include in their block. Proposers also have incentives offchain and from the application layer that affect their behavior. These sometimes competing incentives make it difficult to encourage proposers to \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2024\u002F331\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehonestly follow the protocol\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETwo types of proposer deviations are of particular concern: (1) short-term censorship, and (2) acting on enshrined latency advantages. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EHow to prioritize and address these two problems depends on Ethereum’s development roadmap. If Ethereum has to solve short-term censorship resistance, constrained single proposer designs have appealing properties while also being close to well specified enough with proposals like \u003C\u002Fspan\u003E\u003Cb\u003EFOCIL\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to be implemented. But if Ethereum’s success also relies on addressing some of the negative market effects of single proposer schemes on the application layer, more drastic change likely needs to happen. \u003C\u002Fspan\u003E\u003Cb\u003EMulti-proposer schemes\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E look promising to address the broader concerns. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe rest of this post describes these problems in more detail before getting into how these issues impact Ethereum’s functionality. I&#8217;ll then analyze the two potential solutions to address them — the implementation of which depends on Ethereum’s roadmap. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003EProblem 1: Short-term censorship\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBlockchains inherent censorship resistance from liveness: Eventually every valid submitted transaction will make it onchain. But the bounds on how long a transaction will take to be included onchain are too loose for many applications. DeFi transactions are a common example, where it might be only a few seconds until a transaction is stale. In these scenarios, a proposer could stand to gain by censoring a transaction even for a single block, degrading the efficiency of these applications. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EConsider the \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fabs\u002F2301.13321\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ecase\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E where a dapp wants to sell an item every slot via a first price auction. Assume this item has a common value of $10; thus in a competitive auction we’d expect the dapp to receive around $10. But since the auction takes place over the course of a slot, all the bids from the auction need to be included by the proposer. In a single proposer scheme, the proposer could simply exclude others’ bids, and include only their own low bid, winning the item for much less than the item is worth. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESuch instances require a notion of \u003C\u002Fspan\u003E\u003Cb\u003Eshort-term censorship resistance\u003C\u002Fb\u003E \u003Cspan style=\"font-weight: 400;\"\u003Ethat captures how hard it is for an adversary to censor a transaction for a single block. Short-term censorship resistance is an economic property. If more transactions demand to be included in a block than there is space, some of the transactions must be left out. Those transactions aren’t necessarily being censored by an adversary; rather, they are simply priced out of inclusion. However, some protocols make it easier for an adversary to either price out or incentivize the proposer not to include target transactions. In the spirit of saying protocol A is \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Emore\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E censorship resistant than protocol B if it is more difficult for an adversary to censor a target transaction in A than B, we use the following definition: \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EProtocol A is more short-term censorship resistant than protocol B if all else equal, for any transaction t, the minimum net payments an adversary has to make to prevent t from being included at equilibrium in a given block is higher under A than B.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(This definition is intentionally not well defined mathematically. Formally defining the game being played and the equilibrium concept will be the subject of future work. For now, the examples convey the spirit of this definition.) \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EExample\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWith Ethereum using \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002FEIPs\u002Fblob\u002Fmaster\u002FEIPS\u002Feip-1559.md\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEIP-1559\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E as its fee mechanism, an adversary simply needs to pay the proposer more than a transaction’s tip above the base fee to not include it. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIf the fee mechanism is a first-price auction, an adversary would have to pay the proposer more than the entirety of a user’s bid to incentivize them to not include the transaction. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENote that bidders are expected to only pay tiny tips under EIP-1559. Thus while the bids under a first price auction are expected to be relatively small in comparison to a transaction’s true value, they are still substantially higher than what the transaction’s tip would be in EIP-1559. Thus we would say that Ethereum using a first price auction as its TFM is \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Emore\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E short-term censorship resistant than Ethereum using EIP-1559. In either case, however, if the equilibrium price for inclusion for a Defi transaction is high enough to deter an adversary, users now have to pay a hefty tax to the protocol in turn making the Defi app itself less attractive. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003EProblem 2: Enshrined proposer latency advantages\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn a single proposer architecture, the proposer is by design the last one to move in the block production game for a given slot. (In practice there is a complicated offchain transaction supply chain where relays move last. For the purposes of this post we treat proposers and builders as combined.) This means that proposers can always submit transactions that reflect a “fresher” state compared to any other submitted transactions. Even if both users and the proposer receive information simultaneously, it takes time for users to send their transactions to the proposer, during which new information might arrive. The proposer is in a position to instantly react to this information and potentially change their transaction, but the user has no time to do this. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor example, the optimal way to route a trade onchain may depend on the offchain ETH-USD price on Binance. In a single proposer architecture, a sophisticated proposer can submit trades that are more up-to-date than any users competing for the same trade. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003EExample\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EConsider our previous example of a dapp selling an item every slot via first-price auction. But now the item’s value is a function of constantly updating information. Assume there are two bidders competing for the item, agents 1 and 2. Both agents hear new information simultaneously, except agent 1 always gets to bid after agent 2. In this case, agent 2 is adversely selected against when they win because the only time bidder 2 wins is when the information updates after they submit their bid to the point that they are over paying. Otherwise, whenever the information changes so that bidder 2’s bid is profitable, bidder 1 will simply update their bid in response to the newer information and win the auction. This effect is especially stark when agent 1 can directly observe agent 2’s bid, but even if agent 1 can’t see agent 2’s bid, agent 1 still has a substantial competitive advantage. In the long run, agent 2 will not find it worth it to participate, letting agent 1 capture all the value from the auction. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis example shows how structural advantages given to the proposer can cause competition to dry up and drive all the surplus value from onchain markets to the proposer. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPossible solutions depend on the roadmap\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe extent to which short-term censorship resistance and proposer latency advantages matter depend on the Ethereum development roadmap. One vision for Ethereum’s future is fully embracing the L2 roadmap and having all meaningful execution happen offchain, with Ethereum being used for settlement, data availability, and proof-verification. In such a world, short-term censorship is the main problem, although achieving it over the span of ~10 blocks may be sufficient rather than the block-level guarantees we described above. An alternative path is for Ethereum to serve as a hub for high value execution, and in particular for high-value Defi. In this world, achieving strong short-term censorship resistance and alleviating proposers’ strong structural economic advantages becomes essential.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETwo alternatives help address these problems. The first is a \u003C\u002Fspan\u003E\u003Cb\u003Econstrained single proposer architecture\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E that adds committees which bind the proposer’s action space. The second is a \u003C\u002Fspan\u003E\u003Cb\u003Emulti-proposer architecture\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E that looks dramatically different from Ethereum’s current design: It splits the proposer’s power among many different parties. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhile both designs are still in active development, there have been proposals of what these architectures might look like. We outline what these proposals look like and analyze how they address the problems we’ve discussed. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA case for FOCIL\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EConstrained single proposer architecture\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA constrained single proposer architecture is one where a committee within the same block imposes constraints on the proposer. Inclusion lists (ILs) are the most natural example of this, where an inclusion committee enforces that a block proposer include certain transactions the committee hears about. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe amount of power the committee has varies in different designs. One important distinction is between unconditional and conditional inclusion lists. With unconditional inclusion lists, the transactions the committee includes must be included by a proposer for the block to be valid. With conditional inclusion lists, a block only has to include the contents of the inclusion list conditioned on the block not being full, meaning that if the proposer fills the entire block with their own transactions, they aren’t required to include any transactions in the inclusion list. While unconditional ILs can offer better short-term censorship resistance, they might also be easier to crowd out because they might be used to offer products like preconfirmations. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe latest proposal for a constrained single proposer design on Ethereum is called FOCIL (fork choice conditional inclusion lists), which lays out how to implement inclusion lists (FOCIL is not explicitly designed to deal with high-value MEV transactions but is instead optimized for censorship resistance over the span of a few blocks. Nevertheless, as it’s the most concrete specification of what a constrained-single proposer architecture could look like, it’s useful to analyze it in this setting.) \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe high-level design is as follows (for details, see “\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002Ffocil-cl-el-workflow\u002F20526\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFOCIL CL &amp; EL workflow\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E”): Every slot a subset of validators are chosen as inclusion committee members. Committee members construct their lists of transactions up to a local IL size limit (in KB). These lists are locked ¾ of the way through the slot and gossiped to the proposer, who is then responsible for appending any transactions they are missing in the list to their block, until their block hits the gas limit. Then, in addition to standard block validity rules, attesters also check that proposed blocks are conformant against the corresponding inclusion lists. Note, there are no economic incentives in the protocol for the inclusion list committee to act honestly. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnalysis\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EShort-term censorship resistance\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe short-term censorship resistance of a constrained single proposer scheme depends on what types of constraints are allowed and how the proposer is bound to them. As we define short-term censorship via an economic model, the details of how the inclusion committee is incentivized can also change the relative power of these mechanisms. We will start by analyzing FOCIL with EIP-1559 as the L1 TFM before expanding on what is possible in the space of constrained single proposer mechanisms. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESince FOCIL does not explicitly incentivize the inclusion committee to include any transactions, let’s assume that the inclusion list committee is non-strategic and acts honestly. FOCIL also doesn’t specify what inclusion rule honest IL committee members should follow, but for our analysis we assume that honest IL members will include transactions they hear about with the highest priority fees. (FOCIL’s goal is to also increase censorship resistance on longer time scales than a slot, so the intention is that some committee members also follow inclusion rules such as including transactions that have been in the mempool the longest.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENow consider an instance where an adversary is targeting a transaction that tips $10 on top of the base fee, and that $10 is sufficiently high to make the transaction included in the IL. The adversary here has two options. They can either send enough transactions above a $10 tip in the mempool to kick the target transaction out of the IL while also bribing the proposer $10 to not include the target; or the adversary could send enough transactions to fill the proposer’s block and also still send the proposer with $10 to not include the target transaction. Either of these strategies is significantly more expensive for the adversary than the status quo of only paying the proposer $10 to not include the target transaction. In the former case, the adversary has to pay the priority fee plus base fee for any of the transactions that ends up landing on chain; in the later case the adversary has to pay at least the base fee to fill the entire block (assuming EIP-1559 as the base layer TFM). \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIf FOCIL instead used unconditional inclusion lists, the second attack vector would be ruled out. Thus, if the target transaction had a high tip, then the adversary would be put in the position of filling the IL gas limit with transactions having tips above the target, which is potentially much more expensive than paying the base fee to fill the entire block. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe key assumption in this analysis is that the IL committee acts honestly while being non-strategic. If the inclusion committee were strategic, then the adversary could pay them an arbitrarily small amount to produce empty lists in the current protocol. Without any mechanism incentivizing the IL committee to follow the protocol, analyzing the short-term censorship resistance of these protocols reduces to the standard single proposer case. Fee mechanism design that allows fees of transactions included by the IL committee to go to the IL committee can help increase the robustness of these protocols, but the details of such designs and the properties they would satisfy are the subject of future work (for instance, see \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002Faucil-an-auction-based-inclusion-list-design-for-enhanced-censorship-resistance-on-ethereum\u002F20422\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethis example\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E). \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EProposer latency advantage\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EConstraints like ILs alone don’t help address proposers’ latency advantages. In these designs, the single proposer still moves last and still has the power to insert whatever transactions they like. In general, the constrained single proposer setting has difficulty addressing this problem because any form of a constraint committee must act before the end of a slot for the proposer to have time to hear the outcome of the constraint and act accordingly. Thus, the proposer has the privileged position to act on any information that arrives in this duration. The only way around this is for a committee, rather than the proposer, to end the block production game, in which case we move toward a multi-proposer architecture. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA case for multi-proposer \u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMulti-proposer architecture\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA multi-proposer architecture explicitly has multiple proposers jointly building a block every slot. Many potential instantions exist, but multi-proposer schemes generally have a similar structure: A set of validators is chosen randomly by stake as proposers in a given slot. At the end of the slot, each chosen validator proposes a set of transactions following a local block validity rule. Then the protocol deterministically aggregates these proposals into a single canonical block. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe key feature of multi-proposer schemes is that no single proposer is given special power over what gets included in a block. Even though the multiple proposers in such a scheme have advantages compared to non-proposers, the competition between proposers themselves can lead to improved market equilibria. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs opposed to the constrained single proposer setting that is additive to the current Ethereum protocol, a multi-proposer architecture would require a fundamental rework of Ethereum. As such, many components have to be reasoned about, including the transaction supply chain, consensus, and fee mechanisms. Here, we will consider an idealized model of a multi-proposer architecture where the consensus details are worked out and we can focus on a single slot in isolation. Assumptions include that all the proposers are homogenous and have equal access to information, and that the aggregation rule is simply taking a union over all proposed transactions. (This analysis holds for any reasonable choice of ordering rule.) A large part of bringing multi-proposer to production will be relaxing these assumptions to create a full specification, but even with this simple model there is still much to consider. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnalysis\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EShort-term censorship resistance\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe short-term censorship resistance of a multi-proposer architecture depends on the TFM being used. For example, schemes that evenly distribute fees across all proposers and are pay-as-bid for users can incentivize better throughput but worse short-term censorship resistance than you would get from current single proposer schemes. On the other hand, some proposal TFMs look to take advantage of multi-proposer architectures to get more censorship resistance than would be possible in a single proposal scheme. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor example, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fabs\u002F2301.13321\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFox, Pai, and Resnick.\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E make the observation that having a transaction’s payment be a function of how many proposers include a transaction can drastically increase the cost to censor the transaction. Their TFM has users submit a pair of bids \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(t,T)\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E with \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Et&lt;&lt;T\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. If \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ek&gt;1\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E proposers include the transaction. The transaction pays \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ekt\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E with \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Et\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E going to each of the corresponding proposers. However, if only one proposer includes the transaction, then the transaction pays \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ET\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to the single block producer. Hence, an adversary has to pay \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EkT\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to censor the transaction, since any validator can unilaterally deviate to include the transaction if no one else is, while the transaction only expects to pay \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EΘ(t) \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Efor inclusion. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis gap between how much a transaction has to pay for inclusion and the cost to censor it, is a key property that comes from proposers competing among themselves. A censoring adversary needs to make payments such that \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Enone\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E of the proposers include the transaction. Of course, if the proposers all collude, this analysis breaks down and the benefits of multi-proposer is lost — potentially leaving us in a worse situation than the single proposer case. However, as the number of concurrent proposers increases, both the amount an adversary has to pay to induce a censoring equilibrium and the difficulty of maintaining the collusion increase since even one proposer deviating from the censoring ring would be sufficient to regain short-term censorship resistance properties. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EProposer latency advantage\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAssume no proposer can see other proposers’ blocks before they make their own block. Perfect synchrony could achieve this, but, more practically, cryptography can achieve the same end. Proposers can use time lock encryption to have their block contents hidden only for a few seconds. Thus, if proposers all release their blocks a couple seconds before the end of the slot, proposers can’t see each other’s blocks until the slot has passed. Instead of time lock encryption we could also threshold encrypt block contents to an attester committee to achieve a similar property. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EGiven this assumption, there is no party who moves last to end the block production game. This means that proposers are forced to compete with one another on an equal playing field to take advantage of opportunities at the application layer.  As new information comes in, all proposers are in an equal position to react and update their transactions. This competition then keeps this value within the application layer and allows a competitive market to exist instead of having the market unravel and letting the value all leak to a single proposer. Note, however, that a multi-proposer scheme doesn’t change the structural advantage proposers have over users, since users still face a latency delay in getting their transactions to the proposer. But now instead of a single party with the advantage, there are multiple parties with equal advantages. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe exact details of how to implement the cryptography so proposers can’t see each others’ blocks before they propose their own are crucial to maintaining this property. Otherwise, certain proposers again have structural market advantages over others, degrading the competitiveness of onchain markets. These specifications are still largely works in progress. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIf the main concern Ethereum has to solve is short-term censorship resistance, constrained single proposer designs have appealing properties while also being close to well specified enough with proposals like FOCIL to be implemented. On the other hand, if Ethereum’s success also relies on addressing some of the negative market effects of single proposer schemes on the application layer, more drastic change is likely needed. Multi-proposer schemes look promising to address the broader space of issues. But since these designs completely restructure the Ethereum stack, they have a longer path ahead of them in getting to a complete specification and addressing all the potential second-order effects of such large changes. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAcknowledgments: Thanks to Barnabe, Joachim, Julian, Max, and Thomas for helpful comments and suggestions \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fteam\u002Fpranav-garimidi\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPranav Garimidi\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is a research analyst at a16z crypto. He focuses on mechanism design and algorithmic game theory as it relates to blockchain systems. He is especially interested in how incentives interact across the blockchain stack. Prior to a16z, Pranav was a student at Columbia University where he graduated with a degree in Computer Science. You can follow him on X \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fx.com\u002Fpgarimidi\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E@pgarimidi \u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestment-list\u002F.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures\u002F for additional important information\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n"}],related_posts:N,disclosure_relation:h},tags:[{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"576\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F11\u002FETH_Roadmap_1920x1080-1024x576.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F11\u002FETH_Roadmap_1920x1080-1024x576.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F11\u002FETH_Roadmap_1920x1080-300x169.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F11\u002FETH_Roadmap_1920x1080-768x432.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F11\u002FETH_Roadmap_1920x1080-1536x864.jpg 1536w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F11\u002FETH_Roadmap_1920x1080.jpg 1920w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F11\u002FETH_Roadmap_1920x1080-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F11\u002FETH_Roadmap_1920x1080-150x150.jpg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F11\u002FETH_Roadmap_1920x1080-300x169.jpg",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F11\u002FETH_Roadmap_1920x1080-1024x576.jpg",width:aj}],authors:[{ID:"1177",display_name:"Pranav Garimidi",first_name:"Pranav",last_name:"Garimidi",user_login:eO,user_email:a,linked_account:a,website:a,description:a,user_nicename:eO,type:A,nickname:a}],meta_desc:eP,seo:{title_tag:"A look down Ethereum’s roadmap: The cases for FOCIL and multi-proposer schemes - a16z crypto",meta_description:eP,canonical:iB,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:iz,open_graph_description:eP,open_graph_url:iB,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2024/11/ETH_Roadmap_X-FB.jpg":{width:bZ,height:b_,filesize:520535,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F11\u002FETH_Roadmap_X-FB.jpg",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2024\u002F11\u002FETH_Roadmap_X-FB.jpg",size:an,id:"13044",alt:a,pixels:b$,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:aq,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2024-11-11T20:07:46+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:12301,post_author:cR,post_date:"2024-09-16 07:30:57",post_date_gmt:"2024-09-16 14:30:57",post_content:a,post_title:"Why Ethereum ETPs (vs. ETFs) are so significant, & more FAQs",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"eth-etf-etp-faq",to_ping:a,pinged:a,post_modified:"2024-09-23 10:50:02",post_modified_gmt:"2024-09-23 17:50:02",post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fapi.a16zcrypto.com\u002F?p=12301",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:iC,name:eQ,slug:"cap-scott-walker",term_group:b,term_taxonomy_id:iC,taxonomy:z,description:"Scott Walker Scott Walker scott-walker 1265 ",parent:b,count:aq,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:dh,name:es,slug:et,term_group:b,term_taxonomy_id:dh,taxonomy:f,description:a,parent:b,count:iD,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:bM,name:cP,slug:cQ,term_group:b,term_taxonomy_id:bM,taxonomy:f,description:a,parent:b,count:ca,filter:d},{term_id:di,name:eG,slug:eH,term_group:b,term_taxonomy_id:di,taxonomy:f,description:a,parent:b,count:dj,filter:d},{term_id:cS,name:fK,slug:cH,term_group:b,term_taxonomy_id:cS,taxonomy:B,description:a,parent:b,count:fL,filter:d}],acf:{format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFollowing the listing of Bitcoin exchange traded products (ETPs) earlier this year, U.S. stock exchanges made available ETPs based on Ether, the asset native to the Ethereum blockchain, for the first time on July 23. Investors can now buy, sell, and invest in shares of products that hold Ether (ETH) on markets such as NASDAQ and the New York Stock Exchange. The significance of this development cannot be overstated — not just what it means for Ethereum, but what it means for crypto as an asset class. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPeople commonly, albeit mistakenly, refer to these new market products as ETFs, or exchange traded funds, a more well-known type of ETP that usually holds certain collections of securities, such as stocks and bonds. But there’s a big difference between the two. While ETFs are designated for “investment companies,” as defined by the Investment Company Act of 1940, the broader category of ETPs are generally used for issuers that are not considered “investment companies” and therefore are subject to fewer burdensome regulations. (It doesn’t help that some issuers strategically apply the better-known “ETF” label, despite actually offering ETPs.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe distinction sounds pedantic, but it is crucial: By approving these new Ether-based products as ETPs, the U.S. Securities and Exchange Commission (SEC) reaffirms that Ether \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eis\u003C\u002Fspan\u003E\u003C\u002Fi\u003E \u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Enot a security\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, and that transactions in Ether alone do not amount to securities transactions. (If Ether were a security, the SEC would have required shares to be issued using SEC Form N-1A, indicating securities portfolios; instead, the shares were issued using SEC Form S-1, indicating non-securities portfolios.) \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum’s watershed example provides a roadmap as prospective crypto ETP issuers seek approval for similar products involving Solana and other blockchain networks. As these other applications come up for consideration, it’s worth understanding the bigger picture and answering some frequently asked questions about exchange traded products, including their traditional and crypto-related forms. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EETH ETP: Why it matters for Ethereum\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor Ethereum, the ETP approvals settle a longstanding question. At its inception, Ethereum was created and financed by a combination of founders and investors. The prominent role of these creators and supporters caused some to question that the original distribution of Ether formed part of an investment contract, thus a security under federal law. Over time, the role of these early participants diminished and the development of the Ethereum blockchain became diffuse. Today it rests in the hands of its user community. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAn asset’s status as a security or a non-security affects the way it is regulated. Ether being a non-security makes it more like other commodities, like oil, that have no central owner and operator. If Ether were a security that would subject it and transactions in ETH to a panoply of compliance and ongoing disclosure requirements. Worse yet, it is unclear how Ethereum could even comply with those rules given that it is a decentralized open source project with many contributors and no single party in control. Those impossible-to-meet obligations could have severely jeopardized the promise of Ethereum and other blockchain-based technologies.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe ETP listings indicate that the SEC has reevaluated the status of Ether, whatever the circumstances around its launch may have been. It seems fair to conclude that the SEC, in reaching its conclusion on ETH ETPs, applied its \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.sec.gov\u002Fabout\u002Fdivisions-offices\u002Fdivision-corporation-finance\u002Fframework-investment-contract-analysis-digital-assets\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E2019 framework\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, which sets out how assets involved in potential securities transactions can transition to become non-securities. Its treatment of the ETH ETP indicates the SEC has concluded that ETH is not a security and that offers and sales of ETH are not securities transactions, thereby setting an example for others.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EETH ETP: Why it matters for the crypto industry\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe SEC’s ETH ETP decisions have major ramifications that extend far beyond Ethereum. After significant delay and regulatory uncertainty caused by the SEC’s ambiguity and silence around ETH, the new ETPs indicate there is indeed a pathway for digital assets securities to transition to non-securities. Importantly, if Ether can become a non-security, so can other digital assets. It’s hard to imagine a more consequential precedent to set for the crypto industry.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhether the SEC wanted to hand the crypto market a “win” or not, it has. The SEC’s acknowledgment underscores the dynamic nature of crypto and the importance of modernizing securities regulation to accommodate crypto&#8217;s integration into the broader system of commerce and financial transactions. Even if incidental, regulatory progress is underway. The regulatory approval of the ETP listings potentially opens significant investor access to crypto assets, unlocks billions of dollars in value, and widens the universe of crypto asset investment. And indeed, we already have more than one issuer attempting to launch ETPs in yet another crypto asset, Solana. Expect more to come.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003EETP basics \u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhat is an ETP?\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EETPs, or exchange traded products, are typically trusts or other entities that hold one or more underlying assets. ETP shares trade on national securities exchanges and represent interests in those assets held by the trust. The shares are offered pursuant to a registration statement filed with the SEC and effectively track the value of the assets held by the ETP. If you hold any exchange-traded baskets of commodities, such as SPDR’s popular gold-tracking product GLD, you’re probably using an ETP.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhy use an ETP?\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETraditionally ETPs have offered numerous advantages over holding the underlying assets directly, such as improved liquidity, secure and convenient custody, best execution of trades, and favorable tax implications, including potential capital gains tax advantages due to the buyers and sellers electing when to realize taxes. The situation is more complicated for crypto assets, as discussed later.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EHow do ETPs work?\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETypically, ETP shares are kept aligned through arbitrage and a process of creation and redemption: When the public ETP trading price exceeds the value of the underlying assets, ETP shares are created and the additional supply brings the price down to align with the asset price and when the ETP share price is below the asset’s market price, the ETP shares can be redeemed to increase the ETP share value. In most ETPs this is done by a group of “authorized participants” that can deliver assets or shares to the issuers, depending on whether a creation or redemption event is taking place.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhat’s the difference between an ETP and ETF?\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhile offers of ETPs, exchange traded products, and ETFs, exchange traded funds, are both SEC registered, they differ significantly in terms of regulatory requirements and structure. ETFs \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eare trusts that primarily hold securities, ETPs are trusts that primarily hold non-securities. As a result, ETPs are registered on SEC Form S-1, which is generally used for offers and sales of securities of issuers that are not “investment companies” under the Investment Company Act of 1940 (the “40 Act”). In contrast, ETFs register on SEC Form N-1A, a form specifically designated for investment companies.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPut simply, an investment company is an entity that is:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eengaged in the business of investing, owning, holding, or trading in securities; and\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eowns “investment securities” having a value exceeding 40% of the value of the entity’s total assets (exclusive of U.S. government securities and cash items).\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis regulatory difference has significance. ETPs are treated like all other public companies and, while they must comply with the reporting and other requirements of the Securities and Exchange Act of 1934, they are not subject to the additional layer of regulation that comes with being a registered investment company. By contrast, ETFs, because they are in the business of investing in securities, become subject to the ‘40 Act, and must comply with its many restrictions on liquidity, affiliated transactions and a host of other compliance matters.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(In practice, some entities that invest in commodities or pools of non-securities can opt into treatment as an investment company by placing their assets in a subsidiary. Because they now own securities, i.e. the shares of its subsidiary, they are now investing in securities and are subject to the ‘40 Act. Occasionally, issuers will do this to be able to market their products as funds subject to the additional protections of the ‘40 Act.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003EGoing deeper: Crypto ETPs\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBitcoin vs. Ethereum: What’s in a BTC ETP vs. ETH ETP?\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBitcoin and Ether are two of the most prominent digital assets, yet they serve fundamentally different purposes. BTC is primarily a unit of exchange or account on a distributed ledger, functioning as a decentralized digital currency. Its primary utility is its ability to facilitate peer-to-peer transactions without the need for intermediaries. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBy contrast, ETH acts as a unit of compute within a global virtual computer known as the Ethereum network. This network supports smart contracts and decentralized applications (dApps), enabling a wide range of functionalities beyond value transfer. Consequently, while both BTC and ETH are important to the digital asset ecosystem, their differing utilities underscore their unique roles and potential applications.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhat are the advantages of ETH ETPs?\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor crypto assets, some of the traditional advantages of ETPs may not exist. For instance, direct holders of ETH have 24&#215;7 liquidity in crypto markets and can maintain direct control of the asset. Some buyers, particularly buyers new to crypto, may be more comfortable with owning ETPs than owning their assets in wallets or crypto custodial arrangements. Although exchanges on which ETP shares trade are often deeper than markets for the asset(s) underlying the ETP, it remains to be seen whether ETH and other crypto-based ETPs will enjoy markets of comparable or better depth than those found on today&#8217;s crypto trading platforms. Additionally, for reasons discussed below, the ETP shares may trade at a discount to ETH due to certain operational limitations placed on the ETPs.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEven so, ETP products for ETH can expand the market of potential buyers and sellers of ETH to fiduciaries that would otherwise be precluded due to myriad reasons including, investment restrictions or compliance considerations. Holding assets through an ETP can significantly reduce the complications associated with managing and safeguarding assets. For example, while holding crypto can be technologically complex for some investors and consumers, ETPs provide individuals the option to have a regulated institution manage custody for them while investing in the asset class. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhat are the disadvantages of BTC and ETH ETPs?\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOne limitation placed on the ETH and BTC ETPs is that, unlike most other ETP products, one mechanism by which the trading price of the ETP is kept in line with the market value of the underlying asset is constrained. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUnder the SEC orders for ETH ETPs, buyers cannot bring the underlying ETP assets to the trust and request ETP shares in exchange, and sellers cannot request redemptions of ETP shares they acquire in the market and receive underlying assets. Under the SEC ETH orders, the creation and redemption of ETP shares can only settle for cash. Although this is not important to most individual investors, this limitation on institutions maintaining liquidity when there are buy and sell excesses in the arbitrage process may subject the issuer to inefficiency as it attempts to acquire or dispose of underlying assets. Given the volatility in crypto prices, this extra step may result in spreads between the ETP price and the value of the asset that it is designed to track. This unfortunate limitation may lessen the attractiveness of the ETP product as a way to gain exposure to this asset class.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EHow do ETH ETPs deal with staking?\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EETH ETPs have another quirk: the SEC orders approving them contain a prohibition against “staking,” the process for securing the blockchain, which in return dispenses rewards. This is a right that direct holders of the asset can exercise. ETH ETP owners are now exposed to the underlying ETH asset but precluded from earning any additional ETH through staking rewards. This prohibition on staking may complicate the arbitrage process described above and could be considered a “bug” of holding the ETH ETP, rather than owning ETH directly, depending on the investors’ views.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOn the one hand, eliminating staking could be considered a “feature” as it simplifies some aspects of the ETPs, including reducing technical complexity, liquidity constraints, and the risk of slashing, the loss of ETH due to computational misconduct. On the other hand, being able to stake ETH that is directly held, can provide a source of income and defray carrying costs of the investment. It will be interesting to follow the pricing implications to ETH ETPs of the prohibition on staking ETP-held ETH. If the foregone income is reflected in a discount in the pricing of ETP units, some investors may prefer holding ETH ETPs to holding ETH directly. In other words they may find the discount more attractive than the potential staking returns which, as described above, come with some complications.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA second-order effect of the staking prohibition is that it could cause network security issues to the extent that an outsized portion of all ETH is locked in the ETP and prohibited from staking. Although unlikely, this would result in a smaller (relatively speaking) set of holders of ETH that validate transactions in ETH and could provide that group disproportionate influence.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhat’s more advantageous: ETH ETPs or directly holding ETH?\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EInvestors can weigh the convenience and accessibility of holding ETPs against the benefits of direct ownership. While the ETP can offer some ease of trading and storage advantages, direct ownership provides greater control, participation rights, and the ability to stake ETH.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUltimately, the approval of ETH ETPs provides investors with an additional method to acquire exposure to ETH. Which alternative they choose will depend on each of their own assessments of the factors outlined above and whether they intend to use ETH for its computational purposes. Regardless of their choice, having options, particularly an option that recognizes that decentralized digital assets such as ETH, are non-securities, is a very positive development.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestment-list\u002F.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures\u002F for additional important information.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n"}],related_posts:N,disclosure_relation:h},tags:[{term_id:dh,name:es,slug:et,term_group:b,term_taxonomy_id:dh,taxonomy:f,description:a,parent:b,count:iD,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:bM,name:cP,slug:cQ,term_group:b,term_taxonomy_id:bM,taxonomy:f,description:a,parent:b,count:ca,filter:d},{term_id:di,name:eG,slug:eH,term_group:b,term_taxonomy_id:di,taxonomy:f,description:a,parent:b,count:dj,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"576\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FETH-FAQ_1902x1080-1-1024x576.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FETH-FAQ_1902x1080-1-1024x576.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FETH-FAQ_1902x1080-1-300x169.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FETH-FAQ_1902x1080-1-768x432.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FETH-FAQ_1902x1080-1-1536x864.jpg 1536w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FETH-FAQ_1902x1080-1.jpg 1920w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FETH-FAQ_1902x1080-1-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FETH-FAQ_1902x1080-1-150x150.jpg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FETH-FAQ_1902x1080-1-300x169.jpg",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FETH-FAQ_1902x1080-1-1024x576.jpg",width:aj}],authors:[{ID:"1265",display_name:"Scott Walker",first_name:iE,last_name:"Walker",user_login:eQ,user_email:a,linked_account:a,website:a,description:a,user_nicename:eQ,type:A,nickname:a}],meta_desc:eR,seo:{title_tag:iF,meta_description:eR,canonical:iG,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:iF,open_graph_description:eR,open_graph_url:iG,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2024/09/ETH-FAQ_X-FB-2.jpg":{width:bZ,height:b_,filesize:472857,url:iH,path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FETH-FAQ_X-FB-2.jpg",size:an,id:"12369",alt:a,pixels:b$,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:ae,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:iH,open_graph_article_published_time:"2024-09-16T14:30:57+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:10937,post_author:eS,post_date:"2024-05-11 05:43:47",post_date_gmt:"2024-05-11 12:43:47",post_content:a,post_title:"Layer 2, rollups, and building onchain (with Base)",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"layer-2-rollups-base-building-onchain-jesse-pollak",to_ping:a,pinged:a,post_modified:"2025-01-28 15:16:27",post_modified_gmt:"2025-01-28 23:16:27",post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fapi.a16zcrypto.com\u002F?p=10937",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:iI,name:eT,slug:"cap-jesse-pollak",term_group:b,term_taxonomy_id:iI,taxonomy:z,description:"Jesse Pollak Jesse Pollak jesse-pollak 10938 ",parent:b,count:c,filter:d},{term_id:cm,name:aO,slug:eU,term_group:b,term_taxonomy_id:cm,taxonomy:z,description:eV,parent:b,count:eW,filter:d},{term_id:dk,name:cn,slug:iJ,term_group:b,term_taxonomy_id:dk,taxonomy:z,description:iK,parent:b,count:dl,filter:d},{term_id:c,name:dN,slug:dO,term_group:b,term_taxonomy_id:c,taxonomy:B,description:a,parent:b,count:dP,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:dm,name:ey,slug:ez,term_group:b,term_taxonomy_id:dm,taxonomy:f,description:a,parent:b,count:iL,filter:d},{term_id:as,name:J,slug:J,term_group:b,term_taxonomy_id:as,taxonomy:f,description:a,parent:b,count:co,filter:d},{term_id:ab,name:aE,slug:J,term_group:b,term_taxonomy_id:ab,taxonomy:k,description:a,parent:b,count:aP,filter:d},{term_id:ao,name:am,slug:am,term_group:b,term_taxonomy_id:ao,taxonomy:f,description:a,parent:b,count:cb,filter:d},{term_id:X,name:aA,slug:aB,term_group:b,term_taxonomy_id:X,taxonomy:f,description:a,parent:b,count:aF,filter:d},{term_id:Z,name:aG,slug:aH,term_group:b,term_taxonomy_id:Z,taxonomy:B,description:a,parent:b,count:aI,filter:d}],acf:{format:{term_id:ab,name:aE,slug:J,term_group:b,term_taxonomy_id:ab,taxonomy:k,description:a,parent:b,count:aP,filter:d},custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Ciframe src=\"https:\u002F\u002Fplayer.simplecast.com\u002Fd5f3793a-da5d-41f6-aa3f-595a1aceef50?dark=true\" height=\"200\" width=\"100%\" title=\"Layer 2, Rollups, and Building Onchain (with Base)\" frameborder=\"0\" scrolling=\"no\"\u003E\u003C\u002Fiframe\u003E\n\u003Cp\u003E&#8220;Layer 2” rollups are computer networks that are designed to help scale “layer 1” blockchains such as Ethereum — and they&#8217;ve been bustling with activity recently, especially since Ethereum implemented its scaling-related EIP-4844 (&#8220;Dencun&#8221;) upgrade in March. Jesse Pollak, who is Coinbase&#8217;s head of protocols and who founded and leads the popular layer 2 rollup Base, joins a16z crypto engineer Noah Citron and host Robert Hackett to discuss bottom-up vs. top-down innovation, models of leadership, software development roadmaps, and building the onchain economy.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003EWelcome to \u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fposts\u002Fpodcast\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003Eweb3 with a16z\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E, a show about building the next era of the internet by the team at \u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003Ea16z crypto\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E, that includes me, host Robert Hackett. \u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003EToday’s episode covers the bustling area of “layer 2” \u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fposts\u002Ftags\u002Frollups\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003Erollups\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E, a technology for scaling “layer 1” blockchains such as Ethereum. Joining us is Jesse Pollak, who previously led engineering for Coinbase’s retail side and who now is the company’s head of protocols where he founded and leads the popular layer 2 rollup Base.\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003EWe’re also joined by Noah Citron, an engineer at a16z crypto who works on many open source projects and protocols, and who closely tracks developments in this area.\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003EOur conversation digs into the shifting history and future of Ethereum, the arrival of upgrades like \u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fposts\u002Farticle\u002Funderstanding-dencun-upgrade-protodanksharding-surge-merge\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003EEIP-4844\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E, experiments in futarchy, and the difference between leading — and innovating — inside companies versus within decentralized communities. We also discuss the challenges of winning developer mindshare, how to refine business metrics and measures, understanding the tangled interactions between rollups and bridges, and whether you should ever hyphenate the word “onchain.”\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestment-list\u002F.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures\u002F for additional important information.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n"}],related_posts:N,disclosure_relation:h},tags:[{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:dm,name:ey,slug:ez,term_group:b,term_taxonomy_id:dm,taxonomy:f,description:a,parent:b,count:iL,filter:d},{term_id:as,name:J,slug:J,term_group:b,term_taxonomy_id:as,taxonomy:f,description:a,parent:b,count:co,filter:d},{term_id:ao,name:am,slug:am,term_group:b,term_taxonomy_id:ao,taxonomy:f,description:a,parent:b,count:cb,filter:d},{term_id:X,name:aA,slug:aB,term_group:b,term_taxonomy_id:X,taxonomy:f,description:a,parent:b,count:aF,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"576\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F05\u002Fweb3_Episodes_1920x1080WP_ep41-1024x576.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F05\u002Fweb3_Episodes_1920x1080WP_ep41-1024x576.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F05\u002Fweb3_Episodes_1920x1080WP_ep41-300x169.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F05\u002Fweb3_Episodes_1920x1080WP_ep41-768x432.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F05\u002Fweb3_Episodes_1920x1080WP_ep41-1536x864.jpg 1536w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F05\u002Fweb3_Episodes_1920x1080WP_ep41.jpg 1920w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F05\u002Fweb3_Episodes_1920x1080WP_ep41-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F05\u002Fweb3_Episodes_1920x1080WP_ep41-150x150.jpg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F05\u002Fweb3_Episodes_1920x1080WP_ep41-300x169.jpg",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F05\u002Fweb3_Episodes_1920x1080WP_ep41-1024x576.jpg",width:aj}],authors:[{ID:"10938",display_name:"Jesse Pollak",first_name:"Jesse",last_name:"Pollak",user_login:eT,user_email:a,linked_account:a,website:a,description:"Jesse Pollack is head of protocols at Coinbase and founder of Base.",user_nicename:eT,type:A,nickname:a},{ID:eX,display_name:eY,first_name:eZ,last_name:e_,user_login:aO,user_email:a,linked_account:a,website:a,description:a,user_nicename:aO,type:A,nickname:a},{ID:iM,display_name:dn,first_name:cp,last_name:iN,user_login:cn,user_email:a,linked_account:cp,website:iO,description:iP,user_nicename:cn,type:A,nickname:a,wp_user:{data:{ID:cR,user_login:cp,user_pass:iQ,user_nicename:iR,user_email:iS,user_url:a,user_registered:iT,user_activation_key:a,user_status:x,display_name:dn},ID:iU,caps:{administrator:e},cap_key:e$,roles:[fa],allcaps:{switch_themes:e,edit_themes:e,activate_plugins:e,edit_plugins:e,edit_users:e,edit_files:e,manage_options:e,moderate_comments:e,manage_categories:e,manage_links:e,upload_files:e,import:e,unfiltered_html:e,edit_posts:e,edit_others_posts:e,edit_published_posts:e,publish_posts:e,edit_pages:e,read:e,level_10:e,level_9:e,level_8:e,level_7:e,level_6:e,level_5:e,level_4:e,level_3:e,level_2:e,level_1:e,level_0:e,edit_others_pages:e,edit_published_pages:e,publish_pages:e,delete_pages:e,delete_others_pages:e,delete_published_pages:e,delete_posts:e,delete_others_posts:e,delete_published_posts:e,delete_private_posts:e,edit_private_posts:e,read_private_posts:e,delete_private_pages:e,edit_private_pages:e,read_private_pages:e,delete_users:e,create_users:e,unfiltered_upload:e,edit_dashboard:e,update_plugins:e,delete_plugins:e,install_plugins:e,update_themes:e,install_themes:e,update_core:e,list_users:e,remove_users:e,promote_users:e,edit_theme_options:e,delete_themes:e,export:e,wf2fa_activate_2fa_self:e,wf2fa_activate_2fa_others:e,wf2fa_manage_settings:e,srm_manage_redirects:e,wpseo_manage_options:e,administrator:e},filter:g}}],meta_desc:fb,seo:{title_tag:iV,meta_description:fb,canonical:iW,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:iV,open_graph_description:fb,open_graph_url:iW,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2024/05/web3_Episodes_1200x630FB_X_ep41.jpg":{width:bZ,height:b_,filesize:451705,url:iX,path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2024\u002F05\u002Fweb3_Episodes_1200x630FB_X_ep41.jpg",size:an,id:"10943",alt:a,pixels:b$,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:ak,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:iX,open_graph_article_published_time:"2024-05-11T12:43:47+00:00"},format:{term_id:ab,name:aE,slug:J,term_group:b,term_taxonomy_id:ab,taxonomy:k,description:a,parent:b,count:aP,filter:d},template:a,disclosure:h},{ID:10111,post_author:cO,post_date:"2024-03-18 11:00:16",post_date_gmt:"2024-03-18 18:00:16",post_content:a,post_title:"Understanding Dencun, the biggest upgrade to Ethereum since The Merge",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"understanding-dencun-upgrade-protodanksharding-surge-merge",to_ping:a,pinged:a,post_modified:"2024-03-18 15:42:15",post_modified_gmt:"2024-03-18 22:42:15",post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fapi.a16zcrypto.com\u002F?p=10111",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:cm,name:aO,slug:eU,term_group:b,term_taxonomy_id:cm,taxonomy:z,description:eV,parent:b,count:eW,filter:d},{term_id:at,name:ac,slug:cq,term_group:b,term_taxonomy_id:at,taxonomy:z,description:cr,parent:b,count:aq,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:ar,name:cc,slug:cd,term_group:b,term_taxonomy_id:ar,taxonomy:B,description:a,parent:b,count:aJ,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:Z,name:aG,slug:aH,term_group:b,term_taxonomy_id:Z,taxonomy:B,description:a,parent:b,count:aI,filter:d},{term_id:au,name:bW,slug:bX,term_group:b,term_taxonomy_id:au,taxonomy:f,description:a,parent:b,count:ak,filter:d}],acf:{format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp data-pm-slice=\"1 1 []\"\u003EEthereum just underwent its biggest upgrade since \u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fposts\u002Farticle\u002Fwhat-the-merge-means\u002F\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003EThe Merge\u003C\u002Fa\u003E last week. Called “\u003Ca href=\"https:\u002F\u002Fblog.ethereum.org\u002F2024\u002F02\u002F27\u002Fdencun-mainnet-announcement\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003EDencun\u003C\u002Fa\u003E” — a portmanteau of “Deneb” and “Cancun”, in keeping with a tradition of naming upgrades after stars and cities — Dencun \u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-7569\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003Ebundled together\u003C\u002Fa\u003E nine proposed changes to the network.\u003C\u002Fp\u003E\n\u003Cp\u003EOf these proposed changes aka Ethereum improvement proposals (EIPs), the most-anticipated was \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002FEIPs\u002Fblob\u002Fmaster\u002FEIPS\u002Feip-4844.md\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003EEIP-4844\u003C\u002Fa\u003E — considered a major milestone on the road to scalability. EIP-4844 is also known as “protodanksharding” (as inspired by the names of developers Diederik Loerakker aka protolambda and Dankrad Feist).\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003EWhy it matters\u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003ESo why does EIP-4844 matter? First, it introduced the concept of “blobs” — a place to store additional, temporary data on Ethereum blocks. Simply put, blobs are a new place to store rollup data that’s being added to the network. Rollups are layer two (L2) services that reduce the network’s load by processing transactions off-chain and then bringing them back on-chain. Since rollups only need this data temporarily, the blob-data is (mostly) forgotten by the blockchain afterwards.\u003C\u002Fp\u003E\n\u003Cp\u003EAnd since blobs are ephemeral — like Instagram Stories (though in this case designed to expire after 18 days) — they lessen Ethereum’s dependence on permanent data storage. It&#8217;s also a step towards enabling Ethereum to store even more data blobs via \u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fposts\u002Farticle\u002Fan-overview-of-danksharding-and-a-proposal-for-improvement-of-das\u002F\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003Edata availability sampling\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EHere’s a useful analogy from a16z crypto engineer Noah Citron to help sum up why all this matters:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EThink of Ethereum as a highway.\u003C\u002Fli\u003E\n\u003Cli\u003EMainnet transactions are the people riding alone in cars.\u003C\u002Fli\u003E\n\u003Cli\u003ERollups are the buses that group people, helping alleviate traffic.\u003C\u002Fli\u003E\n\u003Cli\u003EEIP-4844 basically adds a “dedicated bus lane” to Ethereum, making the network more efficient.\u003C\u002Fli\u003E\n\u003Cli\u003EThe Dencun upgrade also paves the way for additional “bus lanes” to be added in future.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2\u003E\u003Cstrong\u003EBenefits and results\u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EImagine if rollup data didn’t expire. That would add roughly 83.7 gigabytes of data to the blockchain every month (~31 days), and 985.5 gigabytes per year. This figure would only keep increasing, because remember: blockchains store info permanently. By regularly expiring, blobs limit the need for that exorbitant data storage — especially as the rest could get stored off-chain via rollups. [To get a more concrete sense of data size for blobs: There’s a target of 3 blobs per Ethereum block, at max 6 blobs per block. Each blob is ~128 KB of data (a vector of 4096 elements of ~32 bytes each).]\u003C\u002Fp\u003E\n\u003Cp\u003EEIP-4844 has already drastically reduced costs. A transaction on rollup provider Optimism, for instance, costs less than one tenth of a cent right now [source: \u003Ca href=\"http:\u002F\u002Fl2fees.info\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003El2fees.info\u003C\u002Fa\u003E] — about 1000x cheaper than transactions cost before the upgrade. Note, these immediate cost savings are not likely to last: As more people stuff more transactions into rollups, fees will likely increase due to induced demand. [If you’re interested in tracking the \u003Ca href=\"https:\u002F\u002Fdune.com\u002Fncitron\u002Fblob-fee-market\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003Eblob fee market\u003C\u002Fa\u003E, check out this Dune analytics dashboard created by Citron: The dashboard shows both the current blob base fee as well as the percentage of the target base fee currently being used.]\u003C\u002Fp\u003E\n\u003Cp\u003ESome suggest that the Dencun upgrade could settle anywhere between a 10x-1000x reduction in costs (this is purely an estimate). However, a future upgrade called PeerDAS or “full danksharding” is designed to make rollups much more efficient, increasing transaction throughput by another 32x. The key innovation there is adding more shards, and therefore more efficiency — yet without much additional cost. Full danksharding would therefore allow \u003Cem\u003Emany\u003C\u002Fem\u003E bus lanes to be added for the price of just \u003Cem\u003Eone\u003C\u002Fem\u003E bus lane — leading to potentially huge throughput increases in the future.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003EImplications and applications\u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003ELower transaction costs matters for everyone, because cheaper transactions unlock entirely new categories of applications that didn’t make sense with higher fees.\u003C\u002Fp\u003E\n\u003Cp\u003EBecause Dencun also adds the concept of transient storage (\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-1153\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003EEIP-1153\u003C\u002Fa\u003E) to the Ethereum virtual machine (EVM), smart contracts can now store bits of data only for the duration of a transaction — rather than permanently, or only during the execution of a particular call into a contract. This means developers can do a lot more cool stuff than before, and for a lot cheaper, because they now have a sort of &#8220;medium-term&#8221; memory for smart contracts. By analogy, think of what different types of volatile memory did for semiconductor innovation…\u003C\u002Fp\u003E\n\u003Cp\u003EOther benefits of the Dencun upgrade for developers include more tools for liquid staking protocols to understand what’s happening on the beaconchain (from the EVM), which helps decentralize those protocols. Still another is the mcopy opcode, which, with Dencun, now makes some smart contracts involving memory much more gas efficient.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003ETo summarize:\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EWhile the much-awaited “Merge” was one of the biggest technical feats yet — moving Ethereum from the more energy-intensive Proof of Work to Proof of Stake — we are now into the “Surge”, where ongoing updates can further scale Ethereum. This update, like all others, was in the making for a long time (Ethereum ran a \u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fposts\u002Farticle\u002Fon-chain-trusted-setup-ceremony\u002F\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003Etrusted setup ceremony\u003C\u002Fa\u003E for it).\u003C\u002Fp\u003E\n\u003Cp\u003EBut most importantly, all of these upgrades are the result of countless developers around the world coordinating and contributing via open source.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003Erelated resources:\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E🎧🎙️ \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fposts\u002Fpodcast\u002Fethereum-merge-and-beyond\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum, Merge and Beyond\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E with Tim Beiko, Tim Roughgarden, Ali Yahya, and Sonal Chokshi – on the technical and social processes behind such engineering and community work\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E▶️📹\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fposts\u002Fvideos\u002Fdistributed-data-storage-das-and-danksharding\u002F\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003EDistributed data storage, data availability, and danksharding\u003C\u002Fa\u003E by Valeria Nikolaenko — explaining approaches to distributed data-storage; different approaches for achieving consensus around data-availability; and how data availability sampling (DAS) including danksharding works\u003C\u002Fp\u003E\n\u003Cp\u003E📄📝\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fposts\u002Farticle\u002Fan-overview-of-danksharding-and-a-proposal-for-improvement-of-das\u002F\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003EData availability sampling and danksharding: An overview and a proposal for improvements\u003C\u002Fa\u003E by Valeria Nikolaenko and Dan Boneh — surveying how data availability in danksharding works; plus proposing some modifications to the underlying technique to improve data recovery\u003C\u002Fp\u003E\n\u003Cp\u003E📄📝\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fposts\u002Fvideos\u002Fcryptoeconomic-security-for-data-availability-committees\u002F\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003ECryptoeconomic security for data availability committees\u003C\u002Fa\u003E by Ertem Nusret Tas (guest talk in a16z crypto fall research seminars 2022) — on data availability committees (DAC) and their shortcomings; plus proposing a more optimal and secure DAC protocol\u003C\u002Fp\u003E\n\u003Cp\u003E📄📝\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2024\u002F418.pdf\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003EAtomic and fair data exchange via blockchain\u003C\u002Fa\u003E (2024) by Ertem Nusret Tas, István András Seres, Yinuo Zhang, Márk Melczer, Mahimna Kelkar, Joseph Bonneau, and Valeria Nikolaenko — introducing a blockchain Fair Data Exchange (FDE) protocol, enabling a storage server to transfer a data file to a client atomically; includes application of the protocol (with open source implementation) to the protodanksharding and danksharding data availability scheme on Ethereum\u003C\u002Fp\u003E\n\u003Cp\u003E🎧🎙️\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fposts\u002Fpodcast\u002Fdata-availability-danksharding-web3-with-a16z-podcast\u002F\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003EOf data availability &amp; danksharding\u003C\u002Fa\u003E with Valeria Nikolaenko, Dan Boneh, and Robert Hackett — on the bigger picture for data availability sampling; why it matters, more\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cbr \u002F\u003E\neditors: Sonal Chokshi and Robert Hackett\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the enduring accuracy of the information or its appropriateness for a given situation.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities, digital assets, tokens, and\u002For cryptocurrencies are for illustrative purposes only and do not constitute a recommendation to invest in any such instrument nor do such references constitute an offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n"}],related_posts:N,disclosure_relation:h},tags:[{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:au,name:bW,slug:bX,term_group:b,term_taxonomy_id:au,taxonomy:f,description:a,parent:b,count:ak,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"576\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F03\u002Fprotodanksharding_a16zcrypto-1024x576.jpeg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F03\u002Fprotodanksharding_a16zcrypto-1024x576.jpeg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F03\u002Fprotodanksharding_a16zcrypto-300x169.jpeg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F03\u002Fprotodanksharding_a16zcrypto-768x432.jpeg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F03\u002Fprotodanksharding_a16zcrypto-1536x864.jpeg 1536w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F03\u002Fprotodanksharding_a16zcrypto.jpeg 1920w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F03\u002Fprotodanksharding_a16zcrypto-150x150.jpeg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F03\u002Fprotodanksharding_a16zcrypto-150x150.jpeg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F03\u002Fprotodanksharding_a16zcrypto-300x169.jpeg",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F03\u002Fprotodanksharding_a16zcrypto-1024x576.jpeg",width:aj}],authors:[{ID:eX,display_name:eY,first_name:eZ,last_name:e_,user_login:aO,user_email:a,linked_account:a,website:a,description:a,user_nicename:aO,type:A,nickname:a},{ID:cs,display_name:ct,first_name:cu,last_name:cv,user_login:ac,user_email:a,linked_account:a,website:cw,description:cx,user_nicename:ac,type:A,nickname:a}],meta_desc:a,seo:{title_tag:iY,meta_description:a,canonical:iZ,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:iY,open_graph_description:a,open_graph_url:iZ,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2024/03/protodanksharding_a16zcrypto.jpeg":{width:do0,height:bN,filesize:182796,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F03\u002Fprotodanksharding_a16zcrypto.jpeg",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2024\u002F03\u002Fprotodanksharding_a16zcrypto.jpeg",size:an,id:10115,alt:a,pixels:dp,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:b,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2024-03-18T18:00:16+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:9105,post_author:dq,post_date:"2023-10-24 10:54:23",post_date_gmt:"2023-10-24 17:54:23",post_content:a,post_title:"Optimal flexible consensus and its application to Ethereum",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"optimal-flexible-consensus-and-its-application-to-ethereum",to_ping:a,pinged:a,post_modified:"2025-01-29 12:36:00",post_modified_gmt:"2025-01-29 20:36:00",post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.com\u002F?p=9105",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:i_,name:fc,slug:"cap-joachim-neu",term_group:b,term_taxonomy_id:i_,taxonomy:z,description:"Joachim Neu Joachim Neu joachim-neu 9108 ",parent:b,count:aM,filter:d},{term_id:af,name:aa,slug:aa,term_group:b,term_taxonomy_id:af,taxonomy:f,description:a,parent:b,count:bO,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d},{term_id:K,name:I,slug:I,term_group:b,term_taxonomy_id:K,taxonomy:f,description:a,parent:b,count:H,filter:d},{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d}],acf:{format:{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d},custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003EClassic BFT consensus protocols guarantee safety and liveness for all clients if fewer than one-third of replicas are faulty. But some clients may want to prioritize safety over liveness. Flexible consensus allows each client to opt for a higher safety resilience, albeit at the expense of reduced liveness resilience. Joachim Neu (Stanford) presents the first flexible consensus protocol that allows optimal safety&#8211;liveness tradeoffs for all clients simultaneously. The core technical ingredient is an additional round of voting and permanent locking done by the replicas, to sidestep a sub-optimal quorum-intersection-based constraint present in previous solutions. Joachim adapt the construction to the existing Ethereum protocol to derive optimal flexible confirmation rules that clients can adopt without requiring system-wide changes. This is possible because existing Ethereum protocol features can double as the extra voting and locking. He demonstrates an implementation using Ethereum&#8217;s consensus API. (Joint work with Srivatsan Sridhar, Lei Yang, and David Tse.)\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ciframe loading=\"lazy\" title=\"Optimal Flexible Consensus and its Application to Ethereum with Joachim Neu | a16z crypto research\" width=\"500\" height=\"281\" src=\"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002F32b7begZ-3U?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen\u003E\u003C\u002Fiframe\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EAbout the presenter \u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EJoachim is a PhD candidate at Stanford advised by David Tse. His current research focus is the science and engineering of Internet-scale consensus. Recent research projects include provable consensus security for next-generation Ethereum, and provable security and performance of proof-of-stake consensus under rate constraints and network-level attacks. He has been supported by Protocol Labs PhD Fellowship, Ethereum Foundation, Stanford Graduate Fellowship, and German Academic Scholarship Foundation.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EAbout a16z crypto research \u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003Ea16z crypto research is a multidisciplinary lab that works closely with our portfolio companies and others toward solving the important problems in the space, and toward advancing the science and technology of the next generation of the internet.\u003C\u002Fp\u003E\n"}],related_posts:N,disclosure_relation:h},tags:[{term_id:af,name:aa,slug:aa,term_group:b,term_taxonomy_id:af,taxonomy:f,description:a,parent:b,count:bO,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:K,name:I,slug:I,term_group:b,term_taxonomy_id:K,taxonomy:f,description:a,parent:b,count:H,filter:d}],post_thumbnail:a,post_thumbnail_small:a,post_images:[],authors:[{ID:"9108",display_name:"Joachim Neu",first_name:"Joachim",last_name:"Neu",user_login:fc,user_email:a,linked_account:a,website:a,description:a,user_nicename:fc,type:A,nickname:a}],meta_desc:fd,seo:{title_tag:i$,meta_description:fd,canonical:ja,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:i$,open_graph_description:fd,open_graph_url:ja,open_graph_images:[],open_graph_site_name:U,estimated_reading_time_minutes:b,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2023-10-24T17:54:23+00:00"},format:{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d},template:a,disclosure:h},{ID:9099,post_author:dq,post_date:"2023-10-24 10:44:30",post_date_gmt:"2023-10-24 17:44:30",post_content:a,post_title:"Recent latest message driven GHOST",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"recent-latest-message-driven-ghost",to_ping:a,pinged:a,post_modified:"2025-01-29 12:36:01",post_modified_gmt:"2025-01-29 20:36:01",post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.com\u002F?p=9099",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:jb,name:fe,slug:"cap-luca-zanolini",term_group:b,term_taxonomy_id:jb,taxonomy:z,description:"Luca Zanolini Luca Zanolini luca-zanolini 9101 ",parent:b,count:c,filter:d},{term_id:af,name:aa,slug:aa,term_group:b,term_taxonomy_id:af,taxonomy:f,description:a,parent:b,count:bO,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d},{term_id:K,name:I,slug:I,term_group:b,term_taxonomy_id:K,taxonomy:f,description:a,parent:b,count:H,filter:d},{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d}],acf:{format:{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d},custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003EIn this work, Luca Zanolini (Ethereum Foundation) presents RLMD-GHOST, a synchronous consensus protocol that not only ensures dynamic availability but also maintains safety during bounded periods of asynchrony. This protocol is particularly appealing for practical systems where strict synchrony assumptions may not always hold, contrary to general assumptions in standard synchronous protocols. Additionally, Luca presents the &#8220;generalized sleepy model,&#8221; within which the results are proven. This model extends Pass and Shi&#8217;s original sleepy model with more generalized and stronger constraints on the corruption and sleepiness power of the adversary. This approach allows the exploration of a wide range of dynamic participation regimes, spanning from complete dynamic participation to no dynamic participation. Consequently, this model provides a foundation for analyzing dynamically available protocols.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ciframe loading=\"lazy\" title=\"Recent Latest Message Driven GHOST with Luca Zanolini  | a16z crypto research talks\" width=\"500\" height=\"281\" src=\"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002FF2olypDSVnA?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen\u003E\u003C\u002Fiframe\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EAbout the speaker\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ELuca serves as a Research Scientist at the Ethereum Foundation and is actively engaged in the design and analysis of both short term and long term enhancements to Ethereum&#8217;s consensus mechanism. Currently, his main focus is on characterising and devising dynamically available consensus protocols, and exploring single-slot finality for Ethereum.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EAbout a16z crypto research \u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003Ea16z crypto research is a multidisciplinary lab that works closely with our portfolio companies and others toward solving the important problems in the space, and toward advancing the science and technology of the next generation of the internet.\u003C\u002Fp\u003E\n"}],related_posts:N,disclosure_relation:h},tags:[{term_id:af,name:aa,slug:aa,term_group:b,term_taxonomy_id:af,taxonomy:f,description:a,parent:b,count:bO,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:K,name:I,slug:I,term_group:b,term_taxonomy_id:K,taxonomy:f,description:a,parent:b,count:H,filter:d}],post_thumbnail:a,post_thumbnail_small:a,post_images:[],authors:[{ID:"9101",display_name:"Luca Zanolini",first_name:"Luca",last_name:"Zanolini",user_login:fe,user_email:a,linked_account:a,website:a,description:a,user_nicename:fe,type:A,nickname:a}],meta_desc:ff,seo:{title_tag:jc,meta_description:ff,canonical:jd,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:jc,open_graph_description:ff,open_graph_url:jd,open_graph_images:[],open_graph_site_name:U,estimated_reading_time_minutes:b,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2023-10-24T17:44:30+00:00"},format:{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d},template:a,disclosure:h},{ID:8929,post_author:dq,post_date:"2023-09-12 06:35:34",post_date_gmt:"2023-09-12 13:35:34",post_content:a,post_title:"Workshop on Rollup Sequencer Economics: Open Questions, organized",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"rollup-sequencer-economics-questions-2",to_ping:a,pinged:a,post_modified:"2025-01-29 12:37:01",post_modified_gmt:"2025-01-29 20:37:01",post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.com\u002F?p=8929",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:dr,name:cy,slug:je,term_group:b,term_taxonomy_id:dr,taxonomy:z,description:jf,parent:b,count:aM,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d},{term_id:ao,name:am,slug:am,term_group:b,term_taxonomy_id:ao,taxonomy:f,description:a,parent:b,count:cb,filter:d},{term_id:X,name:aA,slug:aB,term_group:b,term_taxonomy_id:X,taxonomy:f,description:a,parent:b,count:aF,filter:d},{term_id:K,name:I,slug:I,term_group:b,term_taxonomy_id:K,taxonomy:f,description:a,parent:b,count:H,filter:d},{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d}],acf:{format:{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d},custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003ERollups are horizontally scaling the application layer of Ethereum. But as computation is sharded across different rollups, the interoperability of applications running on these rollups becomes fragmented, significantly impacting user utility. Moreover, today rollups are operated by centralized servers that decide on which transactions to include and in what order. Fragmented interoperability and sequencing centralization are some of the biggest challenges facing rollups today as they undermine the core value-propositions of Ethereum. Recent efforts have aimed to develop decentralized sequencing layers that are shared among several rollups, both within ecosystems of apps using the same software stack and even across distinct optimistic\u002Fzk rollup ecosystems. Shared decentralized sequencing layers have the potential to improve the overall decentralization and interoperability of Ethereum’s rollup-centric future.\u003C\u002Fp\u003E\n\u003Cp\u003EThis workshop spans two 1.5 hr sessions and focuses on the economic challenges of shared sequencing. Questions include:\u003C\u002Fp\u003E\n\u003Cp\u003E1. How is revenue shared among rollups utilizing the same sequencing layer? This particularly tricky for MEV derived from atomic bundles of transactions involving multiple rollups at once\u003C\u002Fp\u003E\n\u003Cp\u003E2. There are many different approaches to addressing MEV, ranging from optimizing and democratizing value capture to preventing it entirely. Can a shared sequencing layer simultaneously support multiple approaches favored by each individual rollup?\u003C\u002Fp\u003E\n\u003Cp\u003E3. A shared sequencing layer may need to take fees to incentivize its node operators. Should fees be paid in a neutral currency like Eth? Will this additional fee fall on rollup users, or can this be abstracted away at the service layer? Can it be paid through the rollups themselves? Are there pitfalls to certain fee mechanisms, e.g. that may have centralizing effects?\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ciframe loading=\"lazy\" title=\"Workshop on Rollup Sequencer Economics: Open Questions, organized by Ben Fisch | a16z crypto\" width=\"500\" height=\"281\" src=\"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002Fq3Q2LZqbGKM?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen\u003E\u003C\u002Fiframe\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EAbout the organizer \u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EBen is co-founder and CEO of Espresso Systems, which is building a decentralized sequencing and data-availability layer for Ethereum rollups and app-chains. Espresso Systems has partnered with Eigenlayer to deploy this “Layer 1.5” to the Ethereum physical validator set itself, to minimize additional security assumptions and offer Layer 1 validators exposure to value being created at Layer 2. Ben is also an assistant professor of computer science at Yale University. He completed his PhD at Stanford University under the supervision of Dan Boneh. His graduate research on proof systems, including proofs-of-replication and verifiable-delay-functions, contributed to the development of several prominent blockchains including Filecoin, Chia, and Ethereum’s beacon chain.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EAbout a16z crypto research \u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003Ea16z crypto research is a multidisciplinary lab that works closely with our portfolio companies and others toward solving the important problems in the space, and toward advancing the science and technology of the next generation of the internet.\u003C\u002Fp\u003E\n"}],related_posts:N,disclosure_relation:h},tags:[{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:ao,name:am,slug:am,term_group:b,term_taxonomy_id:ao,taxonomy:f,description:a,parent:b,count:cb,filter:d},{term_id:X,name:aA,slug:aB,term_group:b,term_taxonomy_id:X,taxonomy:f,description:a,parent:b,count:aF,filter:d},{term_id:K,name:I,slug:I,term_group:b,term_taxonomy_id:K,taxonomy:f,description:a,parent:b,count:H,filter:d}],post_thumbnail:a,post_thumbnail_small:a,post_images:[],authors:[{ID:jg,display_name:jh,first_name:a,last_name:a,user_login:cy,user_email:a,linked_account:a,website:a,description:a,user_nicename:cy,type:A,nickname:a}],meta_desc:fg,seo:{title_tag:ji,meta_description:fg,canonical:jj,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:ji,open_graph_description:fg,open_graph_url:jj,open_graph_images:[],open_graph_site_name:U,estimated_reading_time_minutes:b,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2023-09-12T13:35:34+00:00"},format:{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d},template:a,disclosure:h},{ID:8209,post_author:bY,post_date:jk,post_date_gmt:jl,post_content:a,post_title:fh,post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"on-the-impossibility-of-stateless-blockchains",to_ping:a,pinged:a,post_modified:jk,post_modified_gmt:jl,post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.com\u002F?p=8209",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:ds,name:cz,slug:jm,term_group:b,term_taxonomy_id:ds,taxonomy:z,description:jn,parent:b,count:ak,filter:d},{term_id:dt,name:cA,slug:jo,term_group:b,term_taxonomy_id:dt,taxonomy:z,description:jp,parent:b,count:fi,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:av,name:al,slug:al,term_group:b,term_taxonomy_id:av,taxonomy:f,description:a,parent:b,count:cB,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d},{term_id:X,name:aA,slug:aB,term_group:b,term_taxonomy_id:X,taxonomy:f,description:a,parent:b,count:aF,filter:d}],acf:{format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs blockchains grow to support more users and more frequent transactions, so too grows the amount of information (the “state”) that validators store to verify transactions. For example, in Bitcoin the state consists of a set of unspent transaction outputs (UTXOs). In Ethereum, the state consists of an account balance for each account as well as code and storage for each smart contract.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis storage burden will become unwieldy for blockchains with enough accounts or UTXOs to support a significant portion of the population’s truly everyday transactions, making it difficult to become a validator and posing a threat to decentralization. It&#8217;s tempting to turn to cryptography as a solution, where tools such as Merkle trees and zero knowledge proofs have helped us achieve the implausible before. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis is exactly what “stateless blockchains” aim to do. But despite substantial work on them, they remain far from practical. But this lag in progress, it turns out, is inherent – this gap between these constructions and practicality will never be bridged. Our recent work shows that \u003C\u002Fspan\u003E\u003Cb\u003Eno stateless blockchain scheme, no matter how clever, will ever be feasible without additional measures to manage the state\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. As we show at the end of this post, though, this impossibility result should not be discouraging. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe state of the stateless\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EToday, the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Estate\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is large but manageable. For example, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fbitcoin.org\u002Fen\u002Ffull-node#minimum-requirements\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBitcoin nodes store about 7 GB\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E of data and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgeth.ethereum.org\u002Fdocs\u002Fgetting-started\u002Fhardware-requirements\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum nodes store about 650 GB\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. But this storage burden for full nodes increases roughly linearly with the throughput (transactions per second or TPS) of the chain, which is unacceptably low today. With current designs, the state required to truly support everyday transactions (tens to hundreds of thousands of TPS) would be unwieldy, requiring terabytes or even petabytes.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis has motivated a search for technical approaches to dramatically reduce the amount of state required for validators. The holy grail is a \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Estateless blockchain\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, which would require validators to store only a constant-size state regardless of the transaction throughput. (The term is actually a misnomer: there still is a state, it’s just small enough to be practical at any future throughput – typically it’s constant-sized.) Such a light storage requirement would make running a validator node much easier; optimistically everyone could run a node on their mobile phone. Since increasing the number of validators increases the security of the chain, lowering the barrier to entry for validators is important.  \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDespite substantial research on stateless blockchains (by, e.g., \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fpetertodd.org\u002F2016\u002Fdelayed-txo-commitments\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETodd\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@vbuterin\u002Fverkle_and_state_expiry_proposal\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EButerin\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2018\u002F1188\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBoneh et al.\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2021\u002F599\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESrinivasan et al.\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), they&#8217;re far from practical, and none, to our knowledge, are deployed. The fundamental problem with all known stateless blockchains is that they require users to store additional data called \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ewitnesses\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to help validators verify transactions involving their accounts. For example, this witness might be a Merkle inclusion proof showing that a user’s account and its balance are included in a global state commitment. When a user makes a transaction, they submit this witness to validators, showing that their account has sufficient balance. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUnlike storing a private key, which never needs to change, these witnesses change frequently, even for users who aren’t actively transacting, placing an impractical burden on users. Similarly, imagine if you had to continually monitor all other credit card transactions worldwide and update some local data accordingly to use your own credit card. For the blockchain to be practical, users must be able to stay offline and interact with the blockchain only when they submit a transaction. In many cases, like hardware wallets, updating witnesses is not just inconvenient but impossible.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis leads us to a natural research question: Can we build a stateless blockchain that doesn’t require witness updates (or requires them only rarely)? To answer this question we developed a novel theoretical framework (the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Erevocable proof system\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) that generalizes stateless blockchains. Using this framework, we prove a conclusive impossibility result: this tradeoff between succinct global state and frequent witness updates is fundamental. Our proof techniques are information-theoretic, meaning no future computers will be powerful enough to solve this problem: \u003C\u002Fspan\u003E\u003Cb\u003Ethe gap between stateless blockchain constructions and practicality will never be bridged.\u003C\u002Fb\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBackground on our research\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETo help build intuition for our impossibility result, we’ll start by describing a natural though inefficient construction of a stateless blockchain using a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdecentralizedthoughts.github.io\u002F2020-12-22-what-is-a-merkle-tree\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMerkle tree\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. Our goal is for validators to determine whether transactions submitted by users are \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Evalid\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E – for example, that the user has a large enough account balance to make the transaction. In a stateless blockchain scheme, validators store a constant-sized \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Estate\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. When a user makes a transaction, they must include with their transaction a \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ewitness. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe validator can \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Everify\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E using the current state and a user-submitted (transaction, witness) pair that that user has sufficient account balance to make their transaction. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe first construct a Merkle tree where each (account ID, balance) pair (\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eb\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) is included as a leaf. The constant-sized state \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EV\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E that validators store is the root of this tree, which acts as a commitment to the set of account-balance pairs. Each user maintains as its witness a Merkle inclusion proof of its (account ID, balance) pair. A Merkle inclusion proof of a leaf (\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eb\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) consists of the partner nodes (\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ev\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ev\u003Csub\u003Ek\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) along its path to the root of the tree. Given a transaction made by a user with account \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and claimed balance \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eb\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, a validator can check that \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eb\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is indeed the balance of account \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E by checking the proof (\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ev\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ev\u003Csub\u003Ek\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) for (\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eb\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) against its current state \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EV\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. If so, the validator executes the transaction and must update the account’s balance accordingly. A convenient property of Merkle trees is that given a Merkle inclusion proof for a leaf, it’s easy to compute the resulting root when that leaf is changed. In other words, validators can easily compute an updated state \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EV&#8217;\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E which captures the new balance of account \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E after the transaction has been executed.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis Merkle tree scheme has two main drawbacks. First, users’ witnesses are relatively large, growing logarithmically in the total number of accounts in the system. Ideally, they should be constant-sized, which we can achieve using schemes such as \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2018\u002F1188\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ERSA accumulators\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (studied in the context of stateless blockchains by \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2018\u002F1188\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBoneh et al\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E). \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe second drawback is harder to avoid: The proof of an account-balance pair changes whenever \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eany \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eother user transacts. Recall that the proof of a leaf consists of partner nodes along the path from that leaf to the root of the tree. If any other leaf changes, one of these nodes changes, presenting a problem in practice. Most blockchain users want to keep their coins in a wallet passively and come online only when they want to make a transaction. In practice in this stateless blockchain, however, users would have to constantly monitor everyone else’s transactions to keep their witnesses up to date. (Although a third party could do this monitoring on behalf of the user, this departs from the standard stateless blockchain model. We discuss this at the end of this post.) Practically, this is an insurmountable challenge for the stateless blockchain, placing a heavy burden on users. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOur result: Statelessness is impossible \u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis phenomenon is not specific to this Merkle tree construction – \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eall\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E known stateless blockchain schemes require users to frequently update their witnesses, which we demonstrate here. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMore precisely, we show that the number of users who must update their witness grows roughly linearly with the total number of transactions made by all users. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis means that even if a user Alice makes \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eno \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Etransactions, her witness might need to change as \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eother \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eusers transact.  As long as the succinct state stored by validators is too small to capture the full state (i.e., the set of all account balances), increasing the succinct state size helps little. We plot this relationship as implied by our theorem below, along with the number of witness changes required per day for blockchains of various throughput. These plots show the number of times witnesses will need to change for the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ebest possible\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E stateless blockchain. Here, the data universe refers to the total number of accounts (in the account model) or UTXOs (in the UTXO model).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ctable style=\"border-collapse: collapse; width: 100%;\"\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd style=\"width: 50%;\"\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"wp-image-8217 alignnone\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStateless-1-300x234.png\" alt=\"\" width=\"449\" height=\"350\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStateless-1-300x234.png 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStateless-1.png 512w\" sizes=\"auto, (max-width: 449px) 100vw, 449px\" \u002F\u003E\u003C\u002Ftd\u003E\n\u003Ctd style=\"width: 50%;\"\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"wp-image-8218 alignnone\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStateless-2-300x234.png\" alt=\"\" width=\"451\" height=\"352\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStateless-2-300x234.png 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStateless-2.png 512w\" sizes=\"auto, (max-width: 451px) 100vw, 451px\" \u002F\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAt the heart of our proof is an \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Einformation theoretic\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E argument. A core principle of information theory, formalized by \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FClaude_Shannon\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EClaude Shannon\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, is that if Alice randomly chooses an object from a set of size \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E2\u003Cem\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fem\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and wishes to tell Bob which object she chose, she must send him at least \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E bits. If there exists a stateless blockchain scheme where users update their witnesses infrequently, Alice can tell Bob which object she chose using fewer than \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ebits – which Shannon showed is impossible. Therefore, no such stateless blockchain can exist.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor simplicity, we’ll describe here the proof of a slightly weaker statement: that there can be no stateless blockchain where users \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Enever \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eneed to update their witnesses. The key idea is that Alice uses the stateless blockchain scheme to encode her message to Bob. Initially, Alice and Bob both know the full set of account-balance pairs for all \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eusers. Assume that each account has at least one coin. Alice and Bob also both know the stateless blockchain’s succinct state \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EV\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and witnesses \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ew\u003Csub\u003Ei \u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Efor all account-balance pairs \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eb\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. Alice and Bob have also agreed upon a mapping between messages and sets of accounts. Alice will choose a set \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eof accounts corresponding to her message, then she’ll spend coins from these accounts. She’ll use the stateless blockchain to communicate to Bob which set she chose, and he can learn from this set what her message was. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EEncoding: \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAlice spends one coin from each account in \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. Using the stateless blockchain scheme, Alice computes an updated state \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EV’ \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eand sends \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EV’ \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eto Bob. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDecoding: \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor each \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ei, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBob checks whether Verify(\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ew\u003Csub\u003Ei\u003C\u002Fsub\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E b\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E))\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBob outputs the set \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EB \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eof accounts such that Verify(\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ew\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E b\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E))\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = false. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBob succeeds in outputting the same set that Alice chose: \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EB = A. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFirst, observe that if Alice spent a coin from an account \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, the witness for its old balance should no longer be accepted – otherwise, Alice would be able to double spend. Therefore, for every account \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea\u003Csub\u003Ei \u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ein \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, Verify(\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ew\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E b\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E)) =\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E false, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eand Bob will include this account in \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EB. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOn the other hand, Bob will never include in \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EB \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ean account that Alice did \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Enot \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Espend a coin from because these accounts’ balances remain the same, and (recalling the relaxed statement we set out to prove) their witnesses never change. Thus, \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EB \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eis exactly equal to \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFinally, we reach our contradiction by calculating the number of bits that Alice should have had to send to Bob. There were \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E2\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En \u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epossible subsets of accounts that she could have chosen, so by Shannon’s law, she should have had to send at least \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ebits to Bob. However, she only sent the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Econstant-sized \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Estate \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EV’\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, which is much shorter than \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ebits.  \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(Readers familiar with cryptography might notice that we swept a few details under the rug here; for example, Bob’s decoding may fail with negligible probability. \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2022\u002F1478\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOur paper\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E includes the full proof.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhile we described our proof in terms of a stateless blockchain, Alice and Bob can execute a similar too-efficient communication using a variety of other authenticated data structures, including accumulators, vector commitments, and authenticated dictionaries. We formalize this class of data structures using a new abstraction we call a \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Erevocable proof system. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003EImplications of the result \u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOur result shows that you can’t “cryptography the state away” – there’s no silver bullet commitment scheme allowing us to build a stateless blockchain where users never have to update their witnesses. The state doesn’t disappear but rather shifts away from the validators and gets pushed onto users in the form of frequent witness updates. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESeveral other promising solutions that depart from the strict stateless blockchain model do exist. One natural relaxation of this model is to allow a third party – that’s neither a user nor validator – to be responsible for storing the full state. This party, called a \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eproof-serving node \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(and examined most rigorously by \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2021\u002F599\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESrinivasan et al.\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), uses the full state to generate up-to-date witnesses on behalf of users. Users can then transact using these witnesses as in a regular stateless blockchain, where the validators still store only a succinct state. The incentives of this system, especially how users compensate the proof-serving nodes, are an interesting open research direction.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhile our discussion so far has focused on L1 blockchains, our results also have consequences for L2 systems like rollup servers. Rollups (whether optimistic or ZK) typically take a large state and commit to it using a small value stored on L1. This state includes accounts for each user at the L2. We’d like these users to be able to withdraw funds directly on L1 (without cooperation by the L2 server) by posting a witness to their current account balance. This setup is also an instance of a revocable proof system in our model. In fact, one could argue that stateless blockchains \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehave\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E been implemented in practice, in the form of L2 rollups. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUnfortunately though, this means that our impossibility results directly apply. A user’s rollup withdrawal witness must change frequently, or else almost the entire L2 state would have to be written to L1. As a result, today’s rollups commonly assume a data availability committee (sometimes called a “validium”), which functions akin to “proof-serving nodes” in helping users compute new witnesses when they are ready to withdraw. Our results show that the warning to users in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethereum.org\u002Fen\u002Fdevelopers\u002Fdocs\u002Fscaling\u002Fvalidium\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum’s documentation\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E – “Without access to transaction data, users cannot compute the Merkle proof required to prove ownership of funds and execute withdrawals.” – will always apply.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDeveloping more efficient ways to manage blockchain state will become more critical as blockchain systems grow. Although our result ruling out a stateless blockchain may seem negative, impossibility results are useful to blockchain designers because they tell us to focus our research elsewhere, ideally helping us find a viable solution more quickly. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor more details, you can read the \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2022\u002F1478\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ecomplete paper\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and watch Miranda&#8217;s \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fyoutu.be\u002FUGcfTkZbjAw\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epresentation\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on the paper from the a16z crypto lab seminar series. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.cs.columbia.edu\u002F~mchrist\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMiranda Christ\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is a PhD student in Computer Science at Columbia University, where she is a member of the Theory Group and a Presidential Fellow. She was a Summer ‘22 research intern with a16z crypto.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fjbonneau.com\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EJoseph Bonneau\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is a Research Partner at a16z crypto. His research focuses on applied cryptography and blockchain security. He has taught cryptocurrency courses at the University of Melbourne, NYU, Stanford, and Princeton, and received a PhD in computer science from the University of Cambridge and BS\u002FMS degrees from Stanford.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n"}],related_posts:N},tags:[{term_id:av,name:al,slug:al,term_group:b,term_taxonomy_id:av,taxonomy:f,description:a,parent:b,count:cB,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:X,name:aA,slug:aB,term_group:b,term_taxonomy_id:X,taxonomy:f,description:a,parent:b,count:aF,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"576\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_1920x1080-1024x576.png\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_1920x1080-1024x576.png 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_1920x1080-300x169.png 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_1920x1080-768x432.png 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_1920x1080-1536x864.png 1536w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_1920x1080.png 1920w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_1920x1080-150x150.png\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_1920x1080-150x150.png",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_1920x1080-300x169.png",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_1920x1080-1024x576.png",width:aj}],authors:[{ID:jq,display_name:jr,first_name:a,last_name:a,user_login:cz,user_email:a,linked_account:a,website:a,description:a,user_nicename:cz,type:A,nickname:a},{ID:js,display_name:jt,first_name:ju,last_name:jv,user_login:cA,user_email:a,linked_account:a,website:a,description:a,user_nicename:cA,type:A,nickname:a}],meta_desc:fj,seo:{title_tag:"On the impossibility of stateless blockchains - a16z crypto",meta_description:fj,canonical:jw,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:fh,open_graph_description:fj,open_graph_url:jw,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2023/08/StatelessBlockchains_FB.png":{width:bZ,height:b_,filesize:331985,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_FB.png",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_FB.png",size:an,id:"8212",alt:a,pixels:b$,type:dV}},open_graph_site_name:U,estimated_reading_time_minutes:b,twitter_card:V,twitter_title:fh,twitter_description:a,twitter_image:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F08\u002FStatelessBlockchains_TW.png",open_graph_article_published_time:"2023-08-24T14:58:39+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:8891,post_author:dq,post_date:"2023-05-05 13:38:53",post_date_gmt:"2023-05-05 20:38:53",post_content:a,post_title:"Configurable Asset Privacy and Proof-Carrying Disclosures",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"configurable-asset-privacy-and-proof-carrying-disclosures",to_ping:a,pinged:a,post_modified:"2025-01-29 12:48:00",post_modified_gmt:"2025-01-29 20:48:00",post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.com\u002F?p=8891",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:dr,name:cy,slug:je,term_group:b,term_taxonomy_id:dr,taxonomy:z,description:jf,parent:b,count:aM,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d},{term_id:K,name:I,slug:I,term_group:b,term_taxonomy_id:K,taxonomy:f,description:a,parent:b,count:H,filter:d},{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d}],acf:{format:{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d},custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003EConfigurable Asset Privacy for Ethereum (CAPE) is a smart-contract application that enables wrapping of Ethereum assets, as well as creation of new assets, with flexible privacy policies. Ben Fisch (Yale and Espresso Systems) explains the basics of CAPE and shows how creators of digital assets may configure a viewing policy, designating auditors that can decrypt select information about transactions under certain conditions. An extension to CAPE, based on decentralized private computation, supports arbitrary user-defined policies. Lastly, Ben presents an application of proof-carrying data (PCD) to disclosing information about the provenance of assets in shielded pools. In theory, PCDs can be used to achieve the same level of sanction enforcement without blocking the usage of shielded pools and\u002For eroding their overall functionality.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ciframe loading=\"lazy\" title=\"Configurable Asset Privacy and Proof-Carrying Disclosures with Ben Fisch | a16z crypto research\" width=\"500\" height=\"281\" src=\"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002F5c0QL6Jz7CY?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen\u003E\u003C\u002Fiframe\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003EAbout the speaker \u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003EBen is co-founder of Espresso Systems and an assistant professor of computer science at Yale University. He completed his PhD in applied cryptography at Stanford University under Dan Boneh. \u003C\u002Fspan\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003EMore: \u003C\u002Fspan\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003E\u003Ca class=\"yt-core-attributed-string__link yt-core-attributed-string__link--display-type yt-core-attributed-string__link--call-to-action-color\" tabindex=\"0\" href=\"https:\u002F\u002Fwww.youtube.com\u002Fredirect?event=video_description&amp;redir_token=QUFFLUhqblBlNWwyckFIRFBieFZDeUdNZkp6R01ranN4QXxBQ3Jtc0trWFBHelQ1UzVCaWh1N1NPNVI3b2ZGVThTVnQ1aFZwZkE4M1RUcTRiNjg3UXV2MGZCazl2cTByNzhGNXNyZ3hRaF9hUkdzOVRvb1NseldqeV9EQkFwM1RFdDljX2luc1RnVWQ2OEJuUHQxUkR0aF9jTQ&amp;q=https%3A%2F%2Fsites.google.com%2Fsite%2Fbenafisch%2F%3Fpli%3D1&amp;v=5c0QL6Jz7CY\" target=\"_blank\" rel=\"nofollow noopener\"\u003Ehttps:\u002F\u002Fsites.google.com\u002Fsite\u002Fbenafis&#8230;\u003C\u002Fa\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003EAbout a16z crypto research \u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003Ea16z crypto research is a multidisciplinary lab that works closely with our portfolio companies and others toward solving the important problems in the space, and toward advancing the science and technology of the next generation of the internet. More about us: a16z.com\u002F2022\u002F04\u002F21\u002Fannouncing-a16z-crypto-research\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n"}],related_posts:N,disclosure_relation:h},tags:[{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:K,name:I,slug:I,term_group:b,term_taxonomy_id:K,taxonomy:f,description:a,parent:b,count:H,filter:d}],post_thumbnail:a,post_thumbnail_small:a,post_images:[],authors:[{ID:jg,display_name:jh,first_name:a,last_name:a,user_login:cy,user_email:a,linked_account:a,website:a,description:a,user_nicename:cy,type:A,nickname:a}],meta_desc:fk,seo:{title_tag:jx,meta_description:fk,canonical:jy,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:jx,open_graph_description:fk,open_graph_url:jy,open_graph_images:[],open_graph_site_name:U,estimated_reading_time_minutes:b,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2023-05-05T20:38:53+00:00"},format:{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d},template:a,disclosure:h},{ID:7288,post_author:cR,post_date:"2023-05-05 12:57:44",post_date_gmt:"2023-05-05 19:57:44",post_content:a,post_title:jz,post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"data-availability-danksharding-web3-with-a16z-podcast",to_ping:a,pinged:a,post_modified:"2025-01-28 15:16:37",post_modified_gmt:"2025-01-28 23:16:37",post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.com\u002F?p=7288",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:at,name:ac,slug:cq,term_group:b,term_taxonomy_id:at,taxonomy:z,description:cr,parent:b,count:aq,filter:d},{term_id:du,name:cC,slug:jA,term_group:b,term_taxonomy_id:du,taxonomy:z,description:jB,parent:b,count:ae,filter:d},{term_id:dk,name:cn,slug:iJ,term_group:b,term_taxonomy_id:dk,taxonomy:z,description:iK,parent:b,count:dl,filter:d},{term_id:av,name:al,slug:al,term_group:b,term_taxonomy_id:av,taxonomy:f,description:a,parent:b,count:cB,filter:d},{term_id:bP,name:aC,slug:aC,term_group:b,term_taxonomy_id:bP,taxonomy:f,description:a,parent:b,count:aL,filter:d},{term_id:aw,name:bS,slug:bT,term_group:b,term_taxonomy_id:aw,taxonomy:f,description:a,parent:b,count:aN,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:as,name:J,slug:J,term_group:b,term_taxonomy_id:as,taxonomy:f,description:a,parent:b,count:co,filter:d},{term_id:ab,name:aE,slug:J,term_group:b,term_taxonomy_id:ab,taxonomy:k,description:a,parent:b,count:aP,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d},{term_id:X,name:aA,slug:aB,term_group:b,term_taxonomy_id:X,taxonomy:f,description:a,parent:b,count:aF,filter:d}],acf:{format:{term_id:ab,name:aE,slug:J,term_group:b,term_taxonomy_id:ab,taxonomy:k,description:a,parent:b,count:aP,filter:d},custom_title:jz,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Ciframe loading=\"lazy\" src=\"https:\u002F\u002Fplayer.simplecast.com\u002Fb81c80a6-8abb-4f0d-be26-33a87ba3f228?dark=false\" width=\"100%\" height=\"200px\" frameborder=\"no\" scrolling=\"no\" seamless=\"\"\u003E\u003C\u002Fiframe\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003E\u003Ci\u003ERobert:\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Hi everyone, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fteam\u002Frobert-hackett\u002F\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ERobert Hackett\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E back here again with another episode for \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Flink.chtbl.com\u002FHObAJQDL?sid=nl\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eweb3 with a16z\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. I recently chatted live with some of our researchers on the topic of Data Availability Sampling and Danksharding – which is relevant to blockchain scaling, as well as paving the way for more advanced blockchain networks &amp; user applications. While much of the discussion is especially relevant to Ethereum, some of the concepts we cover are also applicable to advances in computing and networking generally. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis discussion involves some specific math, which we cover (and briefly explain) in the episode.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor quick context as you listen, “polynomial commitments”, which you’ll hear more about, are a tool that helps reduce the amount of data needed to verify complex computations. And “interpolation”, another term you’ll be hearing, is a way to reconstruct data from a limited set of data points.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBe sure to check out the \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fcontent\u002Farticle\u002Fan-overview-of-danksharding-and-a-proposal-for-improvement-of-das\u002F\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epaper\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E referenced in this episode for a deeper explanation at a16zcrypto.com\u002Fdas – that’s DAS for data availability sampling. As always, none of the following is investment, business, legal or tax advice. See a16z.com\u002Fdisclosures for more important information, including a link to a list of our investments.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Okay, so today we&#8217;re going to be talking about data availability sampling and danksharding. Now, if you&#8217;re unfamiliar with those things, don&#8217;t be scared because I&#8217;m here with a couple of experts who are gonna break things down for you. We&#8217;ve got \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fteam\u002Fdan-boneh\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDan Boneh\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, Stanford professor, eminent cryptographer, and a16z crypto research advisor, and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fteam\u002Fvaleria-nikolaenko\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELera Nikolaenko\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, research partner at a16z crypto.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Great to be here. Thanks, Robert. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan: \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThanks, Robert. Great to be here. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert: \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThanks, Lera. Thanks, Dan. So, as mentioned, Dan and Lera recently wrote up a great post and have a proposal related to \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fcontent\u002Farticle\u002Fan-overview-of-danksharding-and-a-proposal-for-improvement-of-das\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eways to improve protodanksharding\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, which is this upgrade that is planned for later this year in Ethereum. There is a lot of rich detail in that post, so we&#8217;ll dig in there.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBut before we get into all the details, I thought maybe we could zoom out and back up and start with a bigger picture here. So let&#8217;s start with Dan. Help us understand the subject of today&#8217;s talk, data availability sampling. And maybe you could do it without breaking anyone&#8217;s minds here.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMaybe we could keep it as you know, succinct and accessible to a broader audience as you might be able to. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan: \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESure, so maybe we can zoom out a little bit before we talk about data availability sampling. Maybe let&#8217;s talk about the general goal here. So this is part of the efforts to scale Ethereum.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnd so one of the ways to scale Ethereum is using rollups. And rollups actually need to push a lot of data on chain. So a rollup allows you to take, say, a hundred or a thousand transactions and process them all as a single transaction on the Ethereum Layer 1. And then all the data associated with those transactions basically gets pushed on chain.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnd as a result, there&#8217;s a need to actually store quite a lot of data on chain. And the question is how to do that. And that&#8217;s exactly where danksharding comes into play. So it&#8217;s a really beautiful, beautiful idea. It came from the Ethereum Foundation, particularly from Dankrad Feist. It&#8217;s a really elegant construction and basically Lera and I wanted to give an overview of how this construction works and potentially look at some options in which it may be, can be improved a little bit.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yeah. Rollups essentially allow execution to scale for Ethereum, but the question is, How do you make the data scale? And danksharding\u002Fdata availability sampling basically adds this missing piece to Ethereum that will allow it to achieve full scaling. This post is kind of quite technical. Some aspects we don&#8217;t explore, like networking, which is also interesting to research and to write about, but we are mainly focusing on the cryptographic aspects of danksharding.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E And I would actually even add that there&#8217;s really beautiful open questions that are still left to think about for researchers if you are interested in this area. There are beautiful questions around coding and polynomial commitments. There are really quite interesting questions. If they could be resolved, we would end up with even more efficient systems.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E That&#8217;s excellent context. I definitely want to ask you about those open areas for potential inquiry in a little bit. But before we do that, let&#8217;s talk more about this proposal that would free up space on the Ethereum blockchain. So the blockchain is basically this giant record of transactions happening from the time that this system launched way back when to the Genesis block. How are developers thinking about freeing up space, making it get greater throughput, scalability, cheaper transactions, all of these things that sound great and would make the system much more usable. How do you actually get there? What is required to get these efficiency gains? \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E I think the main challenge is that you cannot just ask validators to store more data. It won&#8217;t get you too far. If you want to scale the blockchain to increase the block size by several orders of magnitude, you have to split your block and disperse it to validators so that each validator only stores some fragment of the block. There&#8217;s where the ideas from error correcting and erasure coding comes in that allows you to do that.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo basically increasing the block size without putting too much burden on the validators. I would say that&#8217;s the main technical difficulty. That&#8217;s what danksharding is solving.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E You mentioned erasure coding, and it sounds like that&#8217;s a key piece of this technology that enables it to work. Maybe you could provide some more detail there. What is erasure coding? How does it work, and how does it apply in this context? \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Sure, absolutely. So you basically take a block with users’ data and you expand it. You erasure code it, turn a smaller block into a larger block, and this larger block can tolerate some omissions from it. So you can lose some portion of the block.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn the case of danksharding, you can lose 25% of the block and still be able to reconstruct these missing pieces from what you have. So when you disperse this expanded block to the validators – and the validators go down because some of them are byzantine or faulty – you can still reconstruct from those validators and that&#8217;s okay if they go down and they lose their pieces, the rest of the validators who are still online and still honest can recover those missing pieces. And that&#8217;s why the properties of erasure coding are useful here, just to substitute for byzantine or faulty validators. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E And maybe we can even explain it a bit more with an analogy. It&#8217;s like, you know, if you&#8217;re watching a Netflix movie and say, you know, the Netflix servers are sending packets to your computer and you are watching the movie, well imagine 10% of the packets actually don&#8217;t make it through and your computer only gets to see 90% of the packets.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo, normally you would start to see all sorts of lossy video and degradation in performance. With erasure coding, what happens is if the movie is coded using an erasure code, even if only 90% of the packets get through the laptop has enough information to actually reconstruct the entire movie.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhat&#8217;s interesting is erasure coding is used everywhere, like communication networks wouldn&#8217;t be able to work without erasure coding. And maybe again, just another example, when you have a deep space probe, it&#8217;s sending messages back to earth. There&#8217;s a lot of noise and a lot of them get either dropped or they get garbled, and yet on Earth we&#8217;re able to recover the signal and get those crisp images from Mars.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThat actually also is done using a slightly stronger technique called error correcting codes, where we&#8217;re not only losing packets, but also we are recovering from packets being distorted, being changed in value. What&#8217;s interesting in the context of the blockchain is that all the data is being signed. So we actually don&#8217;t care so much about data corruption because the signature layer will detect data corruption.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo really all we care about, the only thing that a malicious node can do – someone who&#8217;s trying to prevent the data from being reconstructed – the only thing that that node can do is, in some sense, remove pieces that make up the data. So we don&#8217;t care so much about recovering from corruption of the data because that&#8217;s taken care of by the signature.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBut we do worry quite a lot about pieces of the data simply missing, and as a result, maybe whoever&#8217;s trying to reconstruct the data is not able to do it. And so that&#8217;s exactly where erasure coding comes in, where we know that the only thing that can happen is that a certain piece of the data is missing. It can&#8217;t be garbled. So if we got it, we got the right one, and that&#8217;s because of the signature. But if it&#8217;s missing, we have to somehow recover. And that&#8217;s exactly as Lera was saying, that&#8217;s the idea of erasure coding. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe way you do that is basically you take your original data – in the case of Ethereum, you would take a block and you would expand it a little bit.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EActually, you expand it by like a factor of four to get more data in the block, so that the data is now redundant in the block, and now you break it into little pieces. Now you can ask every validator, “Oh, you know, you don&#8217;t have to store the entire block – you only have to store this small piece of the block.”\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnd if enough validators do their job and store those little pieces – and when we need to reconstruct the block, they send those pieces back to us – if enough pieces get back, then we are able to reconstruct the entire block. In danksharding in particular – again, it&#8217;s a beautiful, beautiful proposal – the recovery rate is 75%. So if 75% of the validators respond and we&#8217;re able to recover 75% of the pieces, then we&#8217;re able to reconstruct the entire block. That&#8217;s kind of the core mechanism that&#8217;s used in danksharding.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E That&#8217;s really useful. So it sounds like erasure coding is this kind of technique that enables you to apply some redundancy and backups so that you don&#8217;t lose all of the data so that you can still sort of assemble it, get access to it, see that it exists.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDan, you mentioned that the reason for doing this data availability sampling is to prevent bad actors from doing certain things, like getting rid of some of the data. What exactly are we defending against here?\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yeah, that&#8217;s a great place to go next. So in fact, what happens is, with these proposals for solving the data problem on Ethereum, there&#8217;s gonna be a new transaction type that&#8217;s going to be introduced.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis is called a &#8220;blob-carrying transaction&#8221;, and what it would allow folks to do is basically embed blobs. Each blob is 128 kilobytes. So you embed blobs into blocks. So normally blocks are made up of transactions to do all sorts of things to the Ethereum state. So now, in addition to just the regular transactions that we know and love, there&#8217;s also going to be a blob-carrying transaction or a few blob-carrying transactions per block and as I said, each one is gonna be 128 kilobytes.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENow the long-term plan, and actually maybe Lera can talk about the transition to how we get there, but the long-term plan is that there could be quite a few data-carrying blobs in every block, which would actually make the block quite large, right? I mean, each blob is 128 kilobytes.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIf you put a bunch of those together, you could end up, actually, you will end up with blocks that are 30 megabytes – and it&#8217;s just not reasonable to ask validators to store these huge blocks. Today, the blocks are only a hundred kilobytes or so, so these would be much, much larger blocks. And so the idea is to basically break up these large blocks into little pieces.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEvery validator, every node will actually store only this little piece. And now the problem is, what happens if they say that they stored the piece, but in fact they didn&#8217;t? Right? What do we do then? And that&#8217;s exactly where data availability sampling comes in, which is a very efficient way to test at block creation time that, in fact, everybody received their pieces, everybody currently has their pieces, and currently the block can be reconstructed even though it was broken into many, many small pieces. And these pieces are stored, distributed across the network.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E And just before Lera takes over, I just want to make sure that I understand something here. So you said blocks today are about 100 kilobytes. And the idea is that, after all these upgrades, they&#8217;re going to be about 30 megabytes. And part of the reason for that expansion of the block size is to accommodate this new type of data, this blob data, that has a different purpose than what you usually shove into blocks, which is just pure transaction data.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnd this blob data is really related to helping these off-chain Layer 2 networks store some data in a more ephemeral manner. Did I get that right?\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yeah, I&#8217;m glad you reiterated that cause that&#8217;s important. So these blobs basically are gonna be used by these rollups, right? So the rollups have to store the rollup data.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnd so instead today what they do is they store it as what&#8217;s called &#8220;call data&#8221;, which is somewhat expensive and not what call data was meant for. So instead, they&#8217;re gonna store this data as blobs in blocks. And what&#8217;s interesting is these blobs are actually not going to be available to the execution layer of Ethereum.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThey&#8217;re just gonna be stored as blobs in blocks. The execution layer will only see hashes of these big blobs. They won&#8217;t be able to access individual bytes or elements in the blobs, which is the new mechanism. So today, the way this is stored, is, as we said, in call data, and call data, is all available to the execution layer of Ethereum.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo because of this simplification, storing blob data is going to be a lot cheaper than [storing] call data. So in principle, the goal of this is to reduce the costs of Layer 2 systems, right? Because today they have to pay quite a lot to store all their data as call data. In the future, once danksharding is deployed, or even once protodanksharding is deployed, the costs will be a lot lower.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo L2 systems will become much, much cheaper and easier to use.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E That&#8217;s great. I love that we&#8217;re having a sophisticated conversation about cryptography and very technical software, and yet we keep using the word “blob”. It reminds me of the ‘80s sci-fi movie \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAttack of the Blob\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. But Lera, yeah, maybe you could chime in now and talk about this trend and how we get from where we are now to that vision in the future of expanded block sizes.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yeah, for sure. Before I dive into that, just to add two comments to what Dan said, I want to mention that it&#8217;s important the blobs are going to expire and the validators don&#8217;t give any guarantee that they&#8217;re gonna be storing these blobs forever. Right now the expiry is set roughly to 30 to 60 days, that&#8217;s what the Ethereum Foundation is thinking about.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo after this period, during which you will have an opportunity to download all of these blobs and store it locally. You know, the network will drop them, but the commitments to these blobs will persist. And if you need, so if you have the blobs themselves, you can always resupply them to the execution layer with call data.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo as long as you store the blobs, you can prove that those are the correct blobs that you have by resupplying them, because the chain continues storing the hashes of those blobs, the commitments. I also want to mention another important thing is that the fee market for those blobs is gonna be different.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo there’s going to be another fee market. They&#8217;re gonna be priced a little differently. So Ethereum is gonna have these two pipes. One pipe, if it gets congested, you are paying larger fees, say for execution, and if a data pipe gets congested, you&#8217;re paying larger fees for storing the data. So we don&#8217;t yet know how expensive the storage is gonna be. The intuition is that it must be less expensive than call data today. But again, we have to experiment to see exactly how much cheaper it&#8217;s gonna be. And protodanksharding is actually, it&#8217;s a step towards full danksharding but it&#8217;s like an experiment that we are gonna carry out to see how validators are gonna handle this additional load and how expensive the fees are gonna be for storing those data blobs.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo on the way to danksharding, we&#8217;re gonna do this experiment with protodanksharding. In protodanksharding basically, you don&#8217;t apply any erasure coding or error correcting. All you do is you add this special transaction type that carries data blobs. And those blobs are gonna have an expiry and that&#8217;s it.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo the block size is gonna be increased by a little bit in Ethereum. So right now, as Dan was saying, it&#8217;s around 100 kilobytes. With protodanksharding it&#8217;s gonna be around 500 kilobytes or so. So it&#8217;s not that big of an increase, but we&#8217;re still gonna test like all of the hypotheses that hopefully will check out and Ethereum will continue moving to full danksharding.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E So Lera, you said a number of things in there. I wanna make sure that all those points came across. You mentioned that the blob data is gonna have a different fee market. So is the right way to think about this, like you have different highway systems, or perhaps you have a lane on a highway where like you have an E-ZPass or something and maybe it&#8217;s cheaper for someone in this HOV, E-ZPass-style lane? You get lower fees to put this kind of data on the blockchain versus someone who&#8217;s just a regular commuter having to pay a toll. I know I&#8217;m kind of mixing some metaphors here, but I&#8217;m wondering if that&#8217;s a physical analogy to describe these differences in fee markets for different types of data. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yeah, I would say that it&#8217;s hard to imagine this new data&#8217;s fees being more expensive than what we currently have, so the hypothesis is it&#8217;s always gonna be cheaper to put your data in those blobs if you don&#8217;t care about accessing this data from the execution layer. So it&#8217;s as if opening another lane on your highway, that will just increase traffic, but for certain types of transactions, you&#8217;ll go into this lane and for those transactions that are kind of data heavy and for transactions that are execution heavy, you&#8217;ll continue going through the main lanes, if that makes sense.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yes, it does. And it sounds like one of the reasons why it can be cheaper is because it has this expiration date, as you mentioned. I think you said that the current idea is that&#8217;s gonna last 30 to 60 days for this blob data, at which point it would simply vanish and there would just be a trace remaining – a sort of commitment as you described.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yes, exactly. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Maybe to add to that, basically what happens is when you submit transactions, there&#8217;s a fee market, as Lera was saying, in that if there are lots of transactions being submitted all at once, say there&#8217;s a big NFT mint, and everybody wants to issue transactions, then of course the price per transaction immediately goes up.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWell, blob data is gonna be a parallel fee market, so presumably there are fewer people submitting blobs than there are people submitting transactions. So hopefully there will be less congestion over blobs. But in principle, it could happen. Hopefully not, but it could happen that all of a sudden, for some reason, there&#8217;s huge congestion over blobs and then the fee market for blobs will actually go up.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBut in principle, again, because there&#8217;s less demand for submitting blobs than there is for submitting transactions, the hope is that the cost for blobs will be lower than the cost for transactions. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Okay. That&#8217;s really helpful to understand as well. So we&#8217;ve laid out a sort of timeline for these updates. Perhaps, people listening in, maybe you&#8217;re familiar with “\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fcontent\u002Farticle\u002Fwhat-the-merge-means\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Merge\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E”, which happened last year in the fall, this big Ethereum upgrade that basically eliminated the environmental impact of Ethereum in terms of its energy consumption. And now we&#8217;re entering this new period of upgrades, which Vitalik [Buterin], co-creator of Ethereum, has termed “The Surge”, meaning that all of a sudden, these updates are going to enable the blockchain to scale a lot more powerfully than it&#8217;s been able to before. So part of this update, one of the first ones, is protodanksharding. It&#8217;s happening later this year. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhat happens in between that upgrade and full on danksharding? What are the differences between the two and when do we get that fully formed vision of danksharding in the future?\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E That&#8217;s a great question. I think there are still some research problems to figure out along the way, especially around networking because when those validators are storing only fragments of the blob, they need to help each other reconstruct those fragments. If some validator falls asleep for a while, when it wakes up, it wants other validators to help it reconstruct its missing fragments.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo it&#8217;s quite an involved networking protocol that is still in the making for danksharding and there are other exciting research problems that potentially can improve the scheme, but I think so far it looks like quite a clear path to get from protodanksharding to danksharding. And the question is just maybe how to make it better, how to improve different aspects of it, make it more efficient.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Maybe it&#8217;s worthwhile adding that in the protodanksharding approach there are at most four blobs per block, which is why each blob is 128 kilobytes. Four times 128 gives us half a megabyte, which is why that&#8217;s the limit on block sizes in protodanksharding, and that&#8217;s actually imminent. That&#8217;s supposed to happen later this year.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnd then, yeah, going all the way to danksharding still takes some work. In fact, there was a very big event recently with generating parameters jointly for danksharding. And so there&#8217;s a lot of work to do in preparation of getting to full danksharding.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yeah, that&#8217;s quite exciting. I think they&#8217;re still accepting contributions to participate in the trusted setup ceremony. Yeah, so it&#8217;s still ongoing. It&#8217;s a large community effort that&#8217;s really fun to watch and people come up with lots of creative ideas to contribute. So check this out, definitely.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E That&#8217;s super cool. I actually participated in some of the trusted setup ceremonies for some of the early privacy coins. Is this trusted setup ceremony as ostentatious as some of those, where you had people burning laptops and exploding hard drives and things like that?\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E From what I&#8217;ve seen, it&#8217;s just people coming up with different creative ways to generate entropy. Some use their pets, dogs and cats. Some are creating some sophisticated marble run machines and such. There was even one contribution done from a satellite, the highest altitude contribution there.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Actually we have to mention that. It was pretty cool actually. This company Cryptosat actually has satellites in orbit that sample noise up in space and then contribute and participate in the trusted setup protocol.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo that was pretty cool to see. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Wow, that is awesome. Did not know there was crypto in space just yet. Dan, you said that protodanksharding is gonna have four blobs per block. What is danksharding gonna enable? How many blobs are we talking here? \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yeah, so by the way, protodanksharding is up to four blobs per block.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThey&#8217;re actually targeting two, but up to four. And then danksharding, as we said, they&#8217;re targeting at most 30 megabyte blocks. So just divide 30 megabytes by 128 kilobytes. And that tells you it&#8217;s on the order of a hundred, I guess it&#8217;s about a hundred blobs per block.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yeah, I think the current plan is 128 blobs target and maybe up to 256 blobs per one block.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Great. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E And that&#8217;s exactly when the blocks become quite large. And then it becomes a little difficult for the validators to keep the entire blocks themselves. And that&#8217;s where we have to start breaking them up into pieces. And each validator will store one piece. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Got it. I appreciate the basic division. Maybe some of the more technical math that you get into in your post would be a little bit harder to convey here, but that makes sense. Maybe we could talk a little bit about some of the proposals that you made in your recent post. So you did this research and you found that with some adjustments, you could potentially get even more efficiency out of \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4844\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEIP-4844\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, which is the more technical name for protodanksharding.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yeah, the bulk of the work was just to understand the danksharding proposal in full, and then we observed some different ways to look into the mathematics – the cryptographic components of it – that hopefully unravel new toolkits that we can use there. So the rough idea, not going too much in depth, is you fit a polynomial through your block.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIt&#8217;s a bivariate polynomial because your block is rectangular. And then you evaluate this polynomial at more points, kind of expanding the block. And the idea is that if you&#8217;ve used these bivariate polynomials – instead of as danksharding was doing it, as a list of multivariate polynomials – you can then apply techniques for bivariate evaluation, bivariate interpolation, and possibly even try to apply bivariate error-correcting codes to that. But it&#8217;s very much an open door for more research and exploration. So in this post we try to explain where more research can be done to improve the scheme in that direction.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yeah. Well maybe I can add to that. I mean, danksharding is such a beautiful idea. Really. The Ethereum Foundation deserves a huge amount of credit for it. And, you know, Dankrad [Feist] in particular. It&#8217;s really quite an elegant construction.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EInitially, we were just trying to understand the details and it took some time to recover exactly all the details of how everything works. And we figured maybe it&#8217;ll help the world to have another writeup that explains how the mechanism works. Initially, I guess the original danksharding, the way it&#8217;s described, is all using univariate polynomial commitments, where we take each row, we view it as a polynomial. Erasure coding is all done using polynomials.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMaybe I can even teach a little bit of erasure coding here in one sentence. Suppose you have two points in a plane and you want to do erasure coding on them. What you can do is you can just pass a line through those two points, and now you can just publish, instead of just those two points, you can publish those two points plus maybe two additional points on the line.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo now you have four points total. And you know that if two out of those four points make it to the receiver, the receiver can use the two points that it received to recover the line and then recover the original two points. That&#8217;s the whole idea of erasure coding. So of course, instead of lines, we use higher degree polynomials to achieve different thresholds, but that&#8217;s the idea.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBasically, we have two points. We pass a line. We get more points on the line. If only two points of the line make it to the receiver, the receiver can reconstruct the line and recover the original points. And so danksharding actually does this really, really quite elegantly by looking at the block as a matrix, as a rectangular set of data.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnd then it basically extends, using these line ideas, both horizontally and vertically. And that actually gives the coded block – where then, pieces of that rectangle are sent to the different validators. What&#8217;s interesting is now that you have a rectangle, you can think of it as a two-dimensional object. That very naturally leads to thinking about this as a bivariate polynomial, exactly as Lera was saying.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhat danksharding does is it gives a very interesting way to commit to these bivariate polynomials. So it builds a way to commit to bivariate polynomials by using commitments to univariate polynomials. And so it turns out that the reconstruction mechanism that was done in danksharding is also based on construction along lines and columns – also construction as done using univariate polynomials. And then as we were working through this, there was this realization that, hey, everything here really is about rectangles and bivariate polynomials. Maybe there&#8217;s a way in which the reconstruction can also be done by using interpolation of bivariate polynomials. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E So in fact, you take your block and you expand it to X by the factor of two in both directions. So you have 4X more points as a result. But those 4X points only encode a small quadrant.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo in principle, you only need one quadrant in order to interpolate and recover all the rest of this encoded block. So 25% of the points should be enough. But as danksharding works by doing univariate interpolations, it needs 75% of the block to do column and row-wise reconstruction.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIf you do bivariate interpolation directly, you should be good with just 25% instead of 75%. So that will improve the number of elements you need in order to reconstruct, to recover the block. It will also improve communication and data availability sampling, but it&#8217;s all due to improved reconstruction.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnd now the question, it becomes kind of a mathematical question of how do you do efficient bivariate interpolation? \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThere is an obvious need for a better algorithm there. And we were researching this a little bit and it appears so far to be a little bit underexplored. So maybe there were no applications for bivariate interpolation before. Maybe it&#8217;s just a hard problem, or we don&#8217;t know. But that&#8217;s definitely an interesting direction to basically try and improve bilinear interpolation algorithms.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E So what I love about this is just like Lera was saying, for the more algorithms folks in the audience, is that there&#8217;s been a ton of work on doing univariate interpolation. If I give you points on a univariate polynomial, like points on a line, and I ask you to reconstruct that polynomial, there are very good algorithms for univariate polynomial interpolation.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnd it turns out the bivariate interpolation problem, somehow it seems like it received less attention. And what&#8217;s really cool here is all of a sudden, the blockchain, Ethereum, danksharding is creating an application for this really natural algorithmic problem of bivariate polynomial interpolation. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe really need it here. If we had a good algorithm for bivariate polynomial interpolation, we could make danksharding better because reconstruction, as Lera was saying, would go down from 75% to 25%. So to me, this is really quite beautiful in that the blockchain, Ethereum, danksharding is creating this new area of research, or at least prioritizing this new area of research showing, we really need better algorithms, new algorithms, efficient algorithms to do bivariate polynomial interpolation.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo hopefully that will encourage and spur a lot more research on these types of algorithms and presumably they will be very useful for this problem. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E So I love that we dug into the methodology here and didn&#8217;t shy away from the mathematics. I know some of it might sound a little complicated – bivariate polynomials and univariate polynomials. But I especially appreciate how you described these in terms of geometry and shapes, cause I think everybody here can really picture a line going through some points or how a rectangle functions. So I think that really helps ground the kind of work that you&#8217;re doing.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EI want to double click on this statistic that you mentioned where the current proposal as it exists would require 75% of samples in order to be reconstructed, whereas what you&#8217;re proposing would trim that down to 25%. So that&#8217;s a giant difference. 75% to 25%. But it also sounds like just for a casual observer, if you&#8217;re only having 25%, the fact that it&#8217;s just less than 50%, it sounds like, is that really enough to make assurances that this data is available and was made available?\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhen you go down to 25% it sounds like, I don&#8217;t know, you might be cutting some corners. So how do you assure people that in fact, just having 25% of data samples is actually enough and that things can work at that level? \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yeah, that gets us to the topic of data availability sampling, and what it achieves, I guess, because this reconstruction threshold – 75% or 25% – basically determines how many samples you need to get high assurance that the data is there.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe way you do the sample is that you ask the network of validators to give you back one element, a random element of this encoded block. And if you get it back successfully – and you can verify also once the validators give you back the proof of the validity of this piece, and you can verify it against the commitments that the chain persistently stores – so when you get back the successful sample that makes you sure that the data is available with probability that is one minus either one quarter or three quarters, depending on how your reconstruction algorithm works, whether it requires 25% of the data or 75% of the data. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo every time you do a random sample and it comes back successfully, basically your false positive [rate] – the probability that you think the data is available when it&#8217;s not – drops down exponentially. And the rate at which it drops down depends on how much data you are required in the reconstruction. So if your reconstruction requests 25% of the data, you do less samples and your assurance – the false positive rate – goes down quicker than if you only have a reconstruction algorithm that requires 75% of the data. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo depending on how efficient your reconstruction is, you might need fewer samples in order to have the same assurance that the data is available. So that&#8217;s why you not only improve the reconstruction here, but you also improve the number of samples you need to do for your data availability sampling.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnd data availability sampling is interesting because it&#8217;s probabilistic. So the more samples you do, the higher your assurance is that the data is available, right? And you can always amplify this probability by doing more samples to make it clear. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E I think Lera, what you just explained is really, really important.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThat&#8217;s the heart of danksharding and data availability sampling. So I&#8217;ll say it one more time, just so that the audience will hear it twice, cause that&#8217;s really the heart of it. So maybe think of the block. We said the block is gonna be encoded as this rectangle, right? So somehow we go from a block to a rectangle.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe specifics of how that is done is using this erasure coding. But let&#8217;s pretend we went from a block of data to a rectangle. So now imagine this rectangle is literally a rectangle of dots. Every dot corresponds to one piece of the data that&#8217;s gonna be distributed to one validator. So now to do data availability sampling, somebody wants to verify that enough of the dots are actually available.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe know that if more than 75% of the dots are available, then the block can be reconstructed using the erasure coding method. Or maybe, if what we&#8217;re saying would be used, then only 25% of the dots are sufficient to reconstruct the original rectangle. But how do you know that 75% of the dots are available?\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo that&#8217;s exactly the data availability sampling mechanism. What you do is you can kind of imagine you are throwing darts at this rectangle, right? So every time you throw a dart, you hit a random point in the rectangle and then the validator that holds that point has to prove, &#8220;Yes, I really have that point.&#8221;\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENow you wanna verify that 75% of the dots are available. So imagine you have this rectangle. Maybe only 75% of the dots are there. Some of the dots disappeared for some reason. You wanna verify that 75% of the dots are available, cause if 75% are available, you can reconstruct the entire rectangle. And so what are you gonna do to verify that 75% are there?\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EYou&#8217;re gonna throw a bunch of darts at the rectangle. And for every time the dart hits a dot, the validator that it hits has to prove that the dot really is there. And so if you throw a hundred darts and all hundred darts come back saying, &#8220;Yes, the data really is there&#8221;, that gives you a pretty good idea that more than 75% of the data is available.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBecause you know, if less than 75% is available and you throw four darts, you expect one dart to hit a missing dot. If you throw a hundred darts, and all of them come back saying the data&#8217;s available, you have pretty good assurance that more than 75% of the dots are there. And so that&#8217;s the idea of data availability sampling.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EYou just try lots and lots and lots of random points, like a hundred of them. If all of them are there, then you have pretty good assurance that more than 75% are available and you can reconstruct the data. And you see, if you want to get 75% assurance, you need to throw a hundred darts. If you need only 25% assurance, you would need to throw fewer darts than that.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo that would basically reduce the amount of data that&#8217;s needed to satisfy the sampling mechanism. Now, maybe it&#8217;s worthwhile saying that once the data availability sampling check succeeds – so all the hundred darts come back saying, &#8220;Yes, the dots really are there&#8221; – then the validator says, &#8220;Ah, the data&#8217;s available&#8221;.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnd then [the validator] goes ahead and signs the block as saying, &#8220;This block passed data availability sampling&#8221;. Yeah, and that&#8217;s used later on in consensus. So that&#8217;s what the test is. Basically, data availability sampling is a very efficient way to test that enough data is available to reconstruct the block without actually reconstructing the block completely.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo I think it&#8217;s good to hear it twice and maybe even a third and a fourth time. But that&#8217;s kind of the core idea that makes this all work. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E I love that, and I especially love the physical analogies that you&#8217;re using with a dart board and throwing darts. I think that really brings it home for people. So we&#8217;re nearing the top of the hour here.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EI wanna get ready to close out. But before we do that, just maybe I&#8217;ll throw it to you both in one sentence. What is the upshot of all of this? Like why does it matter to get these efficiency gains? \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Well, I would say the ultimate goal, of course, is to scale the blockchain and these new techniques would allow it to do that, for Ethereum to achieve full scaling.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThat&#8217;s a really interesting approach, I would say, because in the beginning, Ethereum was thinking about doing sharding, full sharding, and arriving at quite complicated designs. But having rollups helps scale the execution layer of Ethereum, and this leaves it up to Ethereum to scale its data availability layer. Basically, increase the space while rollups increase the execution capacity and those pieces together will give us cheaper and faster blockchains.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Yeah, Lera said it perfectly. I mean, really the scaling story for Ethereum is rollups and the way to get rollups to be more efficient and cheaper to use is by solving the data problem. And danksharding is a very elegant and efficient way to do that. So the upshot is a scalable version of Ethereum where rollups are much cheaper to use than they are today.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ERobert:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E That&#8217;s great. And if you get cheaper transactions and the ability to make more transactions, I think that opens up Ethereum to do all sorts of new applications that weren&#8217;t possible before with high gas costs and fees. So this has been great. Thank you all for joining us. I hope that you all learned a little bit about data availability sampling and danksharding.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIf you&#8217;d like to learn more, as mentioned, you can check out \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fcontent\u002Farticle\u002Fan-overview-of-danksharding-and-a-proposal-for-improvement-of-das\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDan and Lera&#8217;s post\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. It&#8217;s a really, really great piece, so I highly recommend reading it and checking out all the resources contained in there.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThank you all for joining us. I&#8217;m looking forward to this weekend. I&#8217;m gonna go to my local bar and teach everybody about erasure coding at the dartboard. So thank you all and take care.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003ELera:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Sounds great. Thank you.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EDan:\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Thank you. This has been fun. Bye bye.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EThank you for listening to web3 with a16z. You can find show notes with links to resources, books, or papers discussed; transcripts, and more at a16zcrypto.com. This episode was technically edited by our audio editor Justin Golden. Credit also to Moonshot Design for the art. And all thanks to support from a16z crypto.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003ETo follow more of our work and get updates, resources from us, and from others, be sure to subscribe to our web3 weekly \u003Ca href=\"https:\u002F\u002Fa16zcrypto.substack.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003Enewsletter\u003C\u002Fa\u003E — you can find it on our website at a16zcrypto.com.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E \u003C\u002Fem\u003E\u003Cem\u003EThank you for listening, and for subscribing. Let’s &lt;BLEEP&gt; go!\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n"}],related_posts:N},tags:[{term_id:av,name:al,slug:al,term_group:b,term_taxonomy_id:av,taxonomy:f,description:a,parent:b,count:cB,filter:d},{term_id:bP,name:aC,slug:aC,term_group:b,term_taxonomy_id:bP,taxonomy:f,description:a,parent:b,count:aL,filter:d},{term_id:aw,name:bS,slug:bT,term_group:b,term_taxonomy_id:aw,taxonomy:f,description:a,parent:b,count:aN,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:as,name:J,slug:J,term_group:b,term_taxonomy_id:as,taxonomy:f,description:a,parent:b,count:co,filter:d},{term_id:X,name:aA,slug:aB,term_group:b,term_taxonomy_id:X,taxonomy:f,description:a,parent:b,count:aF,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"576\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_1920x1080-1024x576.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_1920x1080-1024x576.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_1920x1080-300x169.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_1920x1080-768x432.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_1920x1080-1536x864.jpg 1536w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_1920x1080.jpg 1920w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_1920x1080-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_1920x1080-150x150.jpg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_1920x1080-300x169.jpg",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_1920x1080-1024x576.jpg",width:aj}],authors:[{ID:cs,display_name:ct,first_name:cu,last_name:cv,user_login:ac,user_email:a,linked_account:a,website:cw,description:cx,user_nicename:ac,type:A,nickname:a},{ID:jC,display_name:jD,first_name:jE,last_name:jF,user_login:cC,user_email:a,linked_account:a,website:a,description:jG,user_nicename:cC,type:A,nickname:a},{ID:iM,display_name:dn,first_name:cp,last_name:iN,user_login:cn,user_email:a,linked_account:cp,website:iO,description:iP,user_nicename:cn,type:A,nickname:a,wp_user:{data:{ID:cR,user_login:cp,user_pass:iQ,user_nicename:iR,user_email:iS,user_url:a,user_registered:iT,user_activation_key:a,user_status:x,display_name:dn},ID:iU,caps:{administrator:e},cap_key:e$,roles:[fa],allcaps:{switch_themes:e,edit_themes:e,activate_plugins:e,edit_plugins:e,edit_users:e,edit_files:e,manage_options:e,moderate_comments:e,manage_categories:e,manage_links:e,upload_files:e,import:e,unfiltered_html:e,edit_posts:e,edit_others_posts:e,edit_published_posts:e,publish_posts:e,edit_pages:e,read:e,level_10:e,level_9:e,level_8:e,level_7:e,level_6:e,level_5:e,level_4:e,level_3:e,level_2:e,level_1:e,level_0:e,edit_others_pages:e,edit_published_pages:e,publish_pages:e,delete_pages:e,delete_others_pages:e,delete_published_pages:e,delete_posts:e,delete_others_posts:e,delete_published_posts:e,delete_private_posts:e,edit_private_posts:e,read_private_posts:e,delete_private_pages:e,edit_private_pages:e,read_private_pages:e,delete_users:e,create_users:e,unfiltered_upload:e,edit_dashboard:e,update_plugins:e,delete_plugins:e,install_plugins:e,update_themes:e,install_themes:e,update_core:e,list_users:e,remove_users:e,promote_users:e,edit_theme_options:e,delete_themes:e,export:e,wf2fa_activate_2fa_self:e,wf2fa_activate_2fa_others:e,wf2fa_manage_settings:e,srm_manage_redirects:e,wpseo_manage_options:e,administrator:e},filter:g}}],meta_desc:fl,seo:{title_tag:jH,meta_description:fl,canonical:jI,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:jH,open_graph_description:fl,open_graph_url:jI,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2023/05/Danksharding_v2_FB.jpg":{width:bZ,height:b_,filesize:573371,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_FB.jpg",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_FB.jpg",size:an,id:"7292",alt:a,pixels:b$,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:b,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F05\u002FDanksharding_v2_TW.jpg",open_graph_article_published_time:"2023-05-05T19:57:44+00:00"},format:{term_id:ab,name:aE,slug:J,term_group:b,term_taxonomy_id:ab,taxonomy:k,description:a,parent:b,count:aP,filter:d},template:a,disclosure:h},{ID:7085,post_author:bY,post_date:"2023-04-27 05:30:45",post_date_gmt:"2023-04-27 12:30:45",post_content:a,post_title:fm,post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"an-overview-of-danksharding-and-a-proposal-for-improvement-of-das",to_ping:a,pinged:a,post_modified:"2023-04-27 12:26:20",post_modified_gmt:"2023-04-27 19:26:20",post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.com\u002F?p=7085",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:at,name:ac,slug:cq,term_group:b,term_taxonomy_id:at,taxonomy:z,description:cr,parent:b,count:aq,filter:d},{term_id:du,name:cC,slug:jA,term_group:b,term_taxonomy_id:du,taxonomy:z,description:jB,parent:b,count:ae,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:bP,name:aC,slug:aC,term_group:b,term_taxonomy_id:bP,taxonomy:f,description:a,parent:b,count:aL,filter:d},{term_id:aw,name:bS,slug:bT,term_group:b,term_taxonomy_id:aw,taxonomy:f,description:a,parent:b,count:aN,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d}],acf:{format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDanksharding is an approach to scaling the amount of data on chain for a future version of Ethereum. The goal of this upgrade is to ensure that the data on chain was made available to archiving parties when it was first posted. It does so using a technique called Data Availability Sampling, or simply \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.paradigm.xyz\u002F2022\u002F08\u002Fdas\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDAS\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn this post we survey how data availability in danksharding works and propose some modifications to the underlying technique. In particular, we explore a small modification that may improve data recovery: the current proposal requires 75% of the shares to recover a block, whereas the modification may reduce this bound to 25%.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003EProtodanksharding\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDanksharding is scheduled to follow protodanksharding (\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.eip4844.com\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEIP-4844\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E). Protodanksharding will allow clients to write more data to the blockchain by introducing a new transaction type called a “blob-carrying transaction.” Initially, this new transaction type will carry with it a list of up to four data blobs, where each blob is at most 128 KB (4096 field elements of 32 bytes each), adding up to 512 KB additional data per block (targeting 256 KB on average), compared to current Ethereum&#8217;s block size, which is around \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fetherscan.io\u002Fchart\u002Fblocksize\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E100 KB on average\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThese data blobs will be handled differently: (i) they will only be stored for a limited time, for example, 30-60 days, and (ii) the data will not be directly accessible to smart contracts despite being part of the transaction data. Instead, only a short commitment to the blob data, called DATAHASH, will be available to smart contracts. The additional burden on the validators seems tolerable: validators currently store less than 100 GB to maintain the blockchain&#8217;s state. After protodanksharding they will have to store an additional 50-100 GB.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDanksharding will follow. It will increase the data available to clients by 60x over protodanksharding by increasing the maximum number of blobs per block. Blocks will grow from 0.5 MB per block to 30 MB. But because validators cannot be made to store 60x more data, the data will be dispersed among them such that each validator will store only a small subset of data. Yet they can come to agreement on whether they collectively store all of the data through a data-availability sampling (DAS) protocol.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cimg decoding=\"async\" class=\"aligncenter\" src=\"https:\u002F\u002Fi.imgur.com\u002F5lRY4GE.png\" \u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe blob-data will be priced via a mechanism similar to \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-1559\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEIP-1559\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, and will target about 1 data-gas per byte. Calldata, which is the current cheapest alternative, is priced at 16 gas per byte. But since there will be two different fee markets, these costs are not directly comparable. Roll-up clients will benefit from those upgrades, because currently more than 90% of their client&#8217;s fees go to \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdune.com\u002Foptimismfnd\u002Foptimism-l1-batch-submission-fees-security-costs\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epaying Ethereum data fees\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOther projects, such as \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fcelestia.org\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECelestia\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.eigenlayer.xyz\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEigenLayer\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, are also adopting DAS techniques to increase the available data space. These designs are much simpler than fully sharding the Ethereum network.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe goal of data availability sampling\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe describe the scheme assuming a proposer-builder separation (PBS) design: \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EClients submit their blob-carrying transactions to block builders.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA block builder forms a block \u003Cem\u003EB\u003C\u002Fem\u003E by selecting \u003Cem\u003EN\u003C\u002Fem\u003E client data-blobs. Data-blob number \u003Cem\u003Ei\u003C\u002Fem\u003E comes with a short commitment \u003Cem\u003EC\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E signed by the client that sent it. Let \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E = (\u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E, . . . , \u003Cem\u003EC\u003Csub\u003EN\u003C\u002Fsub\u003E\u003C\u002Fem\u003E) be the list of all \u003Cem\u003EN\u003C\u002Fem\u003E signed commitments in the block \u003Cem\u003EB\u003C\u002Fem\u003E.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBlock builders submit their proposed blocks to the current block proposer (one of the validators). The block proposer selects one of the blocks and posts it to the network as is.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cimg decoding=\"async\" class=\"aligncenter\" src=\"https:\u002F\u002Fi.imgur.com\u002F5wNjG1z.png\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe challenge is to ensure that the block \u003Cem\u003EB\u003C\u002Fem\u003E can be reconstructed at a later time. To do so, the builder replicates the block across a large network of \u003Cem\u003EV\u003C\u002Fem\u003E validators. One could ask each and every validator to store the entire block, but that is considered too expensive. Instead, the block builder\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eencodes the block \u003Cem\u003EB\u003C\u002Fem\u003E into a larger block \u003Cem\u003EE\u003C\u002Fem\u003E using erasure coding;\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ebreaks the block \u003Cem\u003EE\u003C\u002Fem\u003E into \u003Cem\u003EV\u003C\u002Fem\u003E overlapping fragments \u003Cem\u003EP\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E, . . . , \u003Cem\u003EP\u003Csub\u003EV\u003C\u002Fsub\u003E\u003C\u002Fem\u003E;\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esends to validator number \u003Cem\u003Ei\u003C\u002Fem\u003E the pair (\u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E, \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E).\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEvery validator checks that the fragment \u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E that it received is consistent with the list \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E of signed commitments. The block builder provides proofs for the validators to facilitate these checks.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWith this setup, a Data Availability Sampling scheme has two protocols: \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA \u003C\u002Fspan\u003E\u003Cb\u003Esampling\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E protocol runs between a \u003C\u002Fspan\u003E\u003Cb\u003Esampling verifier\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and the validator set. The sampling verifier takes the list \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E as input and requests randomly selected elements of the block \u003Cem\u003EE\u003C\u002Fem\u003E from the validator set. The sampling verifier outputs \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esuccess\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E if it received all the requested elements and all are consistent with \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E. \u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA \u003C\u002Fspan\u003E\u003Cb\u003Ereconstruction\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E protocol runs between a \u003C\u002Fspan\u003E\u003Cb\u003Ereconstruction agent\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and the validator set. The reconstruction agent takes \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E as input and requests elements of block \u003Cem\u003EE\u003C\u002Fem\u003E from the validator set. Once it collects more than 75% of the elements, and all are valid, the reconstruction agent computes and outputs the block \u003Cem\u003EB\u003C\u002Fem\u003E. \u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(We discuss an approach below that may reduce the number of elements needed for reconstruction.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe requirement is that if the sampling verifier outputs \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esuccess\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, then the reconstruction agent will output the block \u003Cem\u003EB\u003C\u002Fem\u003E, provided it receives over three quarters of the elements as input. Reconstruction should succeed as long as enough elements are provided, even if the provided elements are selected adversarially.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETo recap, the following parties participate in danksharding: \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EClient\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: sends data blobs (which are either transactions or bundles) to a builder.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBuilder\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: makes a block and sends fragments of this block to validators.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBlock proposer\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (one of the validators): posts the block to the network.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESampling verifier\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (any of the validators): runs the sampling protocol and signs the block header if the protocol outputs success. \u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EReconstruction agent\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: reconstructs a previously posted block when needed by interacting with the entire validator set. Reconstruction succeeds if the validators respond with more than three-quarters of valid elements.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EErasure coding and polynomial commitments \u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThere are two building blocks to the scheme that we explain next: erasure coding and polynomial commitments.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBuilding block #1: Erasure-coding\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EErasure coding dates back to the 1960s, motivated by the need to transmit information over a lossy channel. It is used in danksharding to protect against validators that lose their data fragments. The technique expands the data from \u003Cem\u003EN\u003C\u002Fem\u003E elements to \u003Cem\u003EM\u003C\u002Fem\u003E elements (\u003Cem\u003EM\u003C\u002Fem\u003E &gt; \u003Cem\u003EN\u003C\u002Fem\u003E) such that the original data can be reconstructed from \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eany\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E intact \u003Cem\u003EN\u003C\u002Fem\u003E out of \u003Cem\u003EM\u003C\u002Fem\u003E elements of the expanded data. Imagine taking \u003Cem\u003EN\u003C\u002Fem\u003E elements (original data), encoding them into \u003Cem\u003EM\u003C\u002Fem\u003E = 2\u003Cem\u003EN\u003C\u002Fem\u003E elements, and giving one encoded element to each of the 2\u003Cem\u003EN\u003C\u002Fem\u003E validators. If a majority of validators are honest, they can always jointly reconstruct the original data. This technique protects against \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ecrash\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E faults of any half of the validators. It can be extended to protect against \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ebyzantine\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E behavior of a half of the validators using polynomial commitments discussed in the next section.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EHere is how expansion works in more detail. To expand the data from \u003Cem\u003EN\u003C\u002Fem\u003E field elements \u003Cem\u003Ed\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E, \u003Cem\u003Ed\u003C\u002Fem\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E, . . . , \u003Cem\u003Ed\u003Csub\u003EN\u003C\u002Fsub\u003E\u003C\u002Fem\u003E ∈ 𝔽\u003Cem\u003E\u003Csub\u003Ep\u003C\u002Fsub\u003E\u003C\u002Fem\u003E to \u003Cem\u003EM\u003C\u002Fem\u003E encoded elements \u003Cem\u003Ee\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E, \u003Cem\u003Ee\u003C\u002Fem\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E, . . . , \u003Cem\u003Ee\u003Csub\u003EM\u003C\u002Fsub\u003E\u003C\u002Fem\u003E ∈ 𝔽\u003Cem\u003E\u003Csub\u003Ep\u003C\u002Fsub\u003E\u003C\u002Fem\u003E, and we interpolate the unique degree \u003Cem\u003EN \u003C\u002Fem\u003E&#8211; 1 polynomial \u003Cem\u003Ep(x)\u003C\u002Fem\u003E that satisfies \u003Cem\u003Ep(i)\u003C\u002Fem\u003E = \u003Cem\u003Ed\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E for \u003Cem\u003Ei \u003C\u002Fem\u003E= 1, . . . , \u003Cem\u003EN\u003C\u002Fem\u003E. The polynomial is then evaluated at \u003Cem\u003EM\u003C\u002Fem\u003E points: \u003Cem\u003Ee\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E = (\u003Cem\u003Ei\u003C\u002Fem\u003E,\u003Cem\u003Ep\u003C\u002Fem\u003E(\u003Cem\u003Ei\u003C\u002Fem\u003E)) for \u003Cem\u003Ei\u003C\u002Fem\u003E = 1,. . . , \u003Cem\u003EM\u003C\u002Fem\u003E. The original polynomial, \u003Cem\u003Ep\u003C\u002Fem\u003E(\u003Cem\u003Ex\u003C\u002Fem\u003E), can be reconstructed from \u003Cem\u003Eany\u003C\u002Fem\u003E \u003Cem\u003EN\u003C\u002Fem\u003E out of the \u003Cem\u003EM\u003C\u002Fem\u003E encoded elements using Lagrange interpolation. This expansion method is called \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EReed-Solomon encoding\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E or \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Elow-degree polynomial expansion\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBuilding block #2: Polynomial commitments\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPolynomial commitment is a building lock of a DAS scheme. It allows the scheme to do two things:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ecommit to a univariate polynomial \u003Cem\u003Ep\u003C\u002Fem\u003E in 𝔽\u003Cem\u003E\u003Csub\u003Ep\u003C\u002Fsub\u003E\u003C\u002Fem\u003E[\u003Cem\u003EX\u003C\u002Fem\u003E] of bounded degree \u003Cem\u003ED\u003C\u002Fem\u003E using a short commitment string, \u003Cem\u003EC\u003C\u002Fem\u003E.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eopen the committed polynomial at a given point \u003Cem\u003Ex\u003C\u002Fem\u003E ∈ 𝔽\u003Csub\u003E\u003Cem\u003Ep\u003C\u002Fem\u003E.\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMore precisely, given \u003Cem\u003Ex,y\u003C\u002Fem\u003E ∈ 𝔽\u003Cem\u003E\u003Csub\u003Ep\u003C\u002Fsub\u003E\u003C\u002Fem\u003E, the committer can create a short proof π that the committed polynomial \u003Cem\u003Ep\u003C\u002Fem\u003E satisfies \u003Cem\u003Ep\u003C\u002Fem\u003E(\u003Cem\u003Ex\u003C\u002Fem\u003E) = \u003Cem\u003Ey\u003C\u002Fem\u003E and that its degree is at most \u003Cem\u003ED\u003C\u002Fem\u003E. The proof π is verified with respect to the commitment string \u003Cem\u003EC\u003C\u002Fem\u003E and the values \u003Cem\u003Ex, y\u003C\u002Fem\u003E. This π is called an \u003Cem\u003Eevaluation proof\u003C\u002Fem\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESecurity guarantees that the commitment is binding to the polynomial and that an adversary cannot create a false proof.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA number of practical polynomial commitment schemes can be used here. Danksharding uses the KZG commitment scheme that requires a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fkzg-ceremony-specs\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Etrusted setup ceremony\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to generate public parameters (called an SRS) but has constant-size commitments and constant-size evaluation proofs. KZG commitments have a number of properties that make them especially well suited for danksharding:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethe commitment is homomorphic\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: if \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E is a commitment to \u003Cem\u003Ep\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E and \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E is a commitment to \u003Cem\u003Ep\u003C\u002Fem\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E, then \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E + \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E is a commitment to \u003Cem\u003Ep\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E + \u003Cem\u003Ep\u003C\u002Fem\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E;\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethe commitment is unique\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: if two people independently compute a commitment to a polynomial \u003Cem\u003Ep\u003C\u002Fem\u003E, they obtain the same commitment;\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eevaluation proofs are homomorphic\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: for a given \u003Cem\u003Ex\u003C\u002Fem\u003E, if π\u003Csub\u003E1\u003C\u002Fsub\u003E is a proof that \u003Cem\u003Ep\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E(\u003Cem\u003Ex\u003C\u002Fem\u003E) = \u003Cem\u003Ey\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E and π\u003Csub\u003E2\u003C\u002Fsub\u003E is a proof that \u003Cem\u003Ep\u003C\u002Fem\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E(\u003Cem\u003Ex\u003C\u002Fem\u003E) = \u003Cem\u003Ey\u003C\u002Fem\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E, then π\u003Csub\u003E1 \u003C\u002Fsub\u003E+ π\u003Csub\u003E2\u003C\u002Fsub\u003E is a proof that (\u003Cem\u003Ep\u003C\u002Fem\u003E\u003Csub\u003E1 \u003C\u002Fsub\u003E+ \u003Cem\u003Ep\u003C\u002Fem\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E)(\u003Cem\u003Ex\u003C\u002Fem\u003E) = \u003Cem\u003Ey\u003C\u002Fem\u003E\u003Csub\u003E1 \u003C\u002Fsub\u003E+ \u003Cem\u003Ey\u003C\u002Fem\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe can now explain how a client commits to its data-blob. First, the client interprets the data-blob as a vector of \u003Cem\u003Em\u003C\u002Fem\u003E field elements \u003Cem\u003Ed\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E, . . . , \u003Cem\u003Ed\u003Csub\u003Em\u003C\u002Fsub\u003E\u003C\u002Fem\u003E ∈ 𝔽\u003Csub\u003E\u003Cem\u003Ep\u003C\u002Fem\u003E\u003C\u002Fsub\u003E, for \u003Cem\u003Em\u003C\u002Fem\u003E ≤ 4096. Next, it interpolates a univariate polynomial \u003Cem\u003Ep\u003C\u002Fem\u003E ∈ 𝔽\u003Csub\u003E\u003Cem\u003Ep\u003C\u002Fem\u003E\u003C\u002Fsub\u003E[\u003Cem\u003EX\u003C\u002Fem\u003E] of degree at most \u003Cem\u003Em \u003C\u002Fem\u003E&#8211; 1 such that \u003Cem\u003Ep\u003C\u002Fem\u003E(\u003Cem\u003Ei\u003C\u002Fem\u003E) = \u003Cem\u003Ed\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E for \u003Cem\u003Ei \u003C\u002Fem\u003E= 1, . . . , \u003Cem\u003Em\u003C\u002Fem\u003E. (Technically, danksharding uses 1, ω, ω\u003Csup\u003E2\u003C\u002Fsup\u003E, . . . , ω\u003Csup\u003E\u003Cem\u003Em\u003C\u002Fem\u003E-1\u003C\u002Fsup\u003E ∈ 𝔽\u003Csub\u003E\u003Cem\u003Ep\u003C\u002Fem\u003E\u003C\u002Fsub\u003E as the evaluation points, where ω ∈ 𝔽\u003Cem\u003E\u003Csub\u003Ep\u003C\u002Fsub\u003E\u003C\u002Fem\u003E is an \u003Cem\u003Em\u003C\u002Fem\u003Eth root of unity, and a\u003C\u002Fspan\u003E \u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@dankrad\u002Fdanksharding_encoding\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ereverse-bit order\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E; this is done for efficiency, but we will not consider it here for simplicity.) Finally, the client constructs the KZG polynomial commitment to the polynomial \u003Cem\u003Ep\u003C\u002Fem\u003E. It signs the commitment and sends the commitment-signature pair to the builder. This process requires public parameters (an SRS) containing 4096 group elements. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EData Dispersal\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENext, we explain how the block builder encodes a block and splits it into fragments to send to the validators. Fix some 256-bit prime \u003Cem\u003Ep\u003C\u002Fem\u003E. The block builder does the following:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003Einput\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: A block \u003Cem\u003EB\u003C\u002Fem\u003E in danksharding can contain up to 256 data blobs (64 times more blobs than in protodanksharding), where each data blob is a vector of 4096 elements in 𝔽\u003Csub\u003E\u003Cem\u003Ep\u003C\u002Fem\u003E\u003C\u002Fsub\u003E. Thus, we can represent a block as a 256 × 4096 matrix of elements in 𝔽\u003Csub\u003E\u003Cem\u003Ep\u003C\u002Fem\u003E\u003C\u002Fsub\u003E. Each row in this matrix corresponds to one data-blob from a client. Recall that each client sends to the builder one row of \u003Cem\u003EB\u003C\u002Fem\u003E along with a signed KZG polynomial commitment for that row. The builder collects 256 signed polynomial commitments \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E, . . . , \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E255\u003C\u002Fsub\u003E, one commitment per row.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003Estep 1\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: The builder interpolates a bivariate polynomial \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003EX\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E) such that \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003Ei\u003C\u002Fem\u003E,\u003Cem\u003Ej\u003C\u002Fem\u003E) = \u003Cem\u003EB\u003C\u002Fem\u003E[\u003Cem\u003Ei\u003C\u002Fem\u003E,\u003Cem\u003Ej\u003C\u002Fem\u003E] for \u003Cem\u003Ei \u003C\u002Fem\u003E= 0, . . . , 255 and \u003Cem\u003Ej \u003C\u002Fem\u003E= 0, . . . , 4095. This bivariate polynomial has degree at most 255 in \u003Cem\u003EX\u003C\u002Fem\u003E and degree at most 4095 in \u003Cem\u003EY\u003C\u002Fem\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003Estep 2\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: The builder uses the erasure coding method described above to expand the block by a factor of two in each direction. That is, it forms a 512 × 8192 matrix \u003Cem\u003EE\u003C\u002Fem\u003E of field elements by setting \u003Cem\u003EE\u003C\u002Fem\u003E[\u003Cem\u003Ei\u003C\u002Fem\u003E,\u003Cem\u003Ej\u003C\u002Fem\u003E] ← \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003Ei\u003C\u002Fem\u003E,\u003Cem\u003Ej\u003C\u002Fem\u003E) for \u003Cem\u003Ei \u003C\u002Fem\u003E= 0, . . . , 511 and \u003Cem\u003Ej \u003C\u002Fem\u003E= 0, . . . , 8191. This is illustrated in the following figure.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg decoding=\"async\" class=\"aligncenter\" src=\"https:\u002F\u002Fi.imgur.com\u002Fyv5sWtM.png\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003Estep 3\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: The builder verifies that each signed \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ei\u003C\u002Fem\u003E\u003C\u002Fsub\u003E is a KZG commitment to the univariate polynomial \u003Cem\u003Ed\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ei\u003C\u002Fem\u003E\u003C\u002Fsub\u003E(\u003Cem\u003EY\u003C\u002Fem\u003E) := \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003Ei\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E), for all \u003Cem\u003Ei \u003C\u002Fem\u003E= 0, . . . , 255. Observe that the polynomial \u003Cem\u003Ed\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ei\u003C\u002Fem\u003E\u003C\u002Fsub\u003E(\u003Cem\u003EY\u003C\u002Fem\u003E) is an interpolation of row \u003Cem\u003Ei\u003C\u002Fem\u003E of \u003Cem\u003EB\u003C\u002Fem\u003E, and therefore must be the same as the polynomial committed to by client \u003Cem\u003Ei\u003C\u002Fem\u003E. The builder rejects all data-blobs for which \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ei\u003C\u002Fem\u003E\u003C\u002Fsub\u003E is malformed.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENow the builder uses \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E = (\u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E, . . . , \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E255\u003C\u002Fsub\u003E) as a commitment to the block \u003Cem\u003EB\u003C\u002Fem\u003E, or more precisely, to the bivariate polynomial \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003EX\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E). \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELet&#8217;s show that \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E = (\u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E, . . . , \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E255\u003C\u002Fsub\u003E) is indeed a polynomial commitment to the polynomial \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003EX\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E). For some given \u003Cem\u003Ex\u003C\u002Fem\u003E,\u003Cem\u003Ey\u003C\u002Fem\u003E,\u003Cem\u003Ez\u003C\u002Fem\u003E ∈ 𝔽\u003Csub\u003E\u003Cem\u003Ep\u003C\u002Fem\u003E\u003C\u002Fsub\u003E, let us construct an evaluation proof that convinces the verifier that \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003Ex\u003C\u002Fem\u003E,\u003Cem\u003Ey\u003C\u002Fem\u003E) = \u003Cem\u003Ez\u003C\u002Fem\u003E with respect to the commitment \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E. Since the degree of \u003Cem\u003EX\u003C\u002Fem\u003E in \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003EX\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E) is at most 255, there are constants λ\u003Csub\u003E0\u003C\u002Fsub\u003E, . . . , λ\u003Csub\u003E255\u003C\u002Fsub\u003E ∈ 𝔽\u003Csub\u003E\u003Cem\u003Ep\u003C\u002Fem\u003E\u003C\u002Fsub\u003E that depend only on \u003Cem\u003Ex\u003C\u002Fem\u003E such that \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp style=\"text-align: center;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003Ex\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E) = λ\u003Csub\u003E0\u003C\u002Fsub\u003E · d(0,\u003Cem\u003EY\u003C\u002Fem\u003E) + . . . + λ\u003Csub\u003E255\u003C\u002Fsub\u003E · d(255,\u003Cem\u003EY\u003C\u002Fem\u003E).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThen, by the homomorphic property of KZG commitments it follows that \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp style=\"text-align: center;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cem\u003EC\u003Csub\u003Ex\u003C\u002Fsub\u003E\u003C\u002Fem\u003E := λ\u003Csub\u003E0\u003C\u002Fsub\u003E · \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E + . . . + λ\u003Csub\u003E255\u003C\u002Fsub\u003E · \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E255\u003C\u002Fsub\u003E \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eis a KZG commitment to the univariate polynomial \u003Cem\u003Ed\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ex\u003C\u002Fem\u003E\u003C\u002Fsub\u003E(\u003Cem\u003EY\u003C\u002Fem\u003E) := \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003Ex\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E). Hence, the verifier can construct \u003Cem\u003EC\u003Csub\u003Ex\u003C\u002Fsub\u003E\u003C\u002Fem\u003E from \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E on its own. Let π be the KZG evaluation proof for the polynomial \u003Cem\u003Ed\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ex\u003C\u002Fem\u003E\u003C\u002Fsub\u003E(\u003Cem\u003EY\u003C\u002Fem\u003E) that convinces the verifier that \u003Cem\u003Ed\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ex\u003C\u002Fem\u003E\u003C\u002Fsub\u003E(\u003Cem\u003Ey\u003C\u002Fem\u003E) = \u003Cem\u003Ez\u003C\u002Fem\u003E with respect to the commitment \u003Cem\u003EC\u003Csub\u003Ex\u003C\u002Fsub\u003E\u003C\u002Fem\u003E. This π is the required evaluation proof for \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003EX\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E) at the point (\u003Cem\u003Ex\u003C\u002Fem\u003E,\u003Cem\u003Ey\u003C\u002Fem\u003E).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis argument shows that \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E is a polynomial commitment to \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003EX\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E). It is worth noting that while each client signs a row of \u003Cem\u003EB\u003C\u002Fem\u003E independently of the other clients, the collection of all client signatures functions as a signature on the polynomial commitment to \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003EX\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003Estep 4\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: The minimum unit of communication in this DAS scheme is a \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esample\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, which is a 16-elements row vector. The matrix \u003Cem\u003EE\u003C\u002Fem\u003E with 512 × 8192 elements is treated as a square matrix of 512 × 512 samples. Let \u003Cem\u003EV\u003C\u002Fem\u003E be the number of validators. Then the block builder breaks the matrix \u003Cem\u003EE\u003C\u002Fem\u003E into \u003Cem\u003EV\u003C\u002Fem\u003E overlapping fragments \u003Cem\u003EP\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E, . . . , \u003Cem\u003EP\u003Csub\u003EV\u003C\u002Fsub\u003E\u003C\u002Fem\u003E, where \u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E comprises exactly two rows and two columns of samples of \u003Cem\u003EE\u003C\u002Fem\u003E, chosen at random from the 512 rows and 512 columns of samples. Thus, \u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E contains 2 × 512 × 16 + 2 × 8192 = 9216 field elements in 𝔽\u003Cem\u003E\u003Csub\u003Ep\u003C\u002Fsub\u003E\u003C\u002Fem\u003E. This is much smaller than the full block \u003Cem\u003EB\u003C\u002Fem\u003E, which is about a million field elements. The minimum number of validators in Ethereum is 128 (and currently around ~500,000), so enough validators exist to ensure that the whole block is sufficiently well covered. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003Estep 5\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: The block builder sends the triple (\u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E, \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E, π\u003Cem\u003E\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E) to validator number \u003Cem\u003Ei\u003C\u002Fem\u003E, where π\u003Cem\u003E\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E is a list of evaluation proofs for all the elements in \u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E: one proof for each cell \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003Ex\u003C\u002Fem\u003E,\u003Cem\u003Ey\u003C\u002Fem\u003E) in the two rows and two columns of samples in \u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E. The proofs in π\u003Cem\u003E\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E enable the validator to verify that every field element in \u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E is consistent with the commitment \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn danksharding the number of validators can greatly exceed the number of columns or rows in the block. Therefore, some columns and rows might be stored by multiple validators. As such, danksharding uses both replication and Reed-Solomon erasure coding to ensure that the data can be reconstructed. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFull block&#8217;s reconstruction\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhen a reconstruction agent needs to reconstruct the entire block, it has \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E, and asks the validator set to send it their fragments. In response, an honest validator \u003Cem\u003Ei\u003C\u002Fem\u003E sends (\u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E, π\u003Cem\u003E\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E). The reconstruction agent checks the opening proofs in π\u003Cem\u003E\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E, and if valid, it accepts the values in \u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E. Hence, byzantine validators cannot send false data. However, Byzantine validators may refuse to send their data and not respond to the reconstruction agent. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhen some data is missing, danksharding needs at least 75% of the matrix \u003Cem\u003EE\u003C\u002Fem\u003E to reconstruct the block. Since the validators only store complete rows and columns, the worst-case scenario is the following one where 75% &#8211; ε of the block&#8217;s elements are present, yet it is impossible to reconstruct the missing elements.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg decoding=\"async\" class=\"aligncenter\" src=\"https:\u002F\u002Fi.imgur.com\u002FgHZXhXM.png\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETo see why the data cannot be reconstructed in this case, observe that there is a non-zero bivariate polynomial δ(\u003Cem\u003EX\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E) that evaluates to zero on the entire “present” region and has the required degree bounds on \u003Cem\u003EX\u003C\u002Fem\u003E and \u003Cem\u003EY\u003C\u002Fem\u003E. Therefore, during reconstruction it is not possible to tell if the missing white area comes from the correct polynomial \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003EX\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E) or the polynomial \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003EX\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E) + δ(\u003Cem\u003EX\u003C\u002Fem\u003E,\u003Cem\u003EY\u003C\u002Fem\u003E); both polynomials agree on the present data. As a result, when the missing data follows this pattern (up to a permutation of rows and columns) the missing data cannot be reconstructed. Note that if a validator drops some of its data, thereby becoming “byzantine,” it drops it all, both rows and both columns.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESo less than 75% of the block is not enough in the worst case. However when 75% or more of the block is present the reconstruction is guaranteed to succeed by a simple greedy algorithm.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003EThe reconstruction algorithm\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: Reconstruction works by iteratively finding an incomplete row (or a column) with at least 50% of available elements in it and using univariate interpolation to reconstruct the missing elements of the row (or column). To see why this procedure eventually reconstructs the whole block, let’s assume the block is still missing some elements, yet we can find no row or column that can be reconstructed. This means that each row and column either has &lt;50% available elements or it is full (has 100% of available elements). Let’s select any incomplete row; it has &gt;50% of unavailable elements, the columns through those elements also have to have &gt;50% unavailable elements, which immediately implies that &gt;25% of the block is unavailable, which contradicts the original assumption.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETo render one block unreconstructable, the adversary needs to attack at least 15\u002F16 of the validator set. The attackers in this case would pick a quadrant to erase, and attack those validators that have at least one of their two rows or one of their two columns in that quadrant. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELocal reconstruction of validator&#8217;s data\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESuppose that an honest validator \u003Cem\u003Ei\u003C\u002Fem\u003E crashes and loses its data. When it comes back online it wants to reconstruct its two rows and two columns \u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E as well as the opening proofs π\u003Cem\u003E\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E. Danksharding enables a validator to do that without reconstructing the entire block. The validator can download its data from another validator that stores the same exact set of points, or by obtaining 50% of the elements of its row (or column) from other validators, and reconstructing the rest of the row through univariate interpolation. This process does not have to go through full reconstruction.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor example, imagine a validator stores at least 50% of column number 42, but less than 100% and it needs to reconstruct the missing elements. That is, the validator holds pairs (\u003Cem\u003EE\u003C\u002Fem\u003E\u003Csub\u003E(\u003Cem\u003Ei\u003C\u002Fem\u003E,42)\u003C\u002Fsub\u003E, π\u003Csub\u003Ei\u003C\u002Fsub\u003E) ∈ (𝔽, 𝔾) for all \u003Cem\u003Ei\u003C\u002Fem\u003E ∈ \u003Cem\u003ES\u003C\u002Fem\u003E, for a set \u003Cem\u003ES\u003C\u002Fem\u003E where 256 ≤ |\u003Cem\u003ES\u003C\u002Fem\u003E| &lt; 512. To reconstruct the missing pairs, the validator does the following:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUsing Lagrange interpolation over the field 𝔽 constructs a polynomial \u003Cem\u003Ep\u003C\u002Fem\u003E(\u003Cem\u003Ex\u003C\u002Fem\u003E) of degree 255 s.t. \u003Cem\u003Ep\u003C\u002Fem\u003E(\u003Cem\u003Ei\u003C\u002Fem\u003E) = \u003Cem\u003EE\u003C\u002Fem\u003E\u003Csub\u003E(\u003Cem\u003Ei\u003C\u002Fem\u003E,42)\u003C\u002Fsub\u003E for all \u003Cem\u003Ei\u003C\u002Fem\u003E ∈ \u003Cem\u003ES\u003C\u002Fem\u003E.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEvaluates the polynomial to obtain the missing elements: \u003Cem\u003EE\u003C\u002Fem\u003E\u003Csub\u003E(i,42)\u003C\u002Fsub\u003E := \u003Cem\u003Ep\u003C\u002Fem\u003E(\u003Cem\u003Ei\u003C\u002Fem\u003E) for all \u003Cem\u003Ei\u003C\u002Fem\u003E ∈ {0..511}\\\u003Cem\u003ES\u003C\u002Fem\u003E. Note that the points are guaranteed to lie on a 255-degree polynomial because the validator has checked them against the commitments \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EObtain the missing proofs via a multi-exponentiation by doing polynomial interpolation “in the exponent”: for all \u003Cem\u003Ei\u003C\u002Fem\u003E in {0..511}\\\u003Cem\u003ES\u003C\u002Fem\u003E compute π\u003Csub\u003E\u003Cem\u003Ei\u003C\u002Fem\u003E\u003C\u002Fsub\u003E := ∑\u003Csub\u003Ej∈S\u003C\u002Fsub\u003E π\u003Cem\u003E\u003Csub\u003Ej\u003C\u002Fsub\u003E\u003C\u002Fem\u003E · Λ\u003Csub\u003E\u003Cem\u003Ej\u003C\u002Fem\u003E,\u003Cem\u003ES\u003C\u002Fem\u003E\u003C\u002Fsub\u003E(\u003Cem\u003Ei\u003C\u002Fem\u003E), where Λ\u003Csub\u003E\u003Cem\u003Ej\u003C\u002Fem\u003E,\u003Cem\u003ES\u003C\u002Fem\u003E\u003C\u002Fsub\u003E(\u003Cem\u003Ei\u003C\u002Fem\u003E) is the Lagrange coefficient Λ\u003Csub\u003E\u003Cem\u003Ej\u003C\u002Fem\u003E,\u003Cem\u003ES\u003C\u002Fem\u003E\u003C\u002Fsub\u003E(\u003Cem\u003Ei\u003C\u002Fem\u003E) := ∏\u003Csub\u003Ek∈\u003Cem\u003ES\u003C\u002Fem\u003E,\u003Cem\u003Ek\u003C\u002Fem\u003E≠\u003Cem\u003Ej\u003C\u002Fem\u003E\u003C\u002Fsub\u003E(\u003Cem\u003Ei \u003C\u002Fem\u003E&#8211; \u003Cem\u003Ek\u003C\u002Fem\u003E)\u002F(\u003Cem\u003Ej \u003C\u002Fem\u003E&#8211; \u003Cem\u003Ek\u003C\u002Fem\u003E).\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EStep 3 uses the fact that KZG polynomial commitments have \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehomomorphic proofs\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. To the best of our knowledge, KZG is the only polynomial commitment scheme with this property.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESampling for data availability in danksharding\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETo determine whether enough of the expanded block \u003Cem\u003EE\u003C\u002Fem\u003E is available for reconstructing the original block \u003Cem\u003EB\u003C\u002Fem\u003E, the sampling client queries for random samples of \u003Cem\u003EE\u003C\u002Fem\u003E. In response to each query, it gets a sample (16-elements row vector) and an evaluation proof to check the sample against the commitment \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E. If all its queries are successfully answered, the client accepts the data as available. If the client makes a total of \u003Cem\u003EQ\u003C\u002Fem\u003E queries, then it falsely accepts unavailable data with probability (3\u002F4)\u003Csup\u003E\u003Cem\u003EQ\u003C\u002Fem\u003E\u003C\u002Fsup\u003E which drops exponentially quickly with the number of queries \u003Cem\u003EQ\u003C\u002Fem\u003E. The rate 3\u002F4 corresponds to the reconstruction threshold of 75% from the previous section. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn the Ethereum network, sampling will be done by three types of parties: (i) full-nodes who can&#8217;t afford to store the blob-data in full, (ii) light clients, and (iii) the validators themselves. The validators have to certify that the data is available before casting any votes on a block and its predecessors. Each epoch has a fixed set of validators, which are split into 32 committees randomly. Each committee is assigned a 12 seconds slot of the epoch (there are 32 slots per epoch). One block is expected to be confirmed per slot. Each validator receives the fragments (2 rows and 2 columns of samples) of each of the blocks, even for blocks when the validator is not part of the attesting committee. In addition, each validator samples the current block and all the previous blocks to ensure that all the blocks are both valid and available before selecting a block for attestation according to a fork-choice rule.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg decoding=\"async\" class=\"aligncenter\" src=\"https:\u002F\u002Fi.imgur.com\u002FxdQi9x0.png\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe protocol guarantees that the data will be available for an epoch of 32 slots, that is, for 6 minutes. Additional approaches such as proofs of retrievability or \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fabs\u002F2208.02999\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eincentive mechanisms\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E can help ensure the data is made available for longer periods of time, e.g., 30-60 days when the blobs should be available before expiring.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA proposal for 25% reconstruction\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn this section we explain how to make reconstruction succeed if only 25% of the data is available (compared to 75% as in current danksharding explained above).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhen the fraction of available points is below 75%, then the greedy column-wise and row-wise univariate interpolation can fail. Instead, we propose to do reconstruction directly through bivariate polynomial interpolation. In this case, full reconstruction is possible even if only 25% of the points of \u003Cem\u003EE\u003C\u002Fem\u003E are available. However, this requires a small modification to the way that fragments are assigned to validators. Instead of giving each validator two complete rows and two complete columns of samples, we propose that each validator is assigned to store \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eone complete row (512 samples), one complete column (512 samples), and \u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea collection of 1024 samples randomly (or pseudorandomly) spread around the matrix \u003Cem\u003EE\u003C\u002Fem\u003E.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe overall storage requirement per validator is unchanged, but now reconstruction is possible even if fewer than 75% of the samples are available. Moreover, multiple validators store the same set of points, so that if any validator needs to reconstruct its fragment, it can request it from any other validator that stores the exact same fragment. If no such validator is available, it can do local or full reconstruction to obtain its fragment.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis hybrid proposal allows cheap reconstruction in the happy-case when the number of byzantine validators is small, so that more than 75% of the samples of \u003Cem\u003EE\u003C\u002Fem\u003E are available. In the unhappy case, when the number of byzantine validators becomes too high, the data can be reconstructed using full-bivariate interpolation from only 25% of the samples thanks to the random dispersion of samples throughout the matrix \u003Cem\u003EE\u003C\u002Fem\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBivariate interpolation can naively be done by solving a linear system of equations on the coefficients of the polynomial. This simple approach requires constructing an interpolation matrix with 2\u003Csup\u003E20\u003C\u002Fsup\u003E × 2\u003Csup\u003E20\u003C\u002Fsup\u003E field elements (32TB). This is quite large but not infeasible. However, there are better methods that can be used. (See for example the survey from \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww-users.cse.umn.edu\u002F~olver\u002Fn_\u002Fmv.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EP.J.Olver-2016\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.) While the cost of bivariate interpolation is non-trivial, it is only needed when the fraction of recovered points is below 75%, and can be treated as a safety measure. To enable this safety measure, danksharding needs to be slightly modified to assign fragments to validators as outlined above. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDanksharding with IPA commitments\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe main drawback of the previous construction is the need for a trusted setup for the KZG polynomial commitment scheme. Otherwise the scheme is blazingly fast. However, the trusted setup typically needs a lot of work and coordination. (Our work on \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fon-chain-trusted-setup-ceremony\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eon-chain KZG setups\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E can help simplify the ceremony for future projects). Some other polynomial commitment schemes do not need a trusted setup (e.g., \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2017\u002F1066.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBulletproofs\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), although they do not have homomorphic proofs required for the efficiency of validators when reconstructing the data they need to store (as pointed out by \u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002Fwhat-would-it-take-to-do-das-with-inner-product-arguments-ipas\u002F12088\"\u003EVitalik\u003C\u002Fa\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E). \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe construction can be altered, however, to avoid the need for homomorphic proofs and still have light-weight validators. The high-level idea is to make block builders compute commitments to the columns of the block-matrix \u003Cem\u003EE\u003C\u002Fem\u003E. With this approach, the validators won&#8217;t need to reconstruct the column-proofs; they will simply reconstruct their columns in full themselves and recompute the proofs against the column commitment from scratch. Through consensus, the validators would make sure they agree on the same set of columns-commitments.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMore precisely, the \u003C\u002Fspan\u003E\u003Cb\u003Esteps 1-4\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E are the same as in danksharding explained above. Step 5, however, is different.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cb\u003Estep 5\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: The block builder computes polynomial-commitments to the columns of B: denote them by \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003ET\u003C\u002Fspan\u003E\u003C\u002Fem\u003E = (\u003Cem\u003ET\u003C\u002Fem\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E, \u003Cem\u003ET\u003C\u002Fem\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E, . . . , \u003Cem\u003ET\u003C\u002Fem\u003E\u003Csub\u003E4095\u003C\u002Fsub\u003E), each \u003Cem\u003ET\u003Csub\u003Ej\u003C\u002Fsub\u003E\u003C\u002Fem\u003E is a commitment to \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003EX\u003C\u002Fem\u003E, \u003Cem\u003Ej\u003C\u002Fem\u003E) (concretely it could be Pedersen vector commitment to the vector of coefficients of \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003EX\u003C\u002Fem\u003E, \u003Cem\u003Ej\u003C\u002Fem\u003E)). Next, it creates a proof that \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E and \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003ET\u003C\u002Fspan\u003E\u003C\u002Fem\u003E commit to the same matrix as follows. The block&#8217;s builder chooses a (pseudo)random point (\u003Cem\u003Ex̂\u003C\u002Fem\u003E, \u003Cem\u003Eŷ\u003C\u002Fem\u003E), uses the homomorphism of the commitments to interpolate and compute the column commitment \u003Cem\u003ET\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Eŷ\u003C\u002Fem\u003E\u003C\u002Fsub\u003E to a univariate polynomial \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003EX\u003C\u002Fem\u003E, \u003Cem\u003Eŷ\u003C\u002Fem\u003E), and a row commitment \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ex̂\u003C\u002Fem\u003E\u003C\u002Fsub\u003E to a univariate polynomial \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003Ex̂\u003C\u002Fem\u003E, \u003Cem\u003EY\u003C\u002Fem\u003E) and create two proofs: π\u003Csub\u003E\u003Cem\u003Ex̂\u003C\u002Fem\u003E\u003C\u002Fsub\u003E &#8211; the polynomial evaluation proof of \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003Ex̂\u003C\u002Fem\u003E, \u003Cem\u003Eŷ\u003C\u002Fem\u003E) against \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ex̂\u003C\u002Fem\u003E\u003C\u002Fsub\u003E, and π\u003Csub\u003E\u003Cem\u003Eŷ\u003C\u002Fem\u003E\u003C\u002Fsub\u003E &#8211; the polynomial evaluation proof of \u003Cem\u003Ed\u003C\u002Fem\u003E(\u003Cem\u003Ex̂\u003C\u002Fem\u003E, \u003Cem\u003Eŷ\u003C\u002Fem\u003E) against \u003Cem\u003ET\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Eŷ\u003C\u002Fem\u003E\u003C\u002Fsub\u003E. The point (\u003Cem\u003Ex̂\u003C\u002Fem\u003E, \u003Cem\u003Eŷ\u003C\u002Fem\u003E) is universal for all of the validators, and can be obtained for example from a random beacon output or generated pseudo-randomly with a Fiat-Shamir transform. The block&#8217;s builder then sends (\u003Cem\u003EP\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ei\u003C\u002Fem\u003E\u003C\u002Fsub\u003E, \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E, \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003ET\u003C\u002Fspan\u003E\u003C\u002Fem\u003E, π\u003Csub\u003E\u003Cem\u003Ex̂\u003C\u002Fem\u003E\u003C\u002Fsub\u003E, π\u003Csub\u003E\u003Cem\u003Eŷ\u003C\u002Fem\u003E\u003C\u002Fsub\u003E, d(\u003Cem\u003Ex̂\u003C\u002Fem\u003E, \u003Cem\u003Eŷ\u003C\u002Fem\u003E)) to validator number \u003Cem\u003Ei\u003C\u002Fem\u003E, where \u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E is the two rows and two columns of \u003Cem\u003EE\u003C\u002Fem\u003E. The builder computes no proofs in this construction.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg decoding=\"async\" class=\"aligncenter\" src=\"https:\u002F\u002Fi.imgur.com\u002FxAnhq7G.png\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe validator verifies the proofs π\u003Csub\u003E\u003Cem\u003Ex̂\u003C\u002Fem\u003E\u003C\u002Fsub\u003E, π\u003Csub\u003E\u003Cem\u003Eŷ\u003C\u002Fem\u003E\u003C\u002Fsub\u003E to catch a malicious block’s builder who generates the column commitments \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003ET\u003C\u002Fspan\u003E\u003C\u002Fem\u003E incorrectly. The validator then recommits to two rows and columns in \u003Cem\u003EP\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ei\u003C\u002Fem\u003E\u003C\u002Fsub\u003E and verifies that those match the corresponding elements in \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E and \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003ET\u003C\u002Fspan\u003E\u003C\u002Fem\u003E. If the row, denote \u003Cem\u003Ex\u003C\u002Fem\u003E, in \u003Cem\u003EP\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ei\u003C\u002Fem\u003E\u003C\u002Fsub\u003E is within range of the original matrix, \u003Cem\u003EB\u003C\u002Fem\u003E: \u003Cem\u003Ex\u003C\u002Fem\u003E ∈ {0..255}, the validator simply verifies that the commitment matches the corresponding element \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ex\u003C\u002Fem\u003E\u003C\u002Fsub\u003E from \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E; however if the row is in the expanded portion: \u003Cem\u003Ex\u003C\u002Fem\u003E ∈ 256..511, the validator first interpolates through the commitments in \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003EC\u003C\u002Fspan\u003E\u003C\u002Fem\u003E to obtain \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E\u003Cem\u003Ex\u003C\u002Fem\u003E\u003C\u002Fsub\u003E:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp style=\"text-align: center;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cem\u003EC\u003Csub\u003Ex\u003C\u002Fsub\u003E\u003C\u002Fem\u003E := λ\u003Csub\u003E0\u003C\u002Fsub\u003E · \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E + . . . + λ\u003Csub\u003E255\u003C\u002Fsub\u003E · \u003Cem\u003EC\u003C\u002Fem\u003E\u003Csub\u003E255\u003C\u002Fsub\u003E \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp style=\"text-align: left;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENote that interpolation is possible because the IPA commitments (not their proofs though) are homomorphic. The validator verifies the columns of \u003Cem\u003EP\u003Csub\u003Ei\u003C\u002Fsub\u003E\u003C\u002Fem\u003E in a similar way against \u003Cem\u003E\u003Cspan style=\"text-decoration: overline;\"\u003ET\u003C\u002Fspan\u003E\u003C\u002Fem\u003E, interpolating if needed.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn this construction, the block&#8217;s builder does not have to compute the proofs for the validators. The validators can compute all the proofs themselves. It&#8217;s an interesting research problem, however, to figure out an efficient algorithm to compute a large number of proofs at once (similar to how \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fkhovratovich\u002FKate\u002Fblob\u002Fmaster\u002FKate_amortized.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eit&#8217;s done for KZG\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, or using \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002Fwhat-would-it-take-to-do-das-with-inner-product-arguments-ipas\u002F12088\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EVitalik&#8217;s ideas for IPA\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe main bottleneck of this approach, as we see it, is the loss in efficiency for sampling clients, as the proofs for IPA-based schemes are logarithmic in size (in contrast to constant-size for KZG). Moreover, the sampling clients might need to download column commitments in addition to the row commitments, incurring an overhead in communication. However, we believe this to be a promising direction for further exploration.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDanksharding with Merkle commitments\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnother plausible approach Vitalik explored recently to \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002Farithmetic-hash-based-alternatives-to-kzg-for-proto-danksharding-eip-4844\u002F13863\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eavoid the trusted setup\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is to use Merkle commitments instead of polynomial commitments. Merkle commitment is not a polynomial commitment scheme, so it&#8217;s more challenging to make it work with erasure-coding. The block&#8217;s builder will erasure code the data and commit to the expanded data with Merkle-tree roots. The main challenge is to detect incorrectly expanded data without downloading the full data. Fraud proofs can be used to get around this issue, but that relies on the existence of a client that would download the full data, check that it was erasure coded correctly and correctly committed to, and would raise an alarm if it is not by providing a fraud proof.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAlternatively, a FRI proof can be used to check that the leaves of the Merkle tree are close to a Reed-Solomon codeword (i.e., check that the data underlying the Merkle commitment was erasure-coded correctly). The sampling clients would check the FRI proof and sample a sufficient fraction of the leaves by requesting their Merkle proofs to ensure the data is available and can be reconstructed.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003EData availability sampling, and danksharding as one of its concrete instantiations, would bring the cost of data-storage down, leading to more scalable and cheaper blockchains. The coding aspects of DAS is a potentially rich area for research with many possible directions to explore. We suggested one of the possible avenues: improving the reconstruction protocol to use fewer samples (25% instead of 75%). Another exciting direction is to explore alternative commitment schemes that do not require a trusted setup.\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003ERead more\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cb\u003EProtodanksharding\u003C\u002Fb\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4844\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEIP-4844\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: the specification of ProtoDankSharding (Feb 2022)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@vbuterin\u002Fproto_danksharding_faq\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EProto-Danksharding FAQ\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E by Vitalik Buterin (~ Apr 2022)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=N5p0TB77flM\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBankless deep-dive &#8211; youtube\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E with Vitalik, Dankrad, Protolambda, Tim Beiko (May 2022)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgrizzly-answer-991.notion.site\u002FProto-Danksharding-0b148da2c6a54ca5838716b481a5ead3\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EProto-Danksharding: a technical analysis\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” by grizzly-answer-991\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cb\u003EDAS for Ethereum and danksharding\u003C\u002Fb\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDanksharding workshop at Devcon: \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=e67G7ej_x5k&amp;t=1605s\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EYoutube\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (Oct 14 &#8217;22),\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@dankrad\u002Fnew_sharding\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENew sharding design with tight beacon and shard block integration\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (~ Dec 2021) by Dankrad Feist with concrete bandwidth and compute estimates\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fhackmd.io\u002F@vbuterin\u002Fsharding_proposal\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAn explanation of the sharding + DAS proposal\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E by Vitalik Buterin (Dec 2020)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002F2d-data-availability-with-kate-commitments\u002F8081\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E2D data availability with Kate commitments\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E forum discussion on commitments’ expansion (Oct 2020)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fhackmd.io\u002F@vbuterin\u002Fdas\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EData Availability Sampling Phase 1 Proposal\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E by Vitalik Buterin (Aug 2021)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fmembers.delphidigital.io\u002Freports\u002Fthe-hitchhikers-guide-to-ethereum\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Hitchhiker’s Guide to Ethereum\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E by Jon Charbonneau and delphidigital (May 2022)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=e9oudTr5BE4&amp;t=2s\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDude, what’s the Danksharding situation?” Workshop\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E with Vitalik Buterin and Dankrad Feist (Feb 2022)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Frequests-for-proposals\u002Fblob\u002Fmaster\u002Fopen-rfps\u002Fdas.md\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EData Availability Sampling Networking RFP\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E from the Ethereum Foundation (May 2022)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@djrtwo\u002Fdas-requirements\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDAS requirements\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (May 2022)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fresearch\u002Fwiki\u002FA-note-on-data-availability-and-erasure-coding\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA note on data availability and erasure coding\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (Sep 2018)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cb\u003EResearch on DAS\u003C\u002Fb\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002Farithmetic-hash-based-alternatives-to-kzg-for-proto-danksharding-eip-4844\u002F13863\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EArithmetic hash based alternatives to KZG for proto-danksharding\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E by Vitalik Buterin (Oct 6 &#8217;22),\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002Fwhat-would-it-take-to-do-das-with-inner-product-arguments-ipas\u002F12088\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhat would it take to do DAS with inner product arguments (IPAs)?\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E by Vitalik Buterin (Feb 2022)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fyoutu.be\u002FbOnDvUzv_gE?t=1147\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDanksharding without KZG\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E a fragment of Vitalik’s talk at SBC (Sep 2022)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fabs\u002F1809.09044\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFraud and Data Availability Proofs: Maximising Light Client Security and Scaling Blockchains with Dishonest Majorities\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E by Mustafa Al-Bassam, Alberto Sonnino, Vitalik Buterin (Sep 2018)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fpdf\u002F2111.12323.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EInformation Dispersal with Provable Retrievability for Rollups\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E by Kamilla Nazirkhanova, Joachim Neu, David Tse (Nov 2021)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fwww.paradigm.xyz\u002F2022\u002F08\u002Fdas\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EJoachim Neu\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on the networking side of DAS as well as intuition behind sampling\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fingonyama-zk\u002Fpapers\u002Fblob\u002Fmain\u002Fdanksharding_math.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EYuval Domb\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on the specifics of the required interpolations and DFTs for DAS\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cb\u003EKZG commitments\u003C\u002Fb\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.iacr.org\u002Farchive\u002Fasiacrypt2010\u002F6477178\u002F6477178.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EConstant-Size Commitments to Polynomials and Their Applications\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” by Aniket Kate, Gregory M. Zaverucha, and Ian Goldberg (2010) &#8211; the original KZG paper\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdankradfeist.de\u002Fethereum\u002F2020\u002F06\u002F16\u002Fkate-polynomial-commitments.html\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKZG polynomial commitments\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” by Dankrad Feist (Jun 2020)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2020\u002F1516.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EHow to compute all Pointproofs\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” by Alin Tomescu (2020)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fkhovratovich\u002FKate\u002Fblob\u002Fmaster\u002FKate_amortized.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFast Amortized Kate Proofs\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” by Dankrad Feist and Dmitry Khovratovich (2020)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThanks to \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fadietrichs?lang=en\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnsgar Dietrichs\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for providing many insightful comments that informed the post.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.valerini.com\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EValeria Nikolaenko\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is a Research Partner at a16z crypto. Her research focuses on cryptography and blockchain security. She has also worked on topics such as long-range attacks in PoS consensus protocols, signature schemes, post-quantum security, and multi-party computation. She holds a PhD in Cryptography from Stanford University under advisorship of Professor Dan Boneh, and worked on the Diem blockchain as part of the core research team.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcrypto.stanford.edu\u002F~dabo\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDan Boneh\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E leads the applied cryptography group at Stanford University and co-directs the computer security lab. Dan’s research focuses on applications of cryptography to computer security, and includes cryptosystems with novel properties, web security, security for mobile devices, and cryptanalysis. He is the author of over one hundred publications and is a recipient of the 2014 ACM prize, the 2013 Godel prize, and the 2011 Ishii award for industry education innovation.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not necessarily the views of a16z or its affiliates. a16z is an investment adviser registered with the U.S. Securities and Exchange Commission. Registration as an investment adviser does not imply any special skill or training. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party information; a16z has not reviewed such material and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities, digital assets, investment strategies or techniques are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments or investment strategies will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAdditionally, this material is provided for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. Investing in pooled investment vehicles and\u002For digital assets includes many risks not fully discussed herein, including but not limited to, significant volatility, liquidity, technological, and regulatory risks. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n"}],related_posts:N},tags:[{term_id:bP,name:aC,slug:aC,term_group:b,term_taxonomy_id:bP,taxonomy:f,description:a,parent:b,count:aL,filter:d},{term_id:aw,name:bS,slug:bT,term_group:b,term_taxonomy_id:aw,taxonomy:f,description:a,parent:b,count:aN,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"576\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_1920x1080-1024x576.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_1920x1080-1024x576.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_1920x1080-300x169.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_1920x1080-768x432.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_1920x1080-1536x864.jpg 1536w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_1920x1080.jpg 1920w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_1920x1080-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_1920x1080-150x150.jpg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_1920x1080-300x169.jpg",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_1920x1080-1024x576.jpg",width:aj}],authors:[{ID:cs,display_name:ct,first_name:cu,last_name:cv,user_login:ac,user_email:a,linked_account:a,website:cw,description:cx,user_nicename:ac,type:A,nickname:a},{ID:jC,display_name:jD,first_name:jE,last_name:jF,user_login:cC,user_email:a,linked_account:a,website:a,description:jG,user_nicename:cC,type:A,nickname:a}],meta_desc:a,seo:{title_tag:"Data availability sampling and danksharding: An overview and a proposal for improvements - a16z crypto",meta_description:a,canonical:jJ,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:fm,open_graph_description:a,open_graph_url:jJ,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2023/04/Danksharding_FB.jpg":{width:bZ,height:b_,filesize:551572,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_FB.jpg",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_FB.jpg",size:an,id:"7167",alt:a,pixels:b$,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:b,twitter_card:V,twitter_title:fm,twitter_description:a,twitter_image:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F04\u002FDanksharding_TW.jpg",open_graph_article_published_time:"2023-04-27T12:30:45+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:2859,post_author:bY,post_date:jK,post_date_gmt:jK,post_content:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELeader election in a blockchain setting aims to select the participant who will determine the next block to be appended to the blockchain. Typically, one validator is chosen per slot from the set of validators and gets the right to extend the chain with a new block in that slot. (We assume that validators keep accurate time and agree on the current slot number.) In this article we explore strategies for \u003Cb\u003Erandomized leader election\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E in consensus protocols. (For more on randomness generally, see our earlier article, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fpublic-randomness-and-randomness-beacons\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPublic Randomness and Randomness Beacons\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, where \u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ewe looked into stand-alone protocols for generating publicly verifiable and unpredictable randomness.) \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Why leader election matters\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EElecting honest and active leaders is crucial for the healthy growth of the chain. Malicious validators should not be able to bias the leader election process to make themselves leaders more frequently. Otherwise, the production of blocks could fall into the hands of parties who can censor transactions or halt the blockchain altogether. In longest-chain-style consensus protocols, a leader producing an invalid block (or no block at all) could cause the chain to temporarily fork. In BFT-style consensus protocols, a bad leader triggers a view-change subprotocol that will incur a communication overhead. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe committee election alternative\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECommittee election is a related problem, where the goal is to select a uniformly random subset of the validators of some fixed size \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ek\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. This functionality is useful in its own right because subcommittees are often needed in blockchain settings to reduce the validator set size to make consensus run faster (among many examples are \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fpdf\u002F1607.01341.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAlgorand’s sortition\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fannotated-spec\u002Fblob\u002Fmaster\u002Fphase0\u002Fbeacon-chain.md\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum’s committee selection\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E). But committee election is also useful for leader election, allowing the validators to avoid re-running a leader election protocol if the elected leader fails to show up. If, instead of a leader, a committee is elected with a fixed ordering, the second committee member can become leader if the first is not available. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]The properties of a good election protocol\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn a leader election protocol, the leaders should be unpredictable. If an attacker learns who the upcoming leader is, it might launch a Denial of Service (DoS) attack on them to prevent them from publishing a block. The attacker could then take down the next leader and so on, bringing the blockchain to a halt. Unpredictability might also be strengthened to ensure the validator itself does not learn when it is going to lead, which might be important for bribery prevention.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe leader election process should have the following three properties:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EFairness\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: each honest validator has a probability of 1\u002F\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EN\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to be elected from a set of \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EN\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E validators (a relaxed notion of \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2022\u002F791.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Egame-theoretic fairness allows\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E building leader election even in the presence of a malicious majority albeit with a non-constant lower bound on the number of rounds).\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EUnpredictability\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: the adversary does not learn the next leader until some time \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ET\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E prior to the leader announcing the next block.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EUniqueness\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: exactly one leader is chosen in each slot.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESecret leader election\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESecret leader election is an unpredictable election with \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ET\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = 0. In this process, the leader is not known to anybody until it publishes the block. This eliminates the window for a DoS attack completely: before the leader reveals itself, the attacker does not know whom to attack, making its best strategy a random guess. And after the leader publishes its block, it is too late to attack because the leader has already fulfilled its responsibility to the protocol. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe notion of “after the leader publishes its block” is actually a simplification though, because  we don’t have instantaneous broadcast in the real world. An attacker with a strong network position might notice a leader broadcasting a block first and be able to quickly corrupt the leader, create a different block, and front-run the original broadcast. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhile this is a very strong attacker model, defenses have been proposed against it. Algorand proposed the \u003C\u002Fspan\u003E\u003Cb\u003Eerasures model\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, in which the leader is actually able to erase the key necessary for signing the block in its slot \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ebefore\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E broadcasting it, so it really is too late to attack by the time the leader takes any public action. Thaddeus Dryja, Quanquan C. Liu, and, Neha Narula, three researchers from the MIT Media Lab, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fpdf\u002F2004.01939.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eproposed\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E that the leader compute a VDF on its block before broadcasting, ensuring that an adaptive attacker cannot construct an alternate valid block in time to have it accepted for the desired slot.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOther election methods \u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe simplest leader election process is \u003C\u002Fspan\u003E\u003Cb\u003Eround-robin\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, where leaders are elected in deterministic order. Despite this approach being predictable and thus being prone to DoS attacks, it is suitable for permissioned systems where the validators have good DoS protection.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA leader can also be elected using an output of an external \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fpublic-randomness-and-randomness-beacons\u002F\"\u003E\u003Cb\u003Erandomness beacon\u003C\u002Fb\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, if one is available and trusted to be secure. Unfortunately, it is tricky for the consensus participants to run a distributed randomness beacon (DRB) protocol themselves, since these typically assume a notion of reliable broadcast or consensus, which in its turn requires leader election again, introducing  a circular dependency. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECurrent \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fannotated-spec\u002Fblob\u002Fmaster\u002Fphase0\u002Fbeacon-chain.md#aside-randao-seeds-and-committee-generation\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eleader election in Ethereum\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is a good case study. Each new leader computes a Verifiable Randomness Function (VRF) output (a BLS signature on the epoch number) and XORs the value into the mix. The value of the mix at the end of epoch \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ei\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E defines the leaders and the subcommittees for the duration of epoch \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ei\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E+2. Leaders and their schedule are predictable one epoch in advance (currently ~6.4 min). The protocol is prone to fairness attacks, as the last leader may choose to publish or withhold their contribution to the mix and thus influence the result of the next elections by one bit. If the last  \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ek\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E leaders collude, they may introduce \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ek\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E  bits of bias and make the election of malicious users more likely. The Ethereum Foundation is actively working on more advanced techniques for  leader election that we discuss below.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EVRF-based leader election\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnother approach, pioneered by \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.algorand.com\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAlgorand\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, is a \u003C\u002Fspan\u003E\u003Cb\u003EVRF-based leader election\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, which involves each validator privately computing a VRF output and checking whether the output falls below a threshold. This procedure already filters out most of the validators, since the threshold is chosen such that falling below it is unlikely. The few remaining validators reveal their VRF outputs, and the one with the lowest VRF value is elected. This approach achieves perfect unpredictability (or secrecy), but it does not guarantee uniqueness. Some of the validators might not receive messages from all of the potential leaders and might assume the wrong leader won the election, causing these validators to fork from the main chain. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe VRF evaluation is periodically seeded with the output of a randomness beacon to make it less predictable for the validators themselves to see which slots are they going to lead. This property prevents an attacker who silently compromises the validator from learning the slot when the validator would become a leader and launching an attack when the validator is about to announce a block. This approach also helps prevent bribery attacks, where a validator proves to external parties that it will be a leader in a particular slot and harvests bribes in exchange for completing some task as leader (e.g., blocking a transaction).\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESuch approaches, where the number of leaders elected is a random variable, are called \u003C\u002Fspan\u003E\u003Cb\u003EProbabilistic Leader Election\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (PLE). PLE can result in no leaders being elected for a given slot. This is equivalent to electing a leader who is malicious or offline in that the slot will ultimately end up being skipped, reducing efficiency of the consensus protocol.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBut the largest caveat with PLE is that multiple leaders might be elected, necessitating some sort of tie-breaking procedure. Ties pose a risk to consensus, since a validator with a winning input may report it to only half of the network, potentially causing disagreement in the chosen leader. Furthermore, processes for resolving ties can take extra time and communication, hurting efficiency. \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdfinity.org\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDfinity\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, discussed in more detail in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fpublic-randomness-and-randomness-beacons\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethe first post\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E of this series, uses a VRF-based randomness beacon to elect a single leader; however, it sacrifices unpredictability to do so. Ideally, any process for picking a leader should avoid ties entirely and still be unpredictable, which leads us to the holy grail of this research area – Single Secret Leader Election.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cb\u003E[toc-embed]Single Secret Leader Election\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E \u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe goal of \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2020\u002F025.pdf\"\u003E\u003Cb\u003ESingle Secret Leader Election\u003C\u002Fb\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (SSLE) is to select a unique leader from a set of validators while maintaining fairness and unpredictability. Protocol Labs presented the notion as a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191228170149\u002Fhttps:\u002F\u002Fgithub.com\u002Fprotocol\u002Fresearch-RFPs\u002Fblob\u002Fmaster\u002FRFPs\u002Frfp-6-SSLE.md\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eresearch problem\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, and Dan Boneh, the Stanford computer scientist and a16z crypto research advisor, with Saba Eskandarian, Lucjan Hanzlik, and Nicola Greco, later offered \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2020\u002F025.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea formal definition of SSLE\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. This uniqueness property avoids the consensus risks and efficiency costs arising from tie-breaking procedures. Concretely, Sarah Azouvi, of Protocol Labs, and Danielle Cappelletti, of Politecnico di Torino, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdl.acm.org\u002Fdoi\u002F10.1145\u002F3479722.3480996\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eshow\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E that when SSLE is used compared to PLE in a longest chain protocol, blocks can be finalized significantly faster (25 percent faster with an adversary controlling a third of the stake). Thus, developing a practical SSLE protocol is an important problem.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn the most common approach, which we’ll call \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eshuffle-based\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (used in both the original SSLE paper and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002Flow-overhead-secret-single-leader-election\u002F5994\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ean Ethereum SSLE Proposal\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), each validator registers a \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Enonce\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E that looks random, yet that they can prove belongs to them. The nonces are then compiled into a list. The list is shuffled such that the nonces become unlinked from the validators who submitted them; that is, given the shuffled list, no adversary can tell which validator submitted which nonce. A list index is then chosen according to a public \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Erandomness beacon\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, and the leader reveals itself by proving that the nonce at that index of the shuffled list belongs to them. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESince only one index is chosen, the shuffle-based protocol always outputs a \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eunique\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E leader. Because the random beacon is built to output uniformly random values, the protocol is also \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Efair\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: each validator has an equal chance of being elected. Furthermore, if the shuffling is done properly (i.e., uniformly at random) and the nonces become unlinkable to the validators’ identities, this protocol also achieves \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eunpredictability\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EShuffling is necessary because while simply choosing an index from the unshuffled list based on a random beacon would already give uniqueness and fairness, unpredictability is harder to achieve: If an adversary knows which validator submitted which nonce, it knows who submitted the nonce at the chosen index and can identify the leader. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThese following two approaches shuffle the list in different ways. The simpler is the \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002Flow-overhead-secret-single-leader-election\u002F5994\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum SSLE Proposal\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, in which \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E validators submit their nonces via Tor to unlink the validators’ identities from their nonces. Once all validators have registered, the list is shuffled using a public randomness beacon, and the validators become leaders in the order of the shuffled list. While this scheme is practical &#8211; the election must be run only once per \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E slots &#8211; this reliance on Tor may be undesirable (as is the case with relying on the security of any outside protocol). Furthermore, it is not perfectly unpredictable: after the first \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E-1 leaders reveal themselves, the final \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eth\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E leader is known.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EInstead of using Tor, the original SSLE paper has every validator register for election in sequence by appending its nonce to the list, shuffling the list, and \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ere-randomizing \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethe nonces. This re-randomization means that each nonce is mapped to a new, unlinkable string such that the validator who it belongs to can still prove ownership of the re-randomized nonce. Re-randomization makes it so that an adversary can’t tell which position any particular nonce ended up in after the shuffle, assuming at least one shuffler is honest.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhile this sequential shuffling approach from the original SSLE paper avoids reliance on Tor and achieves the formal properties of SSLE, it is expensive: whenever a new validator registers, they must post the entire shuffled list to the blockchain, re-randomize all nonces, and provide a proof that they did so honestly, which results in linear amount of communication per validator. With an unchanging set of validators, this must be done (amortized) once per election, as the leader re-registers once they have revealed the proof for the nonce. The paper gives a tunable efficiency-predictability tradeoff: we can instead shuffle only a smaller subset of the list, reducing cost, if we’re willing to allow a small amount of predictability. Achieving a good balance between efficiency and security is challenging, and as a result, SSLE protocols are yet to be used widely in practice. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EConveniently, this sequential shuffling approach also can be used to solve the committee election problem, by using the random beacon to choose k distinct indices from the list as committee members. This is a nice achievement, as the problem is not trivially solved by VRF-based approaches, since running a probabilistic VRF-based protocol \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ek\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E times may elect a varying committee size depending on the randomness. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOther approaches to SSLE\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnother shuffle-based approach is \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2022\u002F687\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAdaptively Secure SSLE from DDH\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. This construction is slightly more complicated but achieves a stronger notion of security, protecting against an \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eadaptive adversary \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ein Algorand’s erasures model\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis adversary is adaptive in that it can choose which validators to corrupt during the protocol, as opposed to before the protocol starts. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA further challenge in SSLE is electing each validator with probability proportional to their stake, rather than uniformly at random. Shuffling-based protocols can naively achieve this by allowing each validator to register multiple nonces: one nonce for each unit of stake they hold. However, the cost of shuffling increases linearly with the number of units of stake \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ES\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, becoming very expensive even for realistic stake distributions. An elegant \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2022\u002F1040\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMPC-based SSLE\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E approach has complexity increasing only with log \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ES\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, and it also avoids the need for a trusted setup or randomness beacon. However, compared to shuffling-based approaches, it requires more rounds of communication (logarithmic in the number of participants) per elected leader\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe’ve summed up our analysis in this handy table.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ctable\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFairness\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUnpredictability\u002F\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESecrecy*\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUniqueness\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003ERound-robin\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✗\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIdeal randomness-beacon\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✗\u003C\u002Fb\u003E\u003Cb\u003E \u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum’s leader election (current)\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✗\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✗\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003EVRF-based leader election (Algorand)\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✗\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESSLE\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003Cp\u003E\u003Cspan style=\"font-size: 8pt;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E* The round-robin beacon is fully predictable, but in the rest of the beacons \u003C\u002Fspan\u003E\u003Cb\u003E✗\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E means that the notion is achieved up to a certain limited degree: \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-size: 8pt;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eideal-randomness beacon is unpredictable but the adversary learns the output at the same time with the elected leader, hence the elected leader may be attacked before it announces a block; \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-size: 8pt;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEtherum’s beacon is unpredictable up to ~6 min and can be slightly biased to hurt fairness; \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-size: 8pt;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAlgorand elects multiple leaders with a small probability.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESSLE is a promising direction, achieving fairness, unpredictability, and uniqueness. Two prominent challenges facing its adoption are efficiency and the ability to accommodate non-uniform stake distributions. Furthermore, the shuffle-based SSLE approaches that we highlight assume the existence of an unbiased random beacon, which is not straightforward to achieve in practice. As SSLE has only recently been formally defined, we’re likely to see improved protocols addressing its challenges in the near future. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.cs.columbia.edu\u002F~mchrist\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMiranda Christ\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is a PhD student in Computer Science at Columbia University, where she is a member of the Theory Group and a Presidential Fellow. She is also a research intern at a16z crypto.\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fjbonneau.com\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EJoseph Bonneau\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is a Research Partner at a16z crypto. His research focuses on applied cryptography and blockchain security. He has taught cryptocurrency courses at the University of Melbourne, NYU, Stanford, and Princeton, and received a PhD in computer science from the University of Cambridge and BS\u002FMS degrees from Stanford.\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.valerini.com\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EValeria Nikolaenko\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is a Research Partner at a16z crypto. Her research focuses on cryptography and blockchain security. She has also worked on topics such as long-range attacks in PoS consensus protocols, signature schemes, post-quantum security, and multi-party computation. She holds a PhD in Cryptography from Stanford University under advisorship of Professor Dan Boneh, and worked on the Diem blockchain as part of the core research team.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEditor: \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FTim_Org\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETim Sullivan\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n",post_title:"Leader Election from Randomness Beacons and Other Strategies",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"leader-election-from-randomness-beacons-and-other-strategies",to_ping:a,pinged:a,post_modified:"2023-10-09 08:44:44",post_modified_gmt:"2023-10-09 15:44:44",post_content_filtered:a,post_parent:b,guid:"http:\u002F\u002Fcrypto.test\u002Fleader-election-from-randomness-beacons-and-other-strategies\u002F",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:ds,name:cz,slug:jm,term_group:b,term_taxonomy_id:ds,taxonomy:z,description:jn,parent:b,count:ak,filter:d},{term_id:at,name:ac,slug:cq,term_group:b,term_taxonomy_id:at,taxonomy:z,description:cr,parent:b,count:aq,filter:d},{term_id:dt,name:cA,slug:jo,term_group:b,term_taxonomy_id:dt,taxonomy:z,description:jp,parent:b,count:fi,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:af,name:aa,slug:aa,term_group:b,term_taxonomy_id:af,taxonomy:f,description:a,parent:b,count:bO,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:bM,name:cP,slug:cQ,term_group:b,term_taxonomy_id:bM,taxonomy:f,description:a,parent:b,count:ca,filter:d},{term_id:Y,name:ay,slug:az,term_group:b,term_taxonomy_id:Y,taxonomy:f,description:a,parent:b,count:ae,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d},{term_id:_,name:W,slug:W,term_group:b,term_taxonomy_id:_,taxonomy:f,description:a,parent:b,count:aK,filter:d}],acf:{custom_title:"how to elect a blockchain leader",redirect_author_links_to_the_post:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELeader election in a blockchain setting aims to select the participant who will determine the next block to be appended to the blockchain. Typically, one validator is chosen per slot from the set of validators and gets the right to extend the chain with a new block in that slot. (We assume that validators keep accurate time and agree on the current slot number.) In this article we explore strategies for \u003Cb\u003Erandomized leader election\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E in consensus protocols. (For more on randomness generally, see our earlier article, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fpublic-randomness-and-randomness-beacons\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPublic Randomness and Randomness Beacons\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, where \u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ewe looked into stand-alone protocols for generating publicly verifiable and unpredictable randomness.) \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Why leader election matters\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EElecting honest and active leaders is crucial for the healthy growth of the chain. Malicious validators should not be able to bias the leader election process to make themselves leaders more frequently. Otherwise, the production of blocks could fall into the hands of parties who can censor transactions or halt the blockchain altogether. In longest-chain-style consensus protocols, a leader producing an invalid block (or no block at all) could cause the chain to temporarily fork. In BFT-style consensus protocols, a bad leader triggers a view-change subprotocol that will incur a communication overhead. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe committee election alternative\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECommittee election is a related problem, where the goal is to select a uniformly random subset of the validators of some fixed size \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ek\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. This functionality is useful in its own right because subcommittees are often needed in blockchain settings to reduce the validator set size to make consensus run faster (among many examples are \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fpdf\u002F1607.01341.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAlgorand’s sortition\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fannotated-spec\u002Fblob\u002Fmaster\u002Fphase0\u002Fbeacon-chain.md\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum’s committee selection\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E). But committee election is also useful for leader election, allowing the validators to avoid re-running a leader election protocol if the elected leader fails to show up. If, instead of a leader, a committee is elected with a fixed ordering, the second committee member can become leader if the first is not available. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]The properties of a good election protocol\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn a leader election protocol, the leaders should be unpredictable. If an attacker learns who the upcoming leader is, it might launch a Denial of Service (DoS) attack on them to prevent them from publishing a block. The attacker could then take down the next leader and so on, bringing the blockchain to a halt. Unpredictability might also be strengthened to ensure the validator itself does not learn when it is going to lead, which might be important for bribery prevention.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe leader election process should have the following three properties:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EFairness\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: each honest validator has a probability of 1\u002F\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EN\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to be elected from a set of \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EN\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E validators (a relaxed notion of \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2022\u002F791.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Egame-theoretic fairness allows\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E building leader election even in the presence of a malicious majority albeit with a non-constant lower bound on the number of rounds).\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EUnpredictability\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: the adversary does not learn the next leader until some time \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ET\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E prior to the leader announcing the next block.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EUniqueness\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: exactly one leader is chosen in each slot.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESecret leader election\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESecret leader election is an unpredictable election with \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ET\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = 0. In this process, the leader is not known to anybody until it publishes the block. This eliminates the window for a DoS attack completely: before the leader reveals itself, the attacker does not know whom to attack, making its best strategy a random guess. And after the leader publishes its block, it is too late to attack because the leader has already fulfilled its responsibility to the protocol.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe notion of “after the leader publishes its block” is actually a simplification though, because  we don’t have instantaneous broadcast in the real world. An attacker with a strong network position might notice a leader broadcasting a block first and be able to quickly corrupt the leader, create a different block, and front-run the original broadcast.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhile this is a very strong attacker model, defenses have been proposed against it. Algorand proposed the \u003C\u002Fspan\u003E\u003Cb\u003Eerasures model\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, in which the leader is actually able to erase the key necessary for signing the block in its slot \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ebefore\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E broadcasting it, so it really is too late to attack by the time the leader takes any public action. Thaddeus Dryja, Quanquan C. Liu, and, Neha Narula, three researchers from the MIT Media Lab, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fpdf\u002F2004.01939.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eproposed\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E that the leader compute a VDF on its block before broadcasting, ensuring that an adaptive attacker cannot construct an alternate valid block in time to have it accepted for the desired slot.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOther election methods \u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe simplest leader election process is \u003C\u002Fspan\u003E\u003Cb\u003Eround-robin\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, where leaders are elected in deterministic order. Despite this approach being predictable and thus being prone to DoS attacks, it is suitable for permissioned systems where the validators have good DoS protection.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA leader can also be elected using an output of an external \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fpublic-randomness-and-randomness-beacons\u002F\"\u003E\u003Cb\u003Erandomness beacon\u003C\u002Fb\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, if one is available and trusted to be secure. Unfortunately, it is tricky for the consensus participants to run a distributed randomness beacon (DRB) protocol themselves, since these typically assume a notion of reliable broadcast or consensus, which in its turn requires leader election again, introducing  a circular dependency.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ECurrent \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fannotated-spec\u002Fblob\u002Fmaster\u002Fphase0\u002Fbeacon-chain.md#aside-randao-seeds-and-committee-generation\"\u003Eleader election in Ethereum\u003C\u002Fa\u003E is a good case study. Each new leader computes a Verifiable Randomness Function (VRF) output (a BLS signature on the epoch number) and XORs the value into the mix. The value of the mix at the end of epoch \u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ei\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E defines the leaders and the subcommittees for the duration of epoch \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ei\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E+2. Leaders and their schedule are predictable one epoch in advance (currently ~6.4 min). The protocol is prone to fairness attacks, as the last leader may choose to publish or withhold their contribution to the mix and thus influence the result of the next elections by one bit. If the last  \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ek\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E leaders collude, they may introduce \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ek\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E  bits of bias and make the election of malicious users more likely. The Ethereum Foundation is actively working on more advanced techniques for  leader election that we discuss below.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EVRF-based leader election\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnother approach, pioneered by \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.algorand.com\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAlgorand\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, is a \u003C\u002Fspan\u003E\u003Cb\u003EVRF-based leader election\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, which involves each validator privately computing a VRF output and checking whether the output falls below a threshold. This procedure already filters out most of the validators, since the threshold is chosen such that falling below it is unlikely. The few remaining validators reveal their VRF outputs, and the one with the lowest VRF value is elected. This approach achieves perfect unpredictability (or secrecy), but it does not guarantee uniqueness. Some of the validators might not receive messages from all of the potential leaders and might assume the wrong leader won the election, causing these validators to fork from the main chain.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe VRF evaluation is periodically seeded with the output of a randomness beacon to make it less predictable for the validators themselves to see which slots are they going to lead. This property prevents an attacker who silently compromises the validator from learning the slot when the validator would become a leader and launching an attack when the validator is about to announce a block. This approach also helps prevent bribery attacks, where a validator proves to external parties that it will be a leader in a particular slot and harvests bribes in exchange for completing some task as leader (e.g., blocking a transaction).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESuch approaches, where the number of leaders elected is a random variable, are called \u003C\u002Fspan\u003E\u003Cb\u003EProbabilistic Leader Election\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (PLE). PLE can result in no leaders being elected for a given slot. This is equivalent to electing a leader who is malicious or offline in that the slot will ultimately end up being skipped, reducing efficiency of the consensus protocol.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBut the largest caveat with PLE is that multiple leaders might be elected, necessitating some sort of tie-breaking procedure. Ties pose a risk to consensus, since a validator with a winning input may report it to only half of the network, potentially causing disagreement in the chosen leader. Furthermore, processes for resolving ties can take extra time and communication, hurting efficiency. \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdfinity.org\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDfinity\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, discussed in more detail in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fpublic-randomness-and-randomness-beacons\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethe first post\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E of this series, uses a VRF-based randomness beacon to elect a single leader; however, it sacrifices unpredictability to do so. Ideally, any process for picking a leader should avoid ties entirely and still be unpredictable, which leads us to the holy grail of this research area – Single Secret Leader Election.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cb\u003E[toc-embed]Single Secret Leader Election\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E \u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe goal of \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2020\u002F025.pdf\"\u003E\u003Cb\u003ESingle Secret Leader Election\u003C\u002Fb\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (SSLE) is to select a unique leader from a set of validators while maintaining fairness and unpredictability. Protocol Labs presented the notion as a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20191228170149\u002Fhttps:\u002F\u002Fgithub.com\u002Fprotocol\u002Fresearch-RFPs\u002Fblob\u002Fmaster\u002FRFPs\u002Frfp-6-SSLE.md\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eresearch problem\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, and Dan Boneh, the Stanford computer scientist and a16z crypto research advisor, with Saba Eskandarian, Lucjan Hanzlik, and Nicola Greco, later offered \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2020\u002F025.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ea formal definition of SSLE\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. This uniqueness property avoids the consensus risks and efficiency costs arising from tie-breaking procedures. Concretely, Sarah Azouvi, of Protocol Labs, and Danielle Cappelletti, of Politecnico di Torino, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdl.acm.org\u002Fdoi\u002F10.1145\u002F3479722.3480996\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eshow\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E that when SSLE is used compared to PLE in a longest chain protocol, blocks can be finalized significantly faster (25 percent faster with an adversary controlling a third of the stake). Thus, developing a practical SSLE protocol is an important problem.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn the most common approach, which we’ll call \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eshuffle-based\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (used in both the original SSLE paper and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002Flow-overhead-secret-single-leader-election\u002F5994\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ean Ethereum SSLE Proposal\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), each validator registers a \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Enonce\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E that looks random, yet that they can prove belongs to them. The nonces are then compiled into a list. The list is shuffled such that the nonces become unlinked from the validators who submitted them; that is, given the shuffled list, no adversary can tell which validator submitted which nonce. A list index is then chosen according to a public \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Erandomness beacon\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, and the leader reveals itself by proving that the nonce at that index of the shuffled list belongs to them.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESince only one index is chosen, the shuffle-based protocol always outputs a \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eunique\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E leader. Because the random beacon is built to output uniformly random values, the protocol is also \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Efair\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: each validator has an equal chance of being elected. Furthermore, if the shuffling is done properly (i.e., uniformly at random) and the nonces become unlinkable to the validators’ identities, this protocol also achieves \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eunpredictability\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EShuffling is necessary because while simply choosing an index from the unshuffled list based on a random beacon would already give uniqueness and fairness, unpredictability is harder to achieve: If an adversary knows which validator submitted which nonce, it knows who submitted the nonce at the chosen index and can identify the leader.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThese following two approaches shuffle the list in different ways. The simpler is the \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002Flow-overhead-secret-single-leader-election\u002F5994\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum SSLE Proposal\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, in which \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E validators submit their nonces via Tor to unlink the validators’ identities from their nonces. Once all validators have registered, the list is shuffled using a public randomness beacon, and the validators become leaders in the order of the shuffled list. While this scheme is practical &#8211; the election must be run only once per \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E slots &#8211; this reliance on Tor may be undesirable (as is the case with relying on the security of any outside protocol). Furthermore, it is not perfectly unpredictable: after the first \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E-1 leaders reveal themselves, the final \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003En\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eth\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E leader is known.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EInstead of using Tor, the original SSLE paper has every validator register for election in sequence by appending its nonce to the list, shuffling the list, and \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ere-randomizing \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethe nonces. This re-randomization means that each nonce is mapped to a new, unlinkable string such that the validator who it belongs to can still prove ownership of the re-randomized nonce. Re-randomization makes it so that an adversary can’t tell which position any particular nonce ended up in after the shuffle, assuming at least one shuffler is honest.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhile this sequential shuffling approach from the original SSLE paper avoids reliance on Tor and achieves the formal properties of SSLE, it is expensive: whenever a new validator registers, they must post the entire shuffled list to the blockchain, re-randomize all nonces, and provide a proof that they did so honestly, which results in linear amount of communication per validator. With an unchanging set of validators, this must be done (amortized) once per election, as the leader re-registers once they have revealed the proof for the nonce. The paper gives a tunable efficiency-predictability tradeoff: we can instead shuffle only a smaller subset of the list, reducing cost, if we’re willing to allow a small amount of predictability. Achieving a good balance between efficiency and security is challenging, and as a result, SSLE protocols are yet to be used widely in practice.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EConveniently, this sequential shuffling approach also can be used to solve the committee election problem, by using the random beacon to choose k distinct indices from the list as committee members. This is a nice achievement, as the problem is not trivially solved by VRF-based approaches, since running a probabilistic VRF-based protocol \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ek\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E times may elect a varying committee size depending on the randomness. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOther approaches to SSLE\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAnother shuffle-based approach is \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2022\u002F687\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAdaptively Secure SSLE from DDH\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. This construction is slightly more complicated but achieves a stronger notion of security, protecting against an \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eadaptive adversary \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ein Algorand’s erasures model\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis adversary is adaptive in that it can choose which validators to corrupt during the protocol, as opposed to before the protocol starts.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA further challenge in SSLE is electing each validator with probability proportional to their stake, rather than uniformly at random. Shuffling-based protocols can naively achieve this by allowing each validator to register multiple nonces: one nonce for each unit of stake they hold. However, the cost of shuffling increases linearly with the number of units of stake \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ES\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, becoming very expensive even for realistic stake distributions. An elegant \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2022\u002F1040\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMPC-based SSLE\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E approach has complexity increasing only with log \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ES\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, and it also avoids the need for a trusted setup or randomness beacon. However, compared to shuffling-based approaches, it requires more rounds of communication (logarithmic in the number of participants) per elected leader\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe’ve summed up our analysis in this handy table.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ctable\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFairness\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUnpredictability\u002F\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESecrecy*\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUniqueness\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003ERound-robin\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✗\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIdeal randomness-beacon\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✗\u003C\u002Fb\u003E\u003Cb\u003E \u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum’s leader election (current)\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✗\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✗\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003EVRF-based leader election (Algorand)\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✗\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESSLE\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Cb\u003E✓\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003Cp\u003E\u003Cspan style=\"font-size: 8pt;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E* The round-robin beacon is fully predictable, but in the rest of the beacons \u003C\u002Fspan\u003E\u003Cb\u003E✗\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E means that the notion is achieved up to a certain limited degree: \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-size: 8pt;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eideal-randomness beacon is unpredictable but the adversary learns the output at the same time with the elected leader, hence the elected leader may be attacked before it announces a block; \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-size: 8pt;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEtherum’s beacon is unpredictable up to ~6 min and can be slightly biased to hurt fairness; \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-size: 8pt;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAlgorand elects multiple leaders with a small probability.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESSLE is a promising direction, achieving fairness, unpredictability, and uniqueness. Two prominent challenges facing its adoption are efficiency and the ability to accommodate non-uniform stake distributions. Furthermore, the shuffle-based SSLE approaches that we highlight assume the existence of an unbiased random beacon, which is not straightforward to achieve in practice. As SSLE has only recently been formally defined, we’re likely to see improved protocols addressing its challenges in the near future.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.cs.columbia.edu\u002F~mchrist\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMiranda Christ\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is a PhD student in Computer Science at Columbia University, where she is a member of the Theory Group and a Presidential Fellow. She is also a research intern at a16z crypto.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fjbonneau.com\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EJoseph Bonneau\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is a Research Partner at a16z crypto. His research focuses on applied cryptography and blockchain security. He has taught cryptocurrency courses at the University of Melbourne, NYU, Stanford, and Princeton, and received a PhD in computer science from the University of Cambridge and BS\u002FMS degrees from Stanford.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.valerini.com\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EValeria Nikolaenko\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is a Research Partner at a16z crypto. Her research focuses on cryptography and blockchain security. She has also worked on topics such as long-range attacks in PoS consensus protocols, signature schemes, post-quantum security, and multi-party computation. She holds a PhD in Cryptography from Stanford University under advisorship of Professor Dan Boneh, and worked on the Diem blockchain as part of the core research team.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEditor: \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FTim_Org\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETim Sullivan\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E***\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fa\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fa\u003E for additional important information.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n"}],related_posts:N,post_redirector:h,format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},disclosure_relation:h},tags:[{term_id:af,name:aa,slug:aa,term_group:b,term_taxonomy_id:af,taxonomy:f,description:a,parent:b,count:bO,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:bM,name:cP,slug:cQ,term_group:b,term_taxonomy_id:bM,taxonomy:f,description:a,parent:b,count:ca,filter:d},{term_id:Y,name:ay,slug:az,term_group:b,term_taxonomy_id:Y,taxonomy:f,description:a,parent:b,count:ae,filter:d},{term_id:_,name:W,slug:W,term_group:b,term_taxonomy_id:_,taxonomy:f,description:a,parent:b,count:aK,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"1024\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-1024x1024.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-1024x1024.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-300x300.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-150x150.jpg 150w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-768x768.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA.jpg 1080w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-150x150.jpg 150w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-300x300.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-1024x1024.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-768x768.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA.jpg 1080w\" sizes=\"auto, (max-width: 150px) 100vw, 150px\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-150x150.jpg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-300x300.jpg",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA-1024x1024.jpg",width:aj}],authors:[{ID:jq,display_name:jr,first_name:a,last_name:a,user_login:cz,user_email:a,linked_account:a,website:a,description:a,user_nicename:cz,type:A,nickname:a},{ID:cs,display_name:ct,first_name:cu,last_name:cv,user_login:ac,user_email:a,linked_account:a,website:cw,description:cx,user_nicename:ac,type:A,nickname:a},{ID:js,display_name:jt,first_name:ju,last_name:jv,user_login:cA,user_email:a,linked_account:a,website:a,description:a,user_nicename:cA,type:A,nickname:a}],meta_desc:fn,seo:{title_tag:jL,meta_description:fn,canonical:jM,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:jL,open_graph_description:fn,open_graph_url:jM,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2022/11/LeaderElection_1080sq_FA.jpg":{width:bN,height:bN,filesize:927250,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA.jpg",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FLeaderElection_1080sq_FA.jpg",size:an,id:4068,alt:a,pixels:jN,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:14,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2022-11-30T00:00:00+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:2899,post_author:eS,post_date:jO,post_date_gmt:jO,post_content:jP,post_title:"Building Helios: Fully trustless access to Ethereum",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"building-helios-ethereum-light-client",to_ping:a,pinged:a,post_modified:"2024-10-25 06:41:53",post_modified_gmt:"2024-10-25 13:41:53",post_content_filtered:a,post_parent:b,guid:"http:\u002F\u002Fcrypto.test\u002Fbuilding-helios-fully-trustless-access-to-ethereum\u002F",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:cm,name:aO,slug:eU,term_group:b,term_taxonomy_id:cm,taxonomy:z,description:eV,parent:b,count:eW,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:ar,name:cc,slug:cd,term_group:b,term_taxonomy_id:ar,taxonomy:B,description:a,parent:b,count:aJ,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:dv,name:cj,slug:cj,term_group:b,term_taxonomy_id:dv,taxonomy:f,description:a,parent:b,count:dd,filter:d},{term_id:dw,name:eA,slug:eB,term_group:b,term_taxonomy_id:dw,taxonomy:f,description:a,parent:b,count:aL,filter:d},{term_id:ax,name:bU,slug:bV,term_group:b,term_taxonomy_id:ax,taxonomy:f,description:a,parent:b,count:cD,filter:d},{term_id:_,name:W,slug:W,term_group:b,term_taxonomy_id:_,taxonomy:f,description:a,parent:b,count:aK,filter:d}],acf:{custom_title:a,content:[{acf_fc_layout:M,paragraph:jP}],redirect_author_links_to_the_post:h,related_posts:N,post_redirector:h,format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},disclosure_relation:h},tags:[{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:dv,name:cj,slug:cj,term_group:b,term_taxonomy_id:dv,taxonomy:f,description:a,parent:b,count:dd,filter:d},{term_id:dw,name:eA,slug:eB,term_group:b,term_taxonomy_id:dw,taxonomy:f,description:a,parent:b,count:aL,filter:d},{term_id:ax,name:bU,slug:bV,term_group:b,term_taxonomy_id:ax,taxonomy:f,description:a,parent:b,count:cD,filter:d},{term_id:_,name:W,slug:W,term_group:b,term_taxonomy_id:_,taxonomy:f,description:a,parent:b,count:aK,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"576\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FCryptoGraphics_ETH_LightClient_1920x1080_FA-1024x576.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FCryptoGraphics_ETH_LightClient_1920x1080_FA-1024x576.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FCryptoGraphics_ETH_LightClient_1920x1080_FA-300x169.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FCryptoGraphics_ETH_LightClient_1920x1080_FA-768x432.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FCryptoGraphics_ETH_LightClient_1920x1080_FA-1536x864.jpg 1536w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FCryptoGraphics_ETH_LightClient_1920x1080_FA.jpg 1920w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FCryptoGraphics_ETH_LightClient_1920x1080_FA-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FCryptoGraphics_ETH_LightClient_1920x1080_FA-150x150.jpg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FCryptoGraphics_ETH_LightClient_1920x1080_FA-300x169.jpg",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FCryptoGraphics_ETH_LightClient_1920x1080_FA-1024x576.jpg",width:aj}],authors:[{ID:eX,display_name:eY,first_name:eZ,last_name:e_,user_login:aO,user_email:a,linked_account:a,website:a,description:a,user_nicename:aO,type:A,nickname:a}],meta_desc:fo,seo:{title_tag:jQ,meta_description:fo,canonical:jR,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:jQ,open_graph_description:fo,open_graph_url:jR,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2022/11/CryptoGraphics_ETH_LightClient_1920x1080_FA.jpg":{width:do0,height:bN,filesize:1811929,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FCryptoGraphics_ETH_LightClient_1920x1080_FA.jpg",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2022\u002F11\u002FCryptoGraphics_ETH_LightClient_1920x1080_FA.jpg",size:an,id:4078,alt:a,pixels:dp,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:t,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2022-11-07T00:00:00+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:2909,post_author:de,post_date:jS,post_date_gmt:jS,post_content:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs DeFi grows and matures, scalable infrastructure and composability are top of mind for developers. \u003Cspan style=\"font-weight: 400;\"\u003EEthereum Requests for Comments (or ERCs) — standardized toolkits for building Ethereum-based apps, such as the widely used token standard \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethereum.org\u002Fen\u002Fdevelopers\u002Fdocs\u002Fstandards\u002Ftokens\u002Ferc-20\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EERC20\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E — serve the essential role of providing consistent guidelines for developers to contribute to the ecosystem without starting from scratch. \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjoey__santoro\u002Fstatus\u002F1481364987129917444?s=20&amp;t=LgXyYwlITzgVcF57Ojm6jw\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEarlier this year\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, tokenized vault standard \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ferc4626.info\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EERC4626\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E was created to encourage cross-compatibility among yield-bearing tokens.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Standardizing implementations details can also address pressing composability issues, making protocol integration easier and ultimately less error-prone.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESeveral DeFi projects have already \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fiearnfinance\u002Fstatus\u002F1511444220850184197?s=20&amp;t=A4SOC3hvV3a3yr-mHaANWA\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eadopted\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E the standard, looking to increase the composability of their vaults, and we anticipate wider adoption throughout the ecosystem. Adapting existing vaults does cause some growing pains, however; critically, certain implementation errors can expose new targets for attack. Even small errors (as small as misinterpreting the standard interface) can have significant consequences for both security and user experience, underscoring the need for more security tools and measures, particularly within a more composable DeFi ecosystem. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFortunately, simple errors can have relatively simple solutions if detected well before they’re exploited (and ideally before they’re even deployed). To that end, we released \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Ferc4626-tests\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EERC4626 property tests\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for fuzzing and symbolic execution to help vault builders detect standard violations that may break integrations or lead to vulnerabilities down the line. In this post, we explain the motivating problem, walk through our approach, and conclude with some actionable advice.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]First a little background on the ERC4626 standard\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFinalized in March, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethereum.org\u002Fen\u002Fdevelopers\u002Fdocs\u002Fstandards\u002Ftokens\u002Ferc-4626\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EERC4626\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is the standard for tokenized vaults. It was introduced in order to extend the widely used \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethereum.org\u002Fen\u002Fdevelopers\u002Fdocs\u002Fstandards\u002Ftokens\u002Ferc-20\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EERC20\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E standard (currently the base for hundreds of tokens), encourage standardization across yield-bearing vaults, and ensure composability for the apps and protocols (e.g. yield aggregators) that need to interact with them. This means that any app built on an ERC4626 vault can be easily extended to work with any other ERC4626 vault. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETokenized vaults allow users to freely deposit assets to mint vault shares, and later redeem those shares to withdraw principal and interest from the vault. These vault shares are ERC20 tokens, and thus can be easily traded or used as collateral to borrow other assets. For example, users can deposit their assets in Yearn vaults to mint yVault tokens, which can then be traded on Uniswap, staked for additional yield, or used as collateral for lending protocols.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe business logic for generating and distributing yield (and determining the share price) may vary across implementations. In order to cover as many vaults as possible (with the goal of making them interoperable vs. identical), the ERC4626 standard focuses on describing the user interface, leaving most of the implementation details unspecified. This allows for variations in business logic as long as the vault meets the specific requirements of the interface, and encourages\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E interoperability across many different kinds of apps and types of ERC4626 vaults.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs more vaults are created, we expect to see them implemented according to the ERC4626 standard from the start; but we’re currently in a somewhat transitional phase, where developers looking to take advantage of greater composability will need to update existing vaults, apps, and protocols to conform with the standard. And as they upgrade, they contend with a number of complexities and challenges. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]The challenges of standard conformance (and the pitfalls of failing to conform)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFollowing a new standard isn’t always straightforward. Every ERC4626 vault must faithfully (and exactly) implement the standard’s requirements as described. Otherwise, the integration of ERC4626 vaults becomes increasingly complex to account for different variations. This complexity makes integrations inherently error-prone; and because they aren’t sufficiently future proof, they may lead to security vulnerabilities over time.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENon-standard ERC20 tokens (e.g., Tether USD) require many DeFi systems to use an additional library (such as SafeERC20) when performing token transfers to safely deal with diverging behaviors (for example returning nothing when a transfer succeeds instead of returning \u003Ccode\u003Etrue\u003C\u002Fcode\u003E). This means that any systems interacting with these tokens could become vulnerable if the system isn&#8217;t designed to properly handle cases of “missing returns.” These scenarios can potentially introduce a common security pitfall, and increase overall development and maintenance costs (when factoring in the additional logic and dependencies needed to mitigate issues). Conforming to the standard is therefore critical not only for individual implementations but also for the security of the entire ecosystem. One vulnerability in a single system or dependency can cause widespread issues.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIdeally, standards would be formally specified without ambiguity (e.g., \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fruntimeverification.com\u002Fblog\u002Ferc20-k-formal-executable-specification-of-erc20\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eformal specification of ERC20\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), and every implementation could be formally verified against the standard specification. In practice, however, this isn’t easy to achieve in a short period of time, due the cost and effort required from the community.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Introducing executable ERC4626 properties to identify conformance issues \u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs we work toward an ideal state (every vault formally verified against rigorous formal specifications), we’ve written ERC4626 standard \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Ferc4626-tests\u002Fblob\u002Fmain\u002FERC4626.prop.sol\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eproperties\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to catch discrepancies in subtle, easy-to-miss details of the standard requirements.  \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EVault developers can run the tests to detect potential standard violations in their implementations before deployment. And vault integrators can check if the given vaults follow the standard before integrating them into their system. The properties can also be tested against the live vaults already deployed on the mainnet, via mainnet fork testing. Testing live vaults may be useful — especially when the vaults have been deployed or upgraded recently — to ensure that all the system parameters have been set correctly. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe chose property-based tests — written in Foundry and ready to be run by its fuzzer — in order to make the properties executable (and thus testable). In the future, they may also be run by symbolic execution or model checking tools to formally verify that the given vault satisfies the properties for all possible inputs and conditions.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe wrote the properties to be general enough to be applied to a wide range of vaults that implement different business logic. We used only public interface functions to make them agnostic to implementation details. (Due to this restriction, however, certain standard requirements that refer to implementation-specific internal data were omitted from the properties.)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor example, the following property corresponds to one of the requirements of the \u003Ccode\u003EconvertToShares()\u003C\u002Fcode\u003E function, “\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4626#converttoshares\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMUST NOT show any variations depending on the caller\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.” Given the two account addresses and the amount, it makes each of the accounts call \u003Ccode\u003EconvertToShares()\u003C\u002Fcode\u003E with the same amount, and ensures the two return values are equal. This property is independent of the implementation details of \u003Ccode\u003EconvertToShares()\u003C\u002Fcode\u003E, which varies across vaults and must be satisfied by any vaults that implement ERC4626. This property can be executed by providing specific input values (for unit testing), many random inputs (for fuzz testing), or symbolic values (for symbolic execution and formal verification). It can also be run locally or against a mainnet fork (for integration testing).\u003C\u002Fspan\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-2338\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fexecutable-2-no-drop-1-1024x487-1.png\" alt=\"snippet from ERC4626 property tests\" width=\"950\" height=\"452\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003C\u002Fh3\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Use case: properties that test for rounding errors\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ERounding errors, for example, are an important class of (seemingly minor) bugs that can have some series implications. The underlying accounting logic of ERC4626, e.g., calculating the number of shares to be minted, or the amount of assets to be withdrawn, is implemented using fixed-point arithmetic — rounding errors are inevitable. For \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4626#security-considerations\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esecurity\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, however, the standard explicitly specifies the preferred rounding direction for each interface function, while leaving the error bounds unspecified and implementation-dependent. Specifically, the \u003Ccode\u003Edeposit()\u003C\u002Fcode\u003E and \u003Ccode\u003Eredeem()\u003C\u002Fcode\u003E functions should return an \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eunder\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E-approximation of the exact value, while the \u003Ccode\u003Emint()\u003C\u002Fcode\u003E and \u003Ccode\u003Ewithdraw()\u003C\u002Fcode\u003E functions should return an \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eover\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E-approximation. For example, if the current share price (i.e., the amount of assets per share) is 2, then \u003Ccode\u003Edeposit()\u003C\u002Fcode\u003E with 3 wei of assets should only mint up to 1 wei of shares (i.e., \u003Ccode\u003Efloor(3\u002F2)\u003C\u002Fcode\u003E), while \u003Ccode\u003Ewithdraw()\u003C\u002Fcode\u003E with 3 wei of assets should burn at least 2 wei of shares (i.e., \u003Ccode\u003Eceil(3\u002F2)\u003C\u002Fcode\u003E).\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe wrote the rounding-related properties to be independent of the underlying accounting logic by treating it as a black box. Specifically, we formulated them as so-called “round-trip” properties, which describe the relationship between two opposite functions. For example, the following property specifies that withdrawing assets that have just been escrowed by minting N shares must burn no less than N shares. In other words, no one can make a free profit converting assets and vault shares back and forth by repeatedly minting and withdrawing.\u003C\u002Fspan\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-2336 size-large\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fexecutable-1-no-drop-1024x338-1.png\" alt=\"snippet from ERC4626 property tests\" width=\"1024\" height=\"338\" \u002F\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIndeed, we found that several ERC4626 vaults on mainnet fail to satisfy the above property due to rounding errors. This means that anyone could earn, for example, a couple of satoshi BTC (1 satoshi ~= 0.02 cent at the time of writing) by simply (and repeatedly) minting and withdrawing, slowly draining the vault. This may actually turn a profit on chains that enjoy very low gas fees (e.g., Fantom), or if the asset price becomes high enough in the future.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Testing the ERC4626 standard in the wild\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe tested our properties against ~100 ERC4626 vaults on mainnet, and found many vaults that failed to follow the standard requirements — mostly due to the rounding errors (e.g., using floor rounding where ceiling is desired, as we described). Specifically, certain vaults failed to mint the exact number of shares requested by the \u003Ccode\u003Emint()\u003C\u002Fcode\u003E function, although the standard explicitly requires \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4626#mint\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethis\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. Some of them also emitted an inconsistent \u003Ccode\u003EDeposit\u003C\u002Fcode\u003E event where the logged data is different from what was actually minted. To our surprise, some vaults never minted on the spot at all; instead, they just put the mint requests into a queue, and process them later in a batch as a separate transaction.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAlthough these divergent behaviors were not exploitable per se, they may become vulnerable when integrated into other systems that expect only the standard behaviors. These issues will make vault integration much harder, potentially neutralizing the ongoing efforts and driving motivation behind standardization.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Using our property tests, and other actionable steps toward standard conformance\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFollowing the standard precisely can prevent divergent behaviors (ideally before they’re ever deployed). We hope our properties help, along with a few additional action items. For those who are developing and\u002For integrating ERC4626 vaults:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe highly recommend running our property \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Ferc4626-tests\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Etests\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E against your vaults. They will quickly find issues if there are any clear violations of the standard.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe also suggest reviewing our \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Ferc4626-tests\u002Fblob\u002Fmain\u002FERC4626.prop.sol\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eproperties\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to cross check your understanding of the standard requirements, and adjust your implementation if there is any unintentional discrepancy.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIf your vault has to diverge from the standard, we recommend clearly documenting the non-standard behaviors, so that others can properly handle these deviations when integrating with your vault. Please note that this should be considered as a last resort.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EERC4626 vaults have the potential to become an important building block for DeFi in the foreseeable future — and, for the sake of  composability, it&#8217;s important for both new and existing vaults to follow the standard. New implementations will emerge following the standard, so there’s no better time than the present to standardize existing vaults. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs we work toward an ideal state (where different vaults are uniformly composable), ERC4626 property tests can be run to more easily detect standard violations in vault implementations. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe property tests (with documentation and examples) are all publicly available in our Github \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Ferc4626-tests\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Erepository\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. We welcome your feedback and contributions!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n",post_title:"Generalized property tests for ERC4626 vaults",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"generalized-property-tests-for-erc4626-vaults",to_ping:a,pinged:a,post_modified:jT,post_modified_gmt:jT,post_content_filtered:a,post_parent:b,guid:"http:\u002F\u002Fcrypto.test\u002Fgeneralized-property-tests-for-erc4626-vaults-2\u002F",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:jU,name:fp,slug:"cap-daejun-park",term_group:b,term_taxonomy_id:jU,taxonomy:z,description:"Daejun Park Daejun Park daejun-park 1256 ",parent:b,count:aN,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:ar,name:cc,slug:cd,term_group:b,term_taxonomy_id:ar,taxonomy:B,description:a,parent:b,count:aJ,filter:d},{term_id:dx,name:eu,slug:ev,term_group:b,term_taxonomy_id:dx,taxonomy:f,description:a,parent:b,count:ca,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:ax,name:bU,slug:bV,term_group:b,term_taxonomy_id:ax,taxonomy:f,description:a,parent:b,count:cD,filter:d}],acf:{custom_title:a,redirect_author_links_to_the_post:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs DeFi grows and matures, scalable infrastructure and composability are top of mind for developers. \u003Cspan style=\"font-weight: 400;\"\u003EEthereum Requests for Comments (or ERCs) — standardized toolkits for building Ethereum-based apps, such as the widely used token standard \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethereum.org\u002Fen\u002Fdevelopers\u002Fdocs\u002Fstandards\u002Ftokens\u002Ferc-20\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EERC20\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E — serve the essential role of providing consistent guidelines for developers to contribute to the ecosystem without starting from scratch. \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjoey__santoro\u002Fstatus\u002F1481364987129917444?s=20&amp;t=LgXyYwlITzgVcF57Ojm6jw\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEarlier this year\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, tokenized vault standard \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ferc4626.info\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EERC4626\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E was created to encourage cross-compatibility among yield-bearing tokens.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Standardizing implementations details can also address pressing composability issues, making protocol integration easier and ultimately less error-prone.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESeveral DeFi projects have already \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fiearnfinance\u002Fstatus\u002F1511444220850184197?s=20&amp;t=A4SOC3hvV3a3yr-mHaANWA\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eadopted\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E the standard, looking to increase the composability of their vaults, and we anticipate wider adoption throughout the ecosystem. Adapting existing vaults does cause some growing pains, however; critically, certain implementation errors can expose new targets for attack. Even small errors (as small as misinterpreting the standard interface) can have significant consequences for both security and user experience, underscoring the need for more security tools and measures, particularly within a more composable DeFi ecosystem. \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFortunately, simple errors can have relatively simple solutions if detected well before they’re exploited (and ideally before they’re even deployed). To that end, we released \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Ferc4626-tests\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EERC4626 property tests\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for fuzzing and symbolic execution to help vault builders detect standard violations that may break integrations or lead to vulnerabilities down the line. In this post, we explain the motivating problem, walk through our approach, and conclude with some actionable advice.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]First a little background on the ERC4626 standard\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFinalized in March, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethereum.org\u002Fen\u002Fdevelopers\u002Fdocs\u002Fstandards\u002Ftokens\u002Ferc-4626\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EERC4626\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is the standard for tokenized vaults. It was introduced in order to extend the widely used \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethereum.org\u002Fen\u002Fdevelopers\u002Fdocs\u002Fstandards\u002Ftokens\u002Ferc-20\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EERC20\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E standard (currently the base for hundreds of tokens), encourage standardization across yield-bearing vaults, and ensure composability for the apps and protocols (e.g. yield aggregators) that need to interact with them. This means that any app built on an ERC4626 vault can be easily extended to work with any other ERC4626 vault.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETokenized vaults allow users to freely deposit assets to mint vault shares, and later redeem those shares to withdraw principal and interest from the vault. These vault shares are ERC20 tokens, and thus can be easily traded or used as collateral to borrow other assets. For example, users can deposit their assets in Yearn vaults to mint yVault tokens, which can then be traded on Uniswap, staked for additional yield, or used as collateral for lending protocols.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe business logic for generating and distributing yield (and determining the share price) may vary across implementations. In order to cover as many vaults as possible (with the goal of making them interoperable vs. identical), the ERC4626 standard focuses on describing the user interface, leaving most of the implementation details unspecified. This allows for variations in business logic as long as the vault meets the specific requirements of the interface, and encourages\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E interoperability across many different kinds of apps and types of ERC4626 vaults.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs more vaults are created, we expect to see them implemented according to the ERC4626 standard from the start; but we’re currently in a somewhat transitional phase, where developers looking to take advantage of greater composability will need to update existing vaults, apps, and protocols to conform with the standard. And as they upgrade, they contend with a number of complexities and challenges. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]The challenges of standard conformance (and the pitfalls of failing to conform)\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFollowing a new standard isn’t always straightforward. Every ERC4626 vault must faithfully (and exactly) implement the standard’s requirements as described. Otherwise, the integration of ERC4626 vaults becomes increasingly complex to account for different variations. This complexity makes integrations inherently error-prone; and because they aren’t sufficiently future proof, they may lead to security vulnerabilities over time.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENon-standard ERC20 tokens (e.g., Tether USD) require many DeFi systems to use an additional library (such as SafeERC20) when performing token transfers to safely deal with diverging behaviors (for example returning nothing when a transfer succeeds instead of returning \u003Ccode\u003Etrue\u003C\u002Fcode\u003E). This means that any systems interacting with these tokens could become vulnerable if the system isn&#8217;t designed to properly handle cases of “missing returns.” These scenarios can potentially introduce a common security pitfall, and increase overall development and maintenance costs (when factoring in the additional logic and dependencies needed to mitigate issues). Conforming to the standard is therefore critical not only for individual implementations but also for the security of the entire ecosystem. One vulnerability in a single system or dependency can cause widespread issues.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIdeally, standards would be formally specified without ambiguity (e.g., \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fruntimeverification.com\u002Fblog\u002Ferc20-k-formal-executable-specification-of-erc20\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eformal specification of ERC20\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), and every implementation could be formally verified against the standard specification. In practice, however, this isn’t easy to achieve in a short period of time, due the cost and effort required from the community.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Introducing executable ERC4626 properties to identify conformance issues \u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs we work toward an ideal state (every vault formally verified against rigorous formal specifications), we’ve written ERC4626 standard \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Ferc4626-tests\u002Fblob\u002Fmain\u002FERC4626.prop.sol\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eproperties\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to catch discrepancies in subtle, easy-to-miss details of the standard requirements.  \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EVault developers can run the tests to detect potential standard violations in their implementations before deployment. And vault integrators can check if the given vaults follow the standard before integrating them into their system. The properties can also be tested against the live vaults already deployed on the mainnet, via mainnet fork testing. Testing live vaults may be useful — especially when the vaults have been deployed or upgraded recently — to ensure that all the system parameters have been set correctly. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe chose property-based tests — written in Foundry and ready to be run by its fuzzer — in order to make the properties executable (and thus testable). In the future, they may also be run by symbolic execution or model checking tools to formally verify that the given vault satisfies the properties for all possible inputs and conditions.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe wrote the properties to be general enough to be applied to a wide range of vaults that implement different business logic. We used only public interface functions to make them agnostic to implementation details. (Due to this restriction, however, certain standard requirements that refer to implementation-specific internal data were omitted from the properties.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor example, the following property corresponds to one of the requirements of the \u003Ccode\u003EconvertToShares()\u003C\u002Fcode\u003E function, “\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4626#converttoshares\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMUST NOT show any variations depending on the caller\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.” Given the two account addresses and the amount, it makes each of the accounts call \u003Ccode\u003EconvertToShares()\u003C\u002Fcode\u003E with the same amount, and ensures the two return values are equal. This property is independent of the implementation details of \u003Ccode\u003EconvertToShares()\u003C\u002Fcode\u003E, which varies across vaults and must be satisfied by any vaults that implement ERC4626. This property can be executed by providing specific input values (for unit testing), many random inputs (for fuzz testing), or symbolic values (for symbolic execution and formal verification). It can also be run locally or against a mainnet fork (for integration testing).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-2338\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fexecutable-2-no-drop-1-1024x487-1.png\" alt=\"snippet from ERC4626 property tests\" width=\"950\" height=\"452\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003C\u002Fh3\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Use case: properties that test for rounding errors\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ERounding errors, for example, are an important class of (seemingly minor) bugs that can have some series implications. The underlying accounting logic of ERC4626, e.g., calculating the number of shares to be minted, or the amount of assets to be withdrawn, is implemented using fixed-point arithmetic — rounding errors are inevitable. For \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4626#security-considerations\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esecurity\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, however, the standard explicitly specifies the preferred rounding direction for each interface function, while leaving the error bounds unspecified and implementation-dependent. Specifically, the \u003Ccode\u003Edeposit()\u003C\u002Fcode\u003E and \u003Ccode\u003Eredeem()\u003C\u002Fcode\u003E functions should return an \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eunder\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E-approximation of the exact value, while the \u003Ccode\u003Emint()\u003C\u002Fcode\u003E and \u003Ccode\u003Ewithdraw()\u003C\u002Fcode\u003E functions should return an \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eover\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E-approximation. For example, if the current share price (i.e., the amount of assets per share) is 2, then \u003Ccode\u003Edeposit()\u003C\u002Fcode\u003E with 3 wei of assets should only mint up to 1 wei of shares (i.e., \u003Ccode\u003Efloor(3\u002F2)\u003C\u002Fcode\u003E), while \u003Ccode\u003Ewithdraw()\u003C\u002Fcode\u003E with 3 wei of assets should burn at least 2 wei of shares (i.e., \u003Ccode\u003Eceil(3\u002F2)\u003C\u002Fcode\u003E).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe wrote the rounding-related properties to be independent of the underlying accounting logic by treating it as a black box. Specifically, we formulated them as so-called “round-trip” properties, which describe the relationship between two opposite functions. For example, the following property specifies that withdrawing assets that have just been escrowed by minting N shares must burn no less than N shares. In other words, no one can make a free profit converting assets and vault shares back and forth by repeatedly minting and withdrawing.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-2336 size-large\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fexecutable-1-no-drop-1024x338-1.png\" alt=\"snippet from ERC4626 property tests\" width=\"1024\" height=\"338\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIndeed, we found that several ERC4626 vaults on mainnet fail to satisfy the above property due to rounding errors. This means that anyone could earn, for example, a couple of satoshi BTC (1 satoshi ~= 0.02 cent at the time of writing) by simply (and repeatedly) minting and withdrawing, slowly draining the vault. This may actually turn a profit on chains that enjoy very low gas fees (e.g., Fantom), or if the asset price becomes high enough in the future.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Testing the ERC4626 standard in the wild\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe tested our properties against ~100 ERC4626 vaults on mainnet, and found many vaults that failed to follow the standard requirements — mostly due to the rounding errors (e.g., using floor rounding where ceiling is desired, as we described). Specifically, certain vaults failed to mint the exact number of shares requested by the \u003Ccode\u003Emint()\u003C\u002Fcode\u003E function, although the standard explicitly requires \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4626#mint\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethis\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. Some of them also emitted an inconsistent \u003Ccode\u003EDeposit\u003C\u002Fcode\u003E event where the logged data is different from what was actually minted. To our surprise, some vaults never minted on the spot at all; instead, they just put the mint requests into a queue, and process them later in a batch as a separate transaction.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAlthough these divergent behaviors were not exploitable per se, they may become vulnerable when integrated into other systems that expect only the standard behaviors. These issues will make vault integration much harder, potentially neutralizing the ongoing efforts and driving motivation behind standardization.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Using our property tests, and other actionable steps toward standard conformance\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFollowing the standard precisely can prevent divergent behaviors (ideally before they’re ever deployed). We hope our properties help, along with a few additional action items. For those who are developing and\u002For integrating ERC4626 vaults:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe highly recommend running our property \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Ferc4626-tests\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Etests\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E against your vaults. They will quickly find issues if there are any clear violations of the standard.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe also suggest reviewing our \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Ferc4626-tests\u002Fblob\u002Fmain\u002FERC4626.prop.sol\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eproperties\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to cross check your understanding of the standard requirements, and adjust your implementation if there is any unintentional discrepancy.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIf your vault has to diverge from the standard, we recommend clearly documenting the non-standard behaviors, so that others can properly handle these deviations when integrating with your vault. Please note that this should be considered as a last resort.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EERC4626 vaults have the potential to become an important building block for DeFi in the foreseeable future — and, for the sake of composability, it&#8217;s important for both new and existing vaults to follow the standard. New implementations will emerge following the standard, so there’s no better time than the present to standardize existing vaults.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs we work toward an ideal state (where different vaults are uniformly composable), ERC4626 property tests can be run to more easily detect standard violations in vault implementations. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe property tests (with documentation and examples) are all publicly available in our Github \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Ferc4626-tests\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Erepository\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. We welcome your feedback and contributions!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n"}],related_posts:N,post_redirector:h,format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d}},tags:[{term_id:dx,name:eu,slug:ev,term_group:b,term_taxonomy_id:dx,taxonomy:f,description:a,parent:b,count:ca,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:ax,name:bU,slug:bV,term_group:b,term_taxonomy_id:ax,taxonomy:f,description:a,parent:b,count:cD,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"576\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FExecutable_ERC4626_1920x1080-1024x576.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FExecutable_ERC4626_1920x1080-1024x576.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FExecutable_ERC4626_1920x1080-300x169.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FExecutable_ERC4626_1920x1080-768x432.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FExecutable_ERC4626_1920x1080-1536x864.jpg 1536w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FExecutable_ERC4626_1920x1080.jpg 1920w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FExecutable_ERC4626_1920x1080-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FExecutable_ERC4626_1920x1080-150x150.jpg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FExecutable_ERC4626_1920x1080-300x169.jpg",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FExecutable_ERC4626_1920x1080-1024x576.jpg",width:aj}],authors:[{ID:"1256",display_name:"Daejun Park",first_name:"Daejun",last_name:"Park",user_login:fp,user_email:a,linked_account:a,website:"https:\u002F\u002Fdaejunpark.github.io\u002F",description:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EDaejun Park is a Senior Blockchain Security Engineer at a16z crypto, developing formal methods and tools for web3 security to help portfolio companies in particular and the web3 community in general to raise their security bar.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EPrior to joining a16z crypto, he was a Director of Formal Verification at Runtime Verification, a research-based startup offering formal verification tools and services, where he led a team of formal verification engineers and security auditors for smart contracts and consensus protocols. Early in his career, he was a founding member of another tech startup Sparrow, where he designed and implemented static program analysis tools that detect memory safety errors for embedded systems software.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EHe received a Ph.D. in Computer Science from the University of Illinois at Urbana-Champaign, and his B.S. and M.S. degrees from Seoul National University. His work on language-parametric program verification received the Distinguished Paper Award at OOPSLA'16.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n",user_nicename:fp,type:A,nickname:a}],meta_desc:fq,seo:{title_tag:jV,meta_description:fq,canonical:jW,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:jV,open_graph_description:fq,open_graph_url:jW,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2022/10/Executable_ERC4626_1920x1080.jpg":{width:do0,height:bN,filesize:1914171,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FExecutable_ERC4626_1920x1080.jpg",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FExecutable_ERC4626_1920x1080.jpg",size:an,id:4080,alt:a,pixels:dp,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:cb,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2022-10-27T00:00:00+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:2979,post_author:eS,post_date:jX,post_date_gmt:jX,post_content:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Merge – the major Ethereum upgrade that happened early Thursday morning – will go down as one of the most important moments in the history of open source. It’s hard to think of a cooler example of a community of hundreds of developers across many organizations driving years of open-ended research and hard technical development.\u003Cspan style=\"font-weight: 400;\"\u003EMany people don&#8217;t realize: Transitioning Ethereum to “proof-of-stake” (PoS) – an alternative to “proof-of-work” (PoW) mining for reaching consensus on blocks of transactions – was an insane feat. The update involved hot-swapping the most important component of Ethereum’s architecture – its consensus mechanism – *while it was running*. All this occurred while maintaining perfect uptime for millions of users, thousands of decentralized applications (dapps), and hundreds of billions of dollars secured.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EI believe Ethereum is a far superior blockchain now than it was before. Why? Let&#8217;s review some of the advantages.\u003C\u002Fspan\u003E\u003Cb\u003E\u003C\u002Fb\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cb\u003EEnergy efficiency\u003C\u002Fb\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPost-Merge, Ethereum is now 100x+ more energy-efficient than it was before. Participating in consensus no longer expends the enormous amount of electricity that PoW does. After The Merge, energy usage of ETH will be comparable to the datacenters of web2.\u003C\u002Fspan\u003E\u003Cb\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cb\u003ESecurity\u003C\u002Fb\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEvery blockchain has to pay for its own security (via token rewards to validators). The security budget of a PoW blockchain has to cover miners&#8217; cost of electricity, plus margin. Because “stakers” – the validators in PoS – require a lower rate of return than the 100% miners normally extract in PoW, PoS is much more efficient. In Ethereum now, $1 of the budget goes ~20x as far.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFurther, PoW has limited ability to punish attackers to the system. That’s because most of their assets are off-chain in the form of mining rigs. PoS has direct access to each validator’s “stake”, the funds, or skin-in-the-game, that validators deposit to secure the network. That allows PoS incentives to be far more granular, further increasing security.\u003C\u002Fspan\u003E\u003Cb\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cb\u003EFairness and decentralization\u003C\u002Fb\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPoW mining is subject to economies of scale. The biggest miners have an advantage over smaller players who, as a result, often can&#8217;t participate. PoS doesn&#8217;t have that challenge – anyone with 32 ETH can now participate as a validator on Ethereum.\u003C\u002Fspan\u003E\u003Cb\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cb\u003EFinality\u003C\u002Fb\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA transaction on a PoW blockchain is never truly final. Finality is probabilistic, so there&#8217;s always some chance that transactions get rolled back. On a PoS blockchain, transactions that go through consensus are final.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETransaction finality on Ethereum will lay the groundwork for future work that will improve Ethereum&#8217;s ability to scale (via “layer 2” solutions such as rollups), connect to other blockchains (via cross-chain bridges), and build better abstractions for developers that are easier to use and reason about.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Merge is a big deal. It&#8217;s an important step forward for crypto and web3. It brings us closer to a world that benefits from an efficient and secure layer for decentralized computation that can support the applications we all want to build.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThere is so much that happened behind the scenes leading up to this moment.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch4\u003E\u003Cstrong\u003E\u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fethereum-the-merge-pos-security-decentralization-process-community-people\"\u003EListen to our web3 with a16z podcast with Ethereum core contributor Tim Beiko to learn more!\u003C\u002Fa\u003E \u003C\u002Fstrong\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n",post_title:"What The Merge Means",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"what-the-merge-means",to_ping:a,pinged:a,post_modified:"2025-01-28 15:14:46",post_modified_gmt:"2025-01-28 23:14:46",post_content_filtered:a,post_parent:b,guid:"http:\u002F\u002Fcrypto.test\u002Fwhat-the-merge-means\u002F",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:dy,name:cE,slug:jY,term_group:b,term_taxonomy_id:dy,taxonomy:z,description:jZ,parent:b,count:aJ,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:Y,name:ay,slug:az,term_group:b,term_taxonomy_id:Y,taxonomy:f,description:a,parent:b,count:ae,filter:d},{term_id:Z,name:aG,slug:aH,term_group:b,term_taxonomy_id:Z,taxonomy:B,description:a,parent:b,count:aI,filter:d},{term_id:au,name:bW,slug:bX,term_group:b,term_taxonomy_id:au,taxonomy:f,description:a,parent:b,count:ak,filter:d}],acf:{custom_title:"The meaning of The Merge",redirect_author_links_to_the_post:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Merge – the major Ethereum upgrade that happened early Thursday morning – will go down as one of the most important moments in the history of open source. It’s hard to think of a cooler example of a community of hundreds of developers across many organizations driving years of open-ended research and hard technical development.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMany people don&#8217;t realize: Transitioning Ethereum to “proof-of-stake” (PoS) – an alternative to “proof-of-work” (PoW) mining for reaching consensus on blocks of transactions – was an insane feat. The update involved hot-swapping the most important component of Ethereum’s architecture – its consensus mechanism – *while it was running*. All this occurred while maintaining perfect uptime for millions of users, thousands of decentralized applications (dapps), and hundreds of billions of dollars secured.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EI believe Ethereum is a far superior blockchain now than it was before. Why? Let&#8217;s review some of the advantages.\u003C\u002Fspan\u003E\u003Cb\u003E\u003C\u002Fb\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cb\u003EEnergy efficiency\u003C\u002Fb\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPost-Merge, Ethereum is now 100x+ more energy-efficient than it was before. Participating in consensus no longer expends the enormous amount of electricity that PoW does. After The Merge, energy usage of ETH will be comparable to the datacenters of web2.\u003C\u002Fspan\u003E\u003Cb\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cb\u003ESecurity\u003C\u002Fb\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEvery blockchain has to pay for its own security (via token rewards to validators). The security budget of a PoW blockchain has to cover miners&#8217; cost of electricity, plus margin. Because “stakers” – the validators in PoS – require a lower rate of return than the 100% miners normally extract in PoW, PoS is much more efficient. In Ethereum now, $1 of the budget goes ~20x as far.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFurther, PoW has limited ability to punish attackers to the system. That’s because most of their assets are off-chain in the form of mining rigs. PoS has direct access to each validator’s “stake”, the funds, or skin-in-the-game, that validators deposit to secure the network. That allows PoS incentives to be far more granular, further increasing security.\u003C\u002Fspan\u003E\u003Cb\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cb\u003EFairness and decentralization\u003C\u002Fb\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPoW mining is subject to economies of scale. The biggest miners have an advantage over smaller players who, as a result, often can&#8217;t participate. PoS doesn&#8217;t have that challenge – anyone with 32 ETH can now participate as a validator on Ethereum.\u003C\u002Fspan\u003E\u003Cb\u003E\u003C\u002Fb\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cb\u003EFinality\u003C\u002Fb\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA transaction on a PoW blockchain is never truly final. Finality is probabilistic, so there&#8217;s always some chance that transactions get rolled back. On a PoS blockchain, transactions that go through consensus are final.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETransaction finality on Ethereum will lay the groundwork for future work that will improve Ethereum&#8217;s ability to scale (via “layer 2” solutions such as rollups), connect to other blockchains (via cross-chain bridges), and build better abstractions for developers that are easier to use and reason about.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E***\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Merge is a big deal. It&#8217;s an important step forward for crypto and web3. It brings us closer to a world that benefits from an efficient and secure layer for decentralized computation that can support the applications we all want to build.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThere is so much that happened behind the scenes leading up to this moment.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch4\u003E\u003Cstrong\u003E\u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fethereum-the-merge-pos-security-decentralization-process-community-people\"\u003EListen to our web3 with a16z podcast with Ethereum core contributor Tim Beiko to learn more!\u003C\u002Fa\u003E \u003C\u002Fstrong\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F\u003C\u002Fa\u003E.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fa\u003E for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n"}],post_redirector:h,related_posts:N,format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},disclosure_relation:h},tags:[{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:Y,name:ay,slug:az,term_group:b,term_taxonomy_id:Y,taxonomy:f,description:a,parent:b,count:ae,filter:d},{term_id:au,name:bW,slug:bX,term_group:b,term_taxonomy_id:au,taxonomy:f,description:a,parent:b,count:ak,filter:d}],post_thumbnail:"\u003Cimg width=\"716\" height=\"781\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fproof_of_merge-phase-2.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fproof_of_merge-phase-2.jpg 716w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fproof_of_merge-phase-2-275x300.jpg 275w\" sizes=\"auto, (max-width: 716px) 100vw, 716px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fproof_of_merge-phase-2-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fproof_of_merge-phase-2-150x150.jpg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fproof_of_merge-phase-2-275x300.jpg",width:275},{url:fr,width:b}],authors:[{ID:j_,display_name:j$,first_name:ka,last_name:kb,user_login:cE,user_email:a,linked_account:a,website:kc,description:kd,user_nicename:cE,type:A,nickname:a}],meta_desc:fs,seo:{title_tag:ke,meta_description:fs,canonical:kf,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:ke,open_graph_description:fs,open_graph_url:kf,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2022/09/proof_of_merge-phase-2.jpg":{width:716,height:781,filesize:385878,url:fr,path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fproof_of_merge-phase-2.jpg",size:an,id:"4099",alt:a,pixels:559196,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:ak,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:fr,open_graph_article_published_time:"2022-09-15T00:00:00+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:4787,post_author:bY,post_date:kg,post_date_gmt:kg,post_content:a,post_title:"Ethereum, Merge and Beyond",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"ethereum-merge-and-beyond",to_ping:a,pinged:a,post_modified:"2025-01-28 15:58:12",post_modified_gmt:"2025-01-28 23:58:12",post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.approvemyviews.com\u002F?p=4787",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:kh,name:ft,slug:"cap-tim-beiko",term_group:b,term_taxonomy_id:kh,taxonomy:z,description:"Tim Beiko   tim-beiko 4789 ",parent:b,count:c,filter:d},{term_id:dz,name:cF,slug:ki,term_group:b,term_taxonomy_id:dz,taxonomy:z,description:kj,parent:b,count:aq,filter:d},{term_id:dy,name:cE,slug:jY,term_group:b,term_taxonomy_id:dy,taxonomy:z,description:jZ,parent:b,count:aJ,filter:d},{term_id:kk,name:fu,slug:"cap-sonal-chokshi",term_group:b,term_taxonomy_id:kk,taxonomy:z,description:"Sonal Chokshi   sonal-chokshi 2508 ",parent:b,count:45,filter:d},{term_id:ar,name:cc,slug:cd,term_group:b,term_taxonomy_id:ar,taxonomy:B,description:a,parent:b,count:aJ,filter:d},{term_id:cK,name:eq,slug:er,term_group:b,term_taxonomy_id:cK,taxonomy:f,description:a,parent:b,count:aq,filter:d},{term_id:aw,name:bS,slug:bT,term_group:b,term_taxonomy_id:aw,taxonomy:f,description:a,parent:b,count:aN,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:dA,name:ci,slug:ci,term_group:b,term_taxonomy_id:dA,taxonomy:f,description:a,parent:b,count:kl,filter:d},{term_id:as,name:J,slug:J,term_group:b,term_taxonomy_id:as,taxonomy:f,description:a,parent:b,count:co,filter:d},{term_id:ab,name:aE,slug:J,term_group:b,term_taxonomy_id:ab,taxonomy:k,description:a,parent:b,count:aP,filter:d},{term_id:Y,name:ay,slug:az,term_group:b,term_taxonomy_id:Y,taxonomy:f,description:a,parent:b,count:ae,filter:d},{term_id:dB,name:eI,slug:eJ,term_group:b,term_taxonomy_id:dB,taxonomy:f,description:a,parent:b,count:aL,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d},{term_id:ao,name:am,slug:am,term_group:b,term_taxonomy_id:ao,taxonomy:f,description:a,parent:b,count:cb,filter:d},{term_id:Z,name:aG,slug:aH,term_group:b,term_taxonomy_id:Z,taxonomy:B,description:a,parent:b,count:aI,filter:d},{term_id:au,name:bW,slug:bX,term_group:b,term_taxonomy_id:au,taxonomy:f,description:a,parent:b,count:ak,filter:d}],acf:{custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Ciframe loading=\"lazy\" src=\"https:\u002F\u002Fplayer.simplecast.com\u002F70bed30e-4006-403b-a314-ccae1f534cb7?dark=false\" width=\"100%\" height=\"200px\" frameborder=\"no\" scrolling=\"no\" seamless=\"\"\u003E\u003C\u002Fiframe\u003E\u003C\u002Fp\u003E\n\u003Cdiv class=\"sc-episode-details-show-notes-text\"\u003E\n\u003Ch3 class=\"sc-episode-details-show-notes-text-heading\"\u003EEPISODE SUMMARY\u003C\u002Fh3\u003E\n\u003Cp class=\"sc-episode-details-description-p\"\u003Ewith @timbeiko @tim_roughgarden @alive_eth @smc90 A deep dive on all things Ethereum, which this week makes the big move to proof of stake in The Merge. But our conversation, which certainly goes into The Merge and shares lots of in-depth and behind-scene details and bottomline on what changes, what doesn’t &#8212; also goes well beyond the Merge, into an overview of what comes next, what’s top of mind, and more.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sc-episode-details-show-notes-text\"\u003E\n\u003Ch3 class=\"sc-episode-details-show-notes-text-heading\"\u003EEPISODE NOTES\u003C\u002Fh3\u003E\n\u003Cdiv\u003E\n\u003Cp\u003Ewith @timbeiko @tim_roughgarden @alive_eth @smc90\u003C\u002Fp\u003E\n\u003Cp\u003EA deep dive on all things Ethereum, which this week makes the big move to Proof of Stake in The Merge. So in this long and wide-ranging conversation with Tim Beiko &#8212; who runs the core devs calls and Protocol Support for Ethereum Foundation &#8212; a16z crypto head of research (Tim Roughgarden), general partner (Ali Yahya), and editor in chief (Sonal Chokshi) cover:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Ehow Ethereum got here today &#8212; and the co-evolution of the protocol and the community;\u003C\u002Fli\u003E\n\u003Cli\u003Ewhat went into The Merge &#8212; both technical and the social processes behind the outcomes; what changes, what doesn&#8217;t;\u003C\u002Fli\u003E\n\u003Cli\u003Etop of mind tech trends such as rollups, data availability, EVMs, and more (as well as hot topics including proposer-builder separation and others);\u003C\u002Fli\u003E\n\u003Cli\u003Eviews on token governance\u003C\u002Fli\u003E\n\u003Cli\u003Ethe nature of distributed collaboration especially between R&amp;D\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E&#8230;but it&#8217;s really a conversation about how innovation happens, in a decentralized way.  And what does that mean for community involvement, who participates, and how more people can participate in web3?\u003C\u002Fp\u003E\n\u003Cp\u003EIn case you missed it, check out last week&#8217;s episode for an overview of proof of stake blockchains.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003EAs a reminder, none of the following is investment, business, legal, or tax advice; please see a16z.com\u002Fdisclosures for more important information, including a link to a list of our investments. \u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E&#8220;web3 with a16z&#8221; is a show about building the next generation of the internet from the team at a16z crypto; this show is for anyone seeking to understand, and go deeper, on all things crypto and web3. \u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cstrong\u003E***\u003C\u002Fstrong\u003E\u003Cbr \u002F\u003E\nThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fa\u003E for additional important information\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n"}],related_posts:N,format:{term_id:ab,name:aE,slug:J,term_group:b,term_taxonomy_id:ab,taxonomy:k,description:a,parent:b,count:aP,filter:d}},tags:[{term_id:cK,name:eq,slug:er,term_group:b,term_taxonomy_id:cK,taxonomy:f,description:a,parent:b,count:aq,filter:d},{term_id:aw,name:bS,slug:bT,term_group:b,term_taxonomy_id:aw,taxonomy:f,description:a,parent:b,count:aN,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:dA,name:ci,slug:ci,term_group:b,term_taxonomy_id:dA,taxonomy:f,description:a,parent:b,count:kl,filter:d},{term_id:as,name:J,slug:J,term_group:b,term_taxonomy_id:as,taxonomy:f,description:a,parent:b,count:co,filter:d},{term_id:Y,name:ay,slug:az,term_group:b,term_taxonomy_id:Y,taxonomy:f,description:a,parent:b,count:ae,filter:d},{term_id:dB,name:eI,slug:eJ,term_group:b,term_taxonomy_id:dB,taxonomy:f,description:a,parent:b,count:aL,filter:d},{term_id:ao,name:am,slug:am,term_group:b,term_taxonomy_id:ao,taxonomy:f,description:a,parent:b,count:cb,filter:d},{term_id:au,name:bW,slug:bX,term_group:b,term_taxonomy_id:au,taxonomy:f,description:a,parent:b,count:ak,filter:d}],post_thumbnail:a,post_thumbnail_small:a,post_images:[],authors:[{ID:"4789",display_name:"Tim Beiko",first_name:a,last_name:a,user_login:ft,user_email:a,linked_account:a,website:a,description:a,user_nicename:ft,type:A,nickname:a},{ID:km,display_name:kn,first_name:ko,last_name:kp,user_login:cF,user_email:a,linked_account:a,website:a,description:kq,user_nicename:cF,type:A,nickname:a},{ID:j_,display_name:j$,first_name:ka,last_name:kb,user_login:cE,user_email:a,linked_account:a,website:kc,description:kd,user_nicename:cE,type:A,nickname:a},{ID:"2508",display_name:"Sonal Chokshi",first_name:a,last_name:a,user_login:fu,user_email:a,linked_account:fv,website:"http:\u002F\u002Fsonalchokshi.org\u002F",description:a,user_nicename:fu,type:A,nickname:a,wp_user:{data:{ID:cO,user_login:fv,user_pass:"$P$BtWCBpEb5e.WZ.8mU8xKwKp9pYIKU.0",user_nicename:"sonal",user_email:"sonal@a16z.com",user_url:a,user_registered:"2023-02-08 20:56:02",user_activation_key:a,user_status:x,display_name:fv},ID:ae,caps:{administrator:e},cap_key:e$,roles:[fa],allcaps:{switch_themes:e,edit_themes:e,activate_plugins:e,edit_plugins:e,edit_users:e,edit_files:e,manage_options:e,moderate_comments:e,manage_categories:e,manage_links:e,upload_files:e,import:e,unfiltered_html:e,edit_posts:e,edit_others_posts:e,edit_published_posts:e,publish_posts:e,edit_pages:e,read:e,level_10:e,level_9:e,level_8:e,level_7:e,level_6:e,level_5:e,level_4:e,level_3:e,level_2:e,level_1:e,level_0:e,edit_others_pages:e,edit_published_pages:e,publish_pages:e,delete_pages:e,delete_others_pages:e,delete_published_pages:e,delete_posts:e,delete_others_posts:e,delete_published_posts:e,delete_private_posts:e,edit_private_posts:e,read_private_posts:e,delete_private_pages:e,edit_private_pages:e,read_private_pages:e,delete_users:e,create_users:e,unfiltered_upload:e,edit_dashboard:e,update_plugins:e,delete_plugins:e,install_plugins:e,update_themes:e,install_themes:e,update_core:e,list_users:e,remove_users:e,promote_users:e,edit_theme_options:e,delete_themes:e,export:e,wf2fa_activate_2fa_self:e,wf2fa_activate_2fa_others:e,wf2fa_manage_settings:e,srm_manage_redirects:e,wpseo_manage_options:e,administrator:e},filter:g}}],meta_desc:a,seo:{title_tag:kr,meta_description:a,canonical:ks,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:kr,open_graph_description:a,open_graph_url:ks,open_graph_images:[],open_graph_site_name:U,estimated_reading_time_minutes:b,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2022-09-12T23:20:21+00:00"},format:{term_id:ab,name:aE,slug:J,term_group:b,term_taxonomy_id:ab,taxonomy:k,description:a,parent:b,count:aP,filter:d},template:a,disclosure:h},{ID:2994,post_author:cO,post_date:kt,post_date_gmt:kt,post_content:"\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEditor’s note: This piece is part of our ongoing series on all things ‘auctions for web3’. For an overview of auction designs, and technical challenges (and opportunities) specific to mechanism design in a permissionless blockchains context, please \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fauction-design-mechanisms-incentives-choices-tradeoffs\" target=\"_blank\" rel=\"noopener\"\u003Echeck out this episode\u003C\u002Fa\u003E.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"alignnone size-full wp-image-3967 aligncenter\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1.jpg\" alt=\"\" width=\"768\" height=\"768\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1-300x300.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1-150x150.jpg 150w\" sizes=\"auto, (max-width: 768px) 100vw, 768px\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EA key feature of web3 is \u003Ca href=\"https:\u002F\u002Ffuture.a16z.com\u002Fnfts-thousand-true-fans\u002F\" target=\"_blank\" rel=\"noopener\"\u003Eenabling\u003C\u002Fa\u003E early fans of a creator, product, or platform to form a community through ownership of associated \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fcdixon\u002Fstatus\u002F1440026947036356619\" target=\"_blank\" rel=\"noopener\"\u003Etokens\u003C\u002Fa\u003E on a blockchain. When it comes to non-fungible tokens or \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Ftag\u002Fnfts\u002F\" target=\"_blank\" rel=\"noopener\"\u003ENFTs\u003C\u002Fa\u003E &#8212; which uniquely represent ownership of media such as code, digital art, characters, memes, music, text, videos, games, \u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fmetaverse-real-estate-digital-land-value-to-users\u002F\" target=\"_blank\" rel=\"noopener\"\u003Evirtual real estate\u003C\u002Fa\u003E, and much more &#8212; creators often build significant anticipation and engagement before their initial sales. This can contribute to community-building among early collectors, which can sometimes in turn \u003Ca href=\"https:\u002F\u002Fhbr.org\u002F2022\u002F05\u002Fwhy-build-in-web3\" target=\"_blank\" rel=\"noopener\"\u003Egrow the value\u003C\u002Fa\u003E of holding the token.\u003C\u002Fp\u003E\n\u003Cp\u003EInstead of letting the market decide the price for their primary sale offerings, however, many NFT projects choose to initially sell their NFTs at prices \u003Cem\u003Ebelow\u003C\u002Fem\u003E the market-clearing level. Sometimes this is because the team doesn&#8217;t realize the sheer demand for their offering, or because they designed their initial sale mechanism poorly. Often, however, selling NFTs at below-market-clearing prices comes out of a direct desire to make the sale accessible to more people or to achieve specific \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=X9Y12Pri_dI\" target=\"_blank\" rel=\"noopener\"\u003Edistributional\u003C\u002Fa\u003E goals.\u003C\u002Fp\u003E\n\u003Cp\u003EBut what happens when market designers \u003Ca href=\"https:\u002F\u002Fwww.econometricsociety.org\u002Fpublications\u002Feconometrica\u002F2021\u002F07\u002F01\u002Fredistribution-through-markets\" target=\"_blank\" rel=\"noopener\"\u003Etrade off\u003C\u002Fa\u003E \u003Cem\u003Eefficiency for equity \u003C\u002Fem\u003E(here we mean “equity” as in the fairness of the marketplace and market-clearing mechanisms); or when \u003Cem\u003Edemand far outstrips supply, \u003C\u002Fem\u003Eas is often the case with high-demand NFT launches and drops?\u003C\u002Fp\u003E\n\u003Cp\u003EWhen people want to purchase scarce resources in a market, this inevitably leads to competition among prospective buyers along other dimensions. In the Ethereum ecosystem, that competition can produce so-called “gas wars” that escalate when prospective buyers bid the gas price upwards as they compete to be first in line for the sale. So how can builders avoid this? And more broadly, how can builders address market demand if they really do want to offer their NFTs at a below-market-clearing price? Here, we offer some guidance for builders  from our vantage point of auction theory and mechanism design in practice &#8212; especially in the unique \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fauction-design-mechanisms-incentives-choices-tradeoffs\" target=\"_blank\" rel=\"noopener\"\u003Econtext of blockchains\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003E[toc-embed]But first, some background: On market-clearing prices; on trading off efficiency \u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EWhen there are high-demand launches or limits on purchasing, buyer demand can far outstrip supply. Market pressure then drives the price towards the level at which demand and supply match up (or equalize) &#8212; that is, the “\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMarket_clearing\" target=\"_blank\" rel=\"noopener\"\u003Emarket-clearing price\u003C\u002Fa\u003E”. This inevitable drive towards prices at which supply and demand meet is one of the most core \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=ulyVXa-u4wE\" target=\"_blank\" rel=\"noopener\"\u003Eprinciples of economics\u003C\u002Fa\u003E. Even when the “pricing” is somewhat hidden – for example, competition over gas fees &#8212; in the end, market forces make it so that some form of payment ends up helping supply and demand match up.\u003C\u002Fp\u003E\n\u003Cp\u003EImplementing price controls, for example, typically leads to competition over access &#8212; long lines, more time spent seeking purchase opportunities, or other costs. This has famously happened in non-blockchain contexts, such as with rent control and price ceilings on (literal) \u003Ca href=\"https:\u002F\u002Fwww.washingtonpost.com\u002Fhistory\u002F2021\u002F05\u002F13\u002Fgas-shortages-1970s\u002F\" target=\"_blank\" rel=\"noopener\"\u003Egasoline\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ESimilarly, as described above, “gas wars” on Ethereum are a market equilibrium phenomenon: They arise directly through market forces, in response to constrained supply. (“Gas” in this context is the amount of computational effort required to execute specific operations on the network.) More specifically, gas wars occur during NFT mints when buyers try to jump ahead of each other in line, which causes a sudden spike in the immediate demand for blockspace; that in turn drives up gas prices, and leads to ever-higher transaction fees.\u003C\u002Fp\u003E\n\u003Cp\u003EOne common misconception that often comes up in discussions about avoiding gas wars is the need to optimize the smart contract running the sale. While that’s certainly good to do for other reasons, such as user accessibility, more gas-efficient smart contracts can&#8217;t on their own prevent gas wars, which arise through market forces. And paradoxically, if the contract is better optimized, gas prices will need to go even \u003Cem\u003Ehigher\u003C\u002Fem\u003E to achieve the same effective price. (Although optimized contracts do at least have more sales per block, which makes the whole process &#8212; including the gas wars &#8212; end more quickly.)\u003C\u002Fp\u003E\n\u003Cp\u003EEthereum co-founder Vitalik Buterin pointed this out as well \u003Ca href=\"https:\u002F\u002Fvitalik.ca\u002Fgeneral\u002F2021\u002F08\u002F22\u002Fprices.html\" target=\"_blank\" rel=\"noopener\"\u003Ein a post last year\u003C\u002Fa\u003E on market-clearing prices in the context of NFT drops (and the erstwhile phenomenon of ICOs), and the negative externalities that result. In the piece, Buterin also suggested alternatives to selling below market-clearing prices &#8212; whether the goal for doing so is to achieve fairness, or community sentiment, or fun.\u003C\u002Fp\u003E\n\u003Cp\u003EOn a related note: One of the authors of this post (Scott) also recently presented work with \u003Ca href=\"http:\u002F\u002Fweb.stanford.edu\u002F~mohamwad\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMohammad Akbarpour\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fsites.northwestern.edu\u002Fdworczak\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPiotr Dworczak\u003C\u002Fspan\u003E\u003C\u002Fa\u003E on ”\u003Ca href=\"https:\u002F\u002Fpapers.ssrn.com\u002Fsol3\u002Fpapers.cfm?abstract_id=3609182\" target=\"_blank\" rel=\"noopener\"\u003Eredistributive allocation mechanisms\u003C\u002Fa\u003E” &#8212; a theory for how marketplace designers can think about the tradeoffs between efficiency and “equity” or redistributive concerns, and how the same approaches for designing revenue-maximizing auctions and efficient allocation mechanisms can be applied when there are market-level redistributive goals. In non-blockchain contexts, this work has implications for policy problems such as in-kind transfer programs for \u003Ca href=\"https:\u002F\u002Fwww.bloomberg.com\u002Fopinion\u002Farticles\u002F2020-01-27\u002Ffood-stamp-work-requirements-just-look-cruel\" target=\"_blank\" rel=\"noopener\"\u003Efood\u003C\u002Fa\u003E and healthcare, as well as \u003Ca href=\"https:\u002F\u002Fssrn.com\u002Fabstract=3846931\" target=\"_blank\" rel=\"noopener\"\u003Evaccine allocation\u003C\u002Fa\u003E; in crypto, it has applications for organizing NFT sales, DAO token governance distribution, and more. (You can \u003Ca href=\"https:\u002F\u002Fyoutu.be\u002FX9Y12Pri_dI\" target=\"_blank\" rel=\"noopener\"\u003Ewatch a video\u003C\u002Fa\u003E about this work here.)\u003C\u002Fp\u003E\n\u003Cp\u003ENow, with that general context, let’s talk more specifically about the tradeoffs between efficiency and other goals in market design for NFT sales. First, we discuss auction designs that lean into market forces in order to efficiently clear the market. We then follow with a section on what to do when NFT projects or creators may still want to hold primary sales at below market-clearing prices, and how they might manage demand if so.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003E1. Clearing the market\u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EPerhaps the easiest strategy to avoid gas wars is to lean into market forces, and run the NFT sale in a way that clears the market. \u003Cspan style=\"font-weight: 400;\"\u003EHere, for example, are two auction mechanisms that can achieve that, and are currently used in NFT sales.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Descending pay-as-bid auctions \u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOne option is to run a descending auction, in which a sale starts at a very high price, which then slowly descends, with bidders claiming units at whatever the current price is until they exhaust the available supply. This &#8220;pay-as-bid&#8221; auction format is simple to understand because bidders pay precisely their bids for each unit. It also mitigates gas wars to some degree by spreading out bidding over time &#8212; although we do sometimes see gas wars towards the end of the auction, as bidders try to jump in at whatever seems likely to be the lowest realized price.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EBut there&#8217;s a funny incentive issue in this type of auction, which is that participants have an incentive to wait if they think others aren&#8217;t likely to bid &#8212; since all else equal, bidding later lowers the price you end up paying. \u003Cspan style=\"font-weight: 400;\"\u003EThe waiting often turns a descending pay-as-bid auction into something like a big\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E game of &#8220;\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FChicken_(game)\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Echicken\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E&#8220;,\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E with everyone waiting to see when others will start bidding. This can paradoxically lower the clearing price (and again, result in a gas war when everyone eventually ends up bidding at the same time).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EPeople also often point to fairness as a concern in this sort of auction: a project&#8217;s biggest fans and supporters are the ones most driven to lock in their bids at the early, higher prices &#8212; and this means they may end up paying far more than everyone else. While it may make sense from an economic standpoint for the people who place the highest value on the tokens to pay a premium for certainty that they can win them, it may also go against a community ethos to have the most engaged supporters pay, say, 10 times the auction&#8217;s eventual closing price.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Descending clearing-price auctions\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EBoth the fairness concerns and the gas wars that arise at the end of a descending pay-as-bid auction can be avoided if teams instead run what&#8217;s called a &#8220;clearing-price&#8221; auction (or &#8220;uniform-price&#8221; auction). In this auction mechanism, the price again starts high and descends, with people submitting bids for units at any price along the way. \u003Cspan style=\"font-weight: 400;\"\u003EThe auction ends when the last unit has been claimed, but unlike in the &#8220;pay-as-bid&#8221; auction, here everyone pays the same price per unit at the end: specifically, the “clearing-price”, which is the last (and lowest) price displayed prior to the auction’s termination. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ENote that in a clearing-price auction, while nobody ever pays more than their respective bids, people might in principle end up paying much less than their bids if they bid for units when the price was high, but the final price ends up being low. So for example if a clearing-price auction starts accepting bids at a price of 2 ETH, but then supply is eventually exhausted at a price of .42 ETH, all the bidders end up paying .42 per unit &#8212; even those who bid, say, the initial price of 2. This makes the whose process much easier for bidders, since if for example someone&#8217;s value is 2, they can bid immediately at 2 and not have to worry about getting a worse deal relative to if they had waited and entered the bidding at a lower price later. (This isn&#8217;t quite true when you&#8217;re the only person bidding very close to the clearing price, but in over-subscribed NFT auctions, that&#8217;s not typically an issue.)\u003C\u002Fp\u003E\n\u003Cp\u003EClearing-price auctions in many ways make sense from a market design perspective: In particular, they encourage \u003Ca href=\"http:\u002F\u002Ftimroughgarden.org\u002Fpapers\u002Fjair.pdf\" target=\"_blank\" rel=\"noopener\"\u003Eeconomically efficient outcomes\u003C\u002Fa\u003E, especially when there is a reasonable number of units being sold. But it&#8217;s important to note that running them on blockchains introduces some complexity because bidders effectively have to escrow funds at the moment they bid, and then receive refunds once the final price is determined. The refund function has to be carefully specified, for example to avoid accidentally locking the extra funds in the sale contract.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003E2. Constraining demand\u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EIf a team really wants to conduct a sale at a price below market-clearing levels, then the way to avoid gas wars is to somehow constrain demand in a way that stops buyers from having to compete with each other in order to make their purchases.\u003C\u002Fp\u003E\n\u003Cp\u003EBut this is difficult to do, because it typically requires limiting both who is allowed to purchase \u003Cem\u003Eand\u003C\u002Fem\u003E how many units those prospective buyers are allowed to buy. The total quantity demanded by all qualified buyers needs to be \u003Cem\u003Eless than or equal to\u003C\u002Fem\u003E the available supply. This may be  especially hard to ensure in the crypto space, where maintaining multiple pseudonymous accounts is common.\u003C\u002Fp\u003E\n\u003Cp\u003EStill, there are some options for constraining participation, and we outline three below. Some projects have successfully used these techniques. [Note however that while we have included a section on lotteries solely for educational purposes, there are some questions about the legality of lotteries and “sweepstakes” as mechanisms that narrow the universe of sale participants; so builders should consult with a lawyer before using such mechanisms.]\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Proof of unique personhood\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EOne way to constrain participation is to require some form of &#8220;\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FProof_of_personhood\" target=\"_blank\" rel=\"noopener\"\u003Eproof of personhood\u003C\u002Fa\u003E&#8221; as a condition of entering the sale &#8212; pre-registering buyer accounts in a way that guarantees each one represents a distinct human. This restricts the pool of buyers (or more specifically, buyer wallets) to those who can prove a unique identity, perhaps through a &#8220;know your customer&#8221; (KYC) policy that \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fcrypto-regulations-sanctions-compliance-aml-ofac-news-explained\" target=\"_blank\" rel=\"noopener\"\u003Erequires\u003C\u002Fa\u003E uploading identity documents. If implemented well, this can screen out bot networks, reducing the pool of prospective buyers significantly.\u003C\u002Fp\u003E\n\u003Cp\u003EBut proof of unique personhood on its own isn&#8217;t always enough to achieve market stability and fairness. In practice, people often manage to get around the implied purchasing limit by hiring people to KYC additional wallets. But even when it is possible to truly limit the sale to unique buyers, that still doesn&#8217;t solve the problem if there is simply far more demand than supply.\u003C\u002Fp\u003E\n\u003Cp\u003EAs we emphasized above, as long as demand outstrips supply, market forces are likely to drive up the price. There&#8217;s not a big difference between infinitely many bots standing ready to buy and simply having 20% more registered demand than supply &#8212; in both cases, the incentive to race to the front of the line will lead to a gas war that drives the total price paid per unit toward the market-clearing level. This is often clear to experienced NFT buyers leading up to drops, and blockchain sleuths also often \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0xCrumbs\u002Fstatus\u002F1520559050592817152\" target=\"_blank\" rel=\"noopener\"\u003Ecarefully track\u003C\u002Fa\u003E the total number of approved wallets with this in mind.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Allow-lists\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EAn alternate way to limit participation is to create &#8220;\u003Ca href=\"https:\u002F\u002Fwww.one37pm.com\u002Fnft\u002Fallow-lists-pre-mints\" target=\"_blank\" rel=\"noopener\"\u003Eallow-lists\u003C\u002Fa\u003E&#8221; &#8212; explicitly curating the list of prospective buyers. Many teams offer access to holders of tokens associated to partner projects, or to people who have been particularly active in the community prior to launch. This approach does make it possible to constrain demand below supply, fully mitigating the gas war problem &#8212; at least so long as the project creators don&#8217;t go overboard and let too many people onto the allow-list!\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, this approach doesn&#8217;t escape the issue of market pricing. Indeed, here the price competition just occurs in a different unit: Instead of just paying in currency, prospective buyers pay in part through work &#8212; that is, the effort they put in to hopefully gain a position on the list.\u003C\u002Fp\u003E\n\u003Cp\u003EThis means that allow-list processes can become a grind. But allow-lists nevertheless do create an opportunity for more incentive alignment, in the sense that prospective members of an NFT community undertake activities that grow overall community engagement &#8212; and in the end the opportunity to buy the NFTs goes to those who were most actively involved. And it&#8217;s also the case that allow-lists can be designed in ways that are accessible to people who have time and energy to spend, but less liquid capital.\u003C\u002Fp\u003E\n\u003Cp\u003EYet at the same time, allow-list contests are often &#8220;\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FAll-pay_auction\" target=\"_blank\" rel=\"noopener\"\u003Eall-pay\u003C\u002Fa\u003E&#8221; rather than &#8220;winners pay.&#8221; Unlike in the auctions described above, where only the winners end up paying whatever the price is, in the context of an allow-list, everyone who participates ends up putting in the effort (or acquiring the partner project NFTs) &#8212; irrespective of whether they earn the right to buy the NFT in the end or not. \u003Cspan style=\"font-weight: 400;\"\u003EThis can lead to negative sentiment among those who worked hard but were left out &#8212; and that can be tricky for NFT communities to navigate.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Lotteries \u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOne other way to limit participation (and potentially avoid gas wars) is to allocate purchase opportunities randomly, through a lottery\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E. Here, prospective buyers are offered the opportunity to register for the lottery over a long period &#8212; perhaps a week &#8212; and then at the end, a randomly-selected set of registrants are given the right to purchase the NFT. (Some registrants selected may opt out, which means it might subsequently be necessary to go to a waitlist.)\u003C\u002Fp\u003E\n\u003Cp\u003EThese sorts of mechanisms effectively mitigate gas wars by first spreading out the registration process &#8212; so there&#8217;s no need for all the registration transactions to happen at once &#8212; and then by constraining the number of buyers to exactly match the available supply.\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, just like with allow-lists, market-clearing pricing again comes into play through a form of work: in this case, the effort undertaken to enter the lottery.\u003C\u002Fp\u003E\n\u003Cp\u003EIn a lottery for a highly-demanded anticipated sale, prospective buyers might create large networks of bot registrations. In this case, the lottery can devolve into a competition among high-powered botnets, with ordinary individual buyers effectively unable to secure any positions in the sale.\u003C\u002Fp\u003E\n\u003Cp\u003ELottery participation can be more effectively controlled by using a proof of unique personhood strategy (again, like KYC). Or alternatively, it&#8217;s possible to reduce participants&#8217; ability to create absurdly high numbers of entries by requiring people to escrow a deposit for each entry to the lottery. The escrow approach makes it costly to submit a large number of entries &#8212; but at the same time, buyers with excess liquidity will be more able to enter than others (and still potentially able enter multiple times), limiting the overall accessibility of the sale.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Hybrid mechanisms\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EIt&#8217;s worth noting that many of the mechanisms described above can be used in tandem for a single sale.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor example, the \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjenkinsthevalet\u002Fstatus\u002F1526899757846781953\" target=\"_blank\" rel=\"noopener\"\u003ETally Labs\u003C\u002Fa\u003E&#8216;s [see disclosures below] Jenkins the Valet \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBored &amp; Dangerous\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E mint was conducted through a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjenkinsthevalet\u002Fstatus\u002F1537901300456693762\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethree-phase process\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: First, the team held a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjenkinsthevalet\u002Fstatus\u002F1537901303602434051\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edescending clearing-price auction\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for 2367 units; then, they held an allow-list sale for various members of their existing community at a discount to the final auction clearing price. Finally, holders of the team’s genesis &#8220;Writer&#8217;s Room&#8221; NFT collection were able to claim additional copies of the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBored &amp; Dangerous NFT\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (one per Writer&#8217;s Room NFT) for free.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E*  *  *\u003C\u002Fp\u003E\n\u003Cp\u003EMarket-clearing prices are like gravity: inevitable and inescapable. Anyone building a market mechanism &#8212; whether on a blockchain or not &#8212; has to deal with the forces of supply and demand equilibrium.\u003C\u002Fp\u003E\n\u003Cp\u003EBut at the same time, thinking about market forces and incentive design can help us build the right mechanisms, and shape what the eventual sale equilibrium will be. We’ve seen that a top-level decision is whether to lean into market forces (in which case clearing-price auctions provide a good starting point for a sale); or insist on the more challenging approach of selling at below-market-clearing prices (in which case controlling eligible demand, for example via allow-lists, is necessary but may not be sufficient).\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe design of NFT drops provides yet another example of how hard mechanism design on the blockchain can be… and as the NFT space evolves, we expect to see new mechanisms both guided by and contributing to classic theories of \u003Ca href=\"https:\u002F\u002Fdoi.org\u002F10.1093\u002Foxrep\u002Fgrx063\"\u003Emarket design\u003C\u002Fa\u003E. But with more and more researchers and builders deeply internalizing both classic mechanism design \u003Ci\u003Eand\u003C\u002Fi\u003E the idiosyncrasies of web3, we’re starting to see lots of experimentation around various blockchain-based allocation mechanisms. Progress is inevitable… and we’re excited for what comes next!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E&#8212;\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAcknowledgments: The authors thank \u003Ca href=\"https:\u002F\u002Fwww.chainrunners.xyz\u002F\" target=\"_blank\" rel=\"noopener\"\u003EChain Runners Architects\u003C\u002Fa\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fcdixon\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EChris Dixon\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0xfar\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFar\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fflashrekt\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFlashrekt\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0xfoobar\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFoobar\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Feddylazzarin\"\u003EEddy Lazzarin\u003C\u002Fa\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fseeapefollowape\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESAFA\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FNFTbark\" target=\"_blank\" rel=\"noopener\"\u003ESteve Kaczynski\u003C\u002Fa\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fvaletjones\" target=\"_blank\" rel=\"noopener\"\u003EValet Jones\u003C\u002Fa\u003E, and \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FABigThingBadly\" target=\"_blank\" rel=\"noopener\"\u003EVivek Ravishanker\u003C\u002Fa\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for helpful comments. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESpecial thanks also to our editor, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fsmc90\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESonal Chokshi\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E!\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-2237\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto.jpg\" alt=\"\" width=\"1200\" height=\"675\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDisclosures: See full disclosures for a16z crypto and link to investments below. (Note \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKominers also holds Tally Labs NFTs; for further disclosures, please see \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"http:\u002F\u002Fwww.scottkom.com\u002F\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehis website\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.)\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n",post_title:"NFT Sales: Clearing the Market, Avoiding Gas Wars",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"nft-sales-market-clearing-gas-wars-auction-mechanism-design-for-builders",to_ping:a,pinged:a,post_modified:"2024-09-09 12:23:07",post_modified_gmt:"2024-09-09 19:23:07",post_content_filtered:a,post_parent:b,guid:"http:\u002F\u002Fcrypto.test\u002Fnft-sales-clearing-the-market-avoiding-gas-wars-2\u002F",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:ku,name:fw,slug:"cap-scott-kominers",term_group:b,term_taxonomy_id:ku,taxonomy:z,description:"Scott Duke Kominers Scott Kominers scott-kominers 1284 ",parent:b,count:ca,filter:d},{term_id:dz,name:cF,slug:ki,term_group:b,term_taxonomy_id:dz,taxonomy:z,description:kj,parent:b,count:aq,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:dC,name:em,slug:en,term_group:b,term_taxonomy_id:dC,taxonomy:f,description:a,parent:b,count:kv,filter:d},{term_id:c,name:dN,slug:dO,term_group:b,term_taxonomy_id:c,taxonomy:B,description:a,parent:b,count:dP,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:bQ,name:aD,slug:aD,term_group:b,term_taxonomy_id:bQ,taxonomy:f,description:a,parent:b,count:aM,filter:d},{term_id:dD,name:eE,slug:eF,term_group:b,term_taxonomy_id:dD,taxonomy:f,description:a,parent:b,count:dj,filter:d},{term_id:dE,name:cl,slug:cl,term_group:b,term_taxonomy_id:dE,taxonomy:f,description:a,parent:b,count:cG,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d},{term_id:Z,name:aG,slug:aH,term_group:b,term_taxonomy_id:Z,taxonomy:B,description:a,parent:b,count:aI,filter:d}],acf:{custom_title:a,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEditor’s note: This piece is part of our ongoing series on all things ‘auctions for web3’. For an overview of auction designs, and technical challenges (and opportunities) specific to mechanism design in a permissionless blockchains context, please \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fauction-design-mechanisms-incentives-choices-tradeoffs\" target=\"_blank\" rel=\"noopener\"\u003Echeck out this episode\u003C\u002Fa\u003E.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"size-full wp-image-3967 alignnone\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1.jpg\" alt=\"\" width=\"1068\" height=\"1068\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1-300x300.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1-150x150.jpg 150w\" sizes=\"auto, (max-width: 1068px) 100vw, 1068px\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EA key feature of web3 is \u003Ca href=\"https:\u002F\u002Ffuture.a16z.com\u002Fnfts-thousand-true-fans\u002F\" target=\"_blank\" rel=\"noopener\"\u003Eenabling\u003C\u002Fa\u003E early fans of a creator, product, or platform to form a community through ownership of associated \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fcdixon\u002Fstatus\u002F1440026947036356619\" target=\"_blank\" rel=\"noopener\"\u003Etokens\u003C\u002Fa\u003E on a blockchain. When it comes to non-fungible tokens or \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Ftag\u002Fnfts\u002F\" target=\"_blank\" rel=\"noopener\"\u003ENFTs\u003C\u002Fa\u003E — which uniquely represent ownership of media such as code, digital art, characters, memes, music, text, videos, games, \u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fmetaverse-real-estate-digital-land-value-to-users\u002F\" target=\"_blank\" rel=\"noopener\"\u003Evirtual real estate\u003C\u002Fa\u003E, and much more — creators often build significant anticipation and engagement before their initial sales. This can contribute to community-building among early collectors, which can sometimes in turn \u003Ca href=\"https:\u002F\u002Fhbr.org\u002F2022\u002F05\u002Fwhy-build-in-web3\" target=\"_blank\" rel=\"noopener\"\u003Egrow the value\u003C\u002Fa\u003E of holding the token.\u003C\u002Fp\u003E\n\u003Cp\u003EInstead of letting the market decide the price for their primary sale offerings, however, many NFT projects choose to initially sell their NFTs at prices \u003Cem\u003Ebelow\u003C\u002Fem\u003E the market-clearing level. Sometimes this is because the team doesn&#8217;t realize the sheer demand for their offering, or because they designed their initial sale mechanism poorly. Often, however, selling NFTs at below-market-clearing prices comes out of a direct desire to make the sale accessible to more people or to achieve specific \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=X9Y12Pri_dI\" target=\"_blank\" rel=\"noopener\"\u003Edistributional\u003C\u002Fa\u003E goals.\u003C\u002Fp\u003E\n\u003Cp\u003EBut what happens when market designers \u003Ca href=\"https:\u002F\u002Fwww.econometricsociety.org\u002Fpublications\u002Feconometrica\u002F2021\u002F07\u002F01\u002Fredistribution-through-markets\" target=\"_blank\" rel=\"noopener\"\u003Etrade off\u003C\u002Fa\u003E \u003Cem\u003Eefficiency for equity \u003C\u002Fem\u003E(here we mean “equity” as in the fairness of the marketplace and market-clearing mechanisms); or when \u003Cem\u003Edemand far outstrips supply, \u003C\u002Fem\u003Eas is often the case with high-demand NFT launches and drops?\u003C\u002Fp\u003E\n\u003Cp\u003EWhen people want to purchase scarce resources in a market, this inevitably leads to competition among prospective buyers along other dimensions. In the Ethereum ecosystem, that competition can produce so-called “gas wars” that escalate when prospective buyers bid the gas price upwards as they compete to be first in line for the sale. So how can builders avoid this? And more broadly, how can builders address market demand if they really do want to offer their NFTs at a below-market-clearing price? Here, we offer some guidance for builders  from our vantage point of auction theory and mechanism design in practice &#8212; especially in the unique \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fauction-design-mechanisms-incentives-choices-tradeoffs\" target=\"_blank\" rel=\"noopener\"\u003Econtext of blockchains\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003E[toc-embed]But first, some background: On market-clearing prices; on trading off efficiency \u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EWhen there are high-demand launches or limits on purchasing, buyer demand can far outstrip supply. Market pressure then drives the price towards the level at which demand and supply match up (or equalize) &#8212; that is, the “\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMarket_clearing\" target=\"_blank\" rel=\"noopener\"\u003Emarket-clearing price\u003C\u002Fa\u003E”. This inevitable drive towards prices at which supply and demand meet is one of the most core \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=ulyVXa-u4wE\" target=\"_blank\" rel=\"noopener\"\u003Eprinciples of economics\u003C\u002Fa\u003E. Even when the “pricing” is somewhat hidden – for example, competition over gas fees &#8212; in the end, market forces make it so that some form of payment ends up helping supply and demand match up.\u003C\u002Fp\u003E\n\u003Cp\u003EImplementing price controls, for example, typically leads to competition over access — long lines, more time spent seeking purchase opportunities, or other costs. This has famously happened in non-blockchain contexts, such as with rent control and price ceilings on (literal) \u003Ca href=\"https:\u002F\u002Fwww.washingtonpost.com\u002Fhistory\u002F2021\u002F05\u002F13\u002Fgas-shortages-1970s\u002F\" target=\"_blank\" rel=\"noopener\"\u003Egasoline\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ESimilarly, as described above, “gas wars” on Ethereum are a market equilibrium phenomenon: They arise directly through market forces, in response to constrained supply. (“Gas” in this context is the amount of computational effort required to execute specific operations on the network.) More specifically, gas wars occur during NFT mints when buyers try to jump ahead of each other in line, which causes a sudden spike in the immediate demand for blockspace; that in turn drives up gas prices, and leads to ever-higher transaction fees.\u003C\u002Fp\u003E\n\u003Cp\u003EOne common misconception that often comes up in discussions about avoiding gas wars is the need to optimize the smart contract running the sale. While that’s certainly good to do for other reasons, such as user accessibility, more gas-efficient smart contracts can&#8217;t on their own prevent gas wars, which arise through market forces. And paradoxically, if the contract is better optimized, gas prices will need to go even \u003Cem\u003Ehigher\u003C\u002Fem\u003E to achieve the same effective price. (Although optimized contracts do at least have more sales per block, which makes the whole process &#8212; including the gas wars &#8212; end more quickly.)\u003C\u002Fp\u003E\n\u003Cp\u003EEthereum co-founder Vitalik Buterin pointed this out as well \u003Ca href=\"https:\u002F\u002Fvitalik.ca\u002Fgeneral\u002F2021\u002F08\u002F22\u002Fprices.html\" target=\"_blank\" rel=\"noopener\"\u003Ein a post last year\u003C\u002Fa\u003E on market-clearing prices in the context of NFT drops (and the erstwhile phenomenon of ICOs), and the negative externalities that result. In the piece, Buterin also suggested alternatives to selling below market-clearing prices &#8212; whether the goal for doing so is to achieve fairness, or community sentiment, or fun.\u003C\u002Fp\u003E\n\u003Cp\u003EOn a related note: One of the authors of this post (Scott) also recently presented work with \u003Ca href=\"http:\u002F\u002Fweb.stanford.edu\u002F~mohamwad\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMohammad Akbarpour\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fsites.northwestern.edu\u002Fdworczak\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPiotr Dworczak\u003C\u002Fspan\u003E\u003C\u002Fa\u003E on ”\u003Ca href=\"https:\u002F\u002Fpapers.ssrn.com\u002Fsol3\u002Fpapers.cfm?abstract_id=3609182\" target=\"_blank\" rel=\"noopener\"\u003Eredistributive allocation mechanisms\u003C\u002Fa\u003E” — a theory for how marketplace designers can think about the tradeoffs between efficiency and “equity” or redistributive concerns, and how the same approaches for designing revenue-maximizing auctions and efficient allocation mechanisms can be applied when there are market-level redistributive goals. In non-blockchain contexts, this work has implications for policy problems such as in-kind transfer programs for \u003Ca href=\"https:\u002F\u002Fwww.bloomberg.com\u002Fopinion\u002Farticles\u002F2020-01-27\u002Ffood-stamp-work-requirements-just-look-cruel\" target=\"_blank\" rel=\"noopener\"\u003Efood\u003C\u002Fa\u003E and healthcare, as well as \u003Ca href=\"https:\u002F\u002Fssrn.com\u002Fabstract=3846931\" target=\"_blank\" rel=\"noopener\"\u003Evaccine allocation\u003C\u002Fa\u003E; in crypto, it has applications for organizing NFT sales, DAO token governance distribution, and more. (You can \u003Ca href=\"https:\u002F\u002Fyoutu.be\u002FX9Y12Pri_dI\" target=\"_blank\" rel=\"noopener\"\u003Ewatch a video\u003C\u002Fa\u003E about this work here.)\u003C\u002Fp\u003E\n\u003Cp\u003ENow, with that general context, let’s talk more specifically about the tradeoffs between efficiency and other goals in market design for NFT sales. First, we discuss auction designs that lean into market forces in order to efficiently clear the market. We then follow with a section on what to do when NFT projects or creators may still want to hold primary sales at below market-clearing prices, and how they might manage demand if so.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003E1. Clearing the market\u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EPerhaps the easiest strategy to avoid gas wars is to lean into market forces, and run the NFT sale in a way that clears the market. \u003Cspan style=\"font-weight: 400;\"\u003EHere, for example, are two auction mechanisms that can achieve that, and are currently used in NFT sales.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Descending pay-as-bid auctions \u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOne option is to run a descending auction, in which a sale starts at a very high price, which then slowly descends, with bidders claiming units at whatever the current price is until they exhaust the available supply. This &#8220;pay-as-bid&#8221; auction format is simple to understand because bidders pay precisely their bids for each unit. It also mitigates gas wars to some degree by spreading out bidding over time &#8212; although we do sometimes see gas wars towards the end of the auction, as bidders try to jump in at whatever seems likely to be the lowest realized price.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EBut there&#8217;s a funny incentive issue in this type of auction, which is that participants have an incentive to wait if they think others aren&#8217;t likely to bid &#8212; since all else equal, bidding later lowers the price you end up paying. \u003Cspan style=\"font-weight: 400;\"\u003EThe waiting often turns a descending pay-as-bid auction into something like a big\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E game of &#8220;\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FChicken_(game)\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Echicken\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E&#8220;,\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E with everyone waiting to see when others will start bidding. This can paradoxically lower the clearing price (and again, result in a gas war when everyone eventually ends up bidding at the same time).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EPeople also often point to fairness as a concern in this sort of auction: a project&#8217;s biggest fans and supporters are the ones most driven to lock in their bids at the early, higher prices &#8212; and this means they may end up paying far more than everyone else. While it may make sense from an economic standpoint for the people who place the highest value on the tokens to pay a premium for certainty that they can win them, it may also go against a community ethos to have the most engaged supporters pay, say, 10 times the auction&#8217;s eventual closing price.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Descending clearing-price auctions\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EBoth the fairness concerns and the gas wars that arise at the end of a descending pay-as-bid auction can be avoided if teams instead run what&#8217;s called a &#8220;clearing-price&#8221; auction (or &#8220;uniform-price&#8221; auction). In this auction mechanism, the price again starts high and descends, with people submitting bids for units at any price along the way. \u003Cspan style=\"font-weight: 400;\"\u003EThe auction ends when the last unit has been claimed, but unlike in the &#8220;pay-as-bid&#8221; auction, here everyone pays the same price per unit at the end: specifically, the “clearing-price”, which is the last (and lowest) price displayed prior to the auction’s termination. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ENote that in a clearing-price auction, while nobody ever pays more than their respective bids, people might in principle end up paying much less than their bids if they bid for units when the price was high, but the final price ends up being low. So for example if a clearing-price auction starts accepting bids at a price of 2 ETH, but then supply is eventually exhausted at a price of .42 ETH, all the bidders end up paying .42 per unit &#8212; even those who bid, say, the initial price of 2. This makes the whose process much easier for bidders, since if for example someone&#8217;s value is 2, they can bid immediately at 2 and not have to worry about getting a worse deal relative to if they had waited and entered the bidding at a lower price later. (This isn&#8217;t quite true when you&#8217;re the only person bidding very close to the clearing price, but in over-subscribed NFT auctions, that&#8217;s not typically an issue.)\u003C\u002Fp\u003E\n\u003Cp\u003EClearing-price auctions in many ways make sense from a market design perspective: In particular, they encourage \u003Ca href=\"http:\u002F\u002Ftimroughgarden.org\u002Fpapers\u002Fjair.pdf\" target=\"_blank\" rel=\"noopener\"\u003Eeconomically efficient outcomes\u003C\u002Fa\u003E, especially when there is a reasonable number of units being sold. But it&#8217;s important to note that running them on blockchains introduces some complexity because bidders effectively have to escrow funds at the moment they bid, and then receive refunds once the final price is determined. The refund function has to be carefully specified, for example to avoid accidentally locking the extra funds in the sale contract.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003E2. Constraining demand\u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EIf a team really wants to conduct a sale at a price below market-clearing levels, then the way to avoid gas wars is to somehow constrain demand in a way that stops buyers from having to compete with each other in order to make their purchases.\u003C\u002Fp\u003E\n\u003Cp\u003EBut this is difficult to do, because it typically requires limiting both who is allowed to purchase \u003Cem\u003Eand\u003C\u002Fem\u003E how many units those prospective buyers are allowed to buy. The total quantity demanded by all qualified buyers needs to be \u003Cem\u003Eless than or equal to\u003C\u002Fem\u003E the available supply. This may be  especially hard to ensure in the crypto space, where maintaining multiple pseudonymous accounts is common.\u003C\u002Fp\u003E\n\u003Cp\u003EStill, there are some options for constraining participation, and we outline three below. Some projects have successfully used these techniques. [Note however that while we have included a section on lotteries solely for educational purposes, there are some questions about the legality of lotteries and “sweepstakes” as mechanisms that narrow the universe of sale participants; so builders should consult with a lawyer before using such mechanisms.]\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Proof of unique personhood\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EOne way to constrain participation is to require some form of &#8220;\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FProof_of_personhood\" target=\"_blank\" rel=\"noopener\"\u003Eproof of personhood\u003C\u002Fa\u003E&#8221; as a condition of entering the sale &#8212; pre-registering buyer accounts in a way that guarantees each one represents a distinct human. This restricts the pool of buyers (or more specifically, buyer wallets) to those who can prove a unique identity, perhaps through a &#8220;know your customer&#8221; (KYC) policy that \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fcrypto-regulations-sanctions-compliance-aml-ofac-news-explained\" target=\"_blank\" rel=\"noopener\"\u003Erequires\u003C\u002Fa\u003E uploading identity documents. If implemented well, this can screen out bot networks, reducing the pool of prospective buyers significantly.\u003C\u002Fp\u003E\n\u003Cp\u003EBut proof of unique personhood on its own isn&#8217;t always enough to achieve market stability and fairness. In practice, people often manage to get around the implied purchasing limit by hiring people to KYC additional wallets. But even when it is possible to truly limit the sale to unique buyers, that still doesn&#8217;t solve the problem if there is simply far more demand than supply.\u003C\u002Fp\u003E\n\u003Cp\u003EAs we emphasized above, as long as demand outstrips supply, market forces are likely to drive up the price. There&#8217;s not a big difference between infinitely many bots standing ready to buy and simply having 20% more registered demand than supply &#8212; in both cases, the incentive to race to the front of the line will lead to a gas war that drives the total price paid per unit toward the market-clearing level. This is often clear to experienced NFT buyers leading up to drops, and blockchain sleuths also often \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0xCrumbs\u002Fstatus\u002F1520559050592817152\" target=\"_blank\" rel=\"noopener\"\u003Ecarefully track\u003C\u002Fa\u003E the total number of approved wallets with this in mind.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Allow-lists\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EAn alternate way to limit participation is to create &#8220;\u003Ca href=\"https:\u002F\u002Fwww.one37pm.com\u002Fnft\u002Fallow-lists-pre-mints\" target=\"_blank\" rel=\"noopener\"\u003Eallow-lists\u003C\u002Fa\u003E&#8221; &#8212; explicitly curating the list of prospective buyers. Many teams offer access to holders of tokens associated to partner projects, or to people who have been particularly active in the community prior to launch. This approach does make it possible to constrain demand below supply, fully mitigating the gas war problem &#8212; at least so long as the project creators don&#8217;t go overboard and let too many people onto the allow-list!\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, this approach doesn&#8217;t escape the issue of market pricing. Indeed, here the price competition just occurs in a different unit: Instead of just paying in currency, prospective buyers pay in part through work &#8212; that is, the effort they put in to hopefully gain a position on the list.\u003C\u002Fp\u003E\n\u003Cp\u003EThis means that allow-list processes can become a grind. But allow-lists nevertheless do create an opportunity for more incentive alignment, in the sense that prospective members of an NFT community undertake activities that grow overall community engagement &#8212; and in the end the opportunity to buy the NFTs goes to those who were most actively involved. And it&#8217;s also the case that allow-lists can be designed in ways that are accessible to people who have time and energy to spend, but less liquid capital.\u003C\u002Fp\u003E\n\u003Cp\u003EYet at the same time, allow-list contests are often &#8220;\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FAll-pay_auction\" target=\"_blank\" rel=\"noopener\"\u003Eall-pay\u003C\u002Fa\u003E&#8221; rather than &#8220;winners pay.&#8221; Unlike in the auctions described above, where only the winners end up paying whatever the price is, in the context of an allow-list, everyone who participates ends up putting in the effort (or acquiring the partner project NFTs) &#8212; irrespective of whether they earn the right to buy the NFT in the end or not. \u003Cspan style=\"font-weight: 400;\"\u003EThis can lead to negative sentiment among those who worked hard but were left out &#8212; and that can be tricky for NFT communities to navigate.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Lotteries \u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOne other way to limit participation (and potentially avoid gas wars) is to allocate purchase opportunities randomly, through a lottery\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EHere, prospective buyers are offered the opportunity to register for the lottery over a long period &#8212; perhaps a week &#8212; and then at the end, a randomly-selected set of registrants are given the right to purchase the NFT. (Some registrants selected may opt out, which means it might subsequently be necessary to go to a waitlist.)\u003C\u002Fp\u003E\n\u003Cp\u003EThese sorts of mechanisms effectively mitigate gas wars by first spreading out the registration process &#8212; so there&#8217;s no need for all the registration transactions to happen at once &#8212; and then by constraining the number of buyers to exactly match the available supply.\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, just like with allow-lists, market-clearing pricing again comes into play through a form of work: in this case, the effort undertaken to enter the lottery.\u003C\u002Fp\u003E\n\u003Cp\u003EIn a lottery for a highly-demanded anticipated sale, prospective buyers might create large networks of bot registrations. In this case, the lottery can devolve into a competition among high-powered botnets, with ordinary individual buyers effectively unable to secure any positions in the sale.\u003C\u002Fp\u003E\n\u003Cp\u003ELottery participation can be more effectively controlled by using a proof of unique personhood strategy (again, like KYC). Or alternatively, it&#8217;s possible to reduce participants&#8217; ability to create absurdly high numbers of entries by requiring people to escrow a deposit for each entry to the lottery. The escrow approach makes it costly to submit a large number of entries &#8212; but at the same time, buyers with excess liquidity will be more able to enter than others (and still potentially able enter multiple times), limiting the overall accessibility of the sale.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Hybrid mechanisms\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EIt&#8217;s worth noting that many of the mechanisms described above can be used in tandem for a single sale.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor example, the \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjenkinsthevalet\u002Fstatus\u002F1526899757846781953\" target=\"_blank\" rel=\"noopener\"\u003ETally Labs\u003C\u002Fa\u003E&#8216;s [see disclosures below] Jenkins the Valet \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBored &amp; Dangerous\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E mint was conducted through a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjenkinsthevalet\u002Fstatus\u002F1537901300456693762\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethree-phase process\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: First, the team held a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjenkinsthevalet\u002Fstatus\u002F1537901303602434051\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edescending clearing-price auction\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for 2367 units; then, they held an allow-list sale for various members of their existing community at a discount to the final auction clearing price. Finally, holders of the team’s genesis &#8220;Writer&#8217;s Room&#8221; NFT collection were able to claim additional copies of the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBored &amp; Dangerous NFT\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (one per Writer&#8217;s Room NFT) for free.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E*  *  *\u003C\u002Fp\u003E\n\u003Cp\u003EMarket-clearing prices are like gravity: inevitable and inescapable. Anyone building a market mechanism &#8212; whether on a blockchain or not &#8212; has to deal with the forces of supply and demand equilibrium.\u003C\u002Fp\u003E\n\u003Cp\u003EBut at the same time, thinking about market forces and incentive design can help us build the right mechanisms, and shape what the eventual sale equilibrium will be. We’ve seen that a top-level decision is whether to lean into market forces (in which case clearing-price auctions provide a good starting point for a sale); or insist on the more challenging approach of selling at below-market-clearing prices (in which case controlling eligible demand, for example via allow-lists, is necessary but may not be sufficient).\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe design of NFT drops provides yet another example of how hard mechanism design on the blockchain can be… and as the NFT space evolves, we expect to see new mechanisms both guided by and contributing to classic theories of \u003Ca href=\"https:\u002F\u002Fdoi.org\u002F10.1093\u002Foxrep\u002Fgrx063\"\u003Emarket design\u003C\u002Fa\u003E. But with more and more researchers and builders deeply internalizing both classic mechanism design \u003Ci\u003Eand\u003C\u002Fi\u003E the idiosyncrasies of web3, we’re starting to see lots of experimentation around various blockchain-based allocation mechanisms. Progress is inevitable… and we’re excited for what comes next!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E&#8212;\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAcknowledgments: The authors thank \u003Ca href=\"https:\u002F\u002Fwww.chainrunners.xyz\u002F\" target=\"_blank\" rel=\"noopener\"\u003EChain Runners Architects\u003C\u002Fa\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fcdixon\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EChris Dixon\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0xfar\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFar\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fflashrekt\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFlashrekt\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0xfoobar\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFoobar\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Feddylazzarin\"\u003EEddy Lazzarin\u003C\u002Fa\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fseeapefollowape\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESAFA\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FNFTbark\" target=\"_blank\" rel=\"noopener\"\u003ESteve Kaczynski\u003C\u002Fa\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fvaletjones\" target=\"_blank\" rel=\"noopener\"\u003EValet Jones\u003C\u002Fa\u003E, and \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FABigThingBadly\" target=\"_blank\" rel=\"noopener\"\u003EVivek Ravishanker\u003C\u002Fa\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for helpful comments. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESpecial thanks also to our editor, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fsmc90\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESonal Chokshi\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E!\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"size-full wp-image-2237 alignnone\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto.jpg\" alt=\"\" width=\"1200\" height=\"675\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDisclosures: See full disclosures for a16z crypto and link to investments below. (Note \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKominers also holds Tally Labs NFTs; for further disclosures, please see \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"http:\u002F\u002Fwww.scottkom.com\u002F\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehis website\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.)\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cstrong\u003E***\u003C\u002Fstrong\u003E\u003Cbr \u002F\u003E\nThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fa\u003E for additional important information\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n"}],redirect_author_links_to_the_post:h,related_posts:N,post_redirector:h,format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},disclosure_relation:h},tags:[{term_id:dC,name:em,slug:en,term_group:b,term_taxonomy_id:dC,taxonomy:f,description:a,parent:b,count:kv,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:bQ,name:aD,slug:aD,term_group:b,term_taxonomy_id:bQ,taxonomy:f,description:a,parent:b,count:aM,filter:d},{term_id:dD,name:eE,slug:eF,term_group:b,term_taxonomy_id:dD,taxonomy:f,description:a,parent:b,count:dj,filter:d},{term_id:dE,name:cl,slug:cl,term_group:b,term_taxonomy_id:dE,taxonomy:f,description:a,parent:b,count:cG,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"1024\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-1024x1024.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-1024x1024.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-300x300.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-150x150.jpg 150w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw.jpg 1080w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-150x150.jpg 150w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-300x300.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-1024x1024.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw.jpg 1080w\" sizes=\"auto, (max-width: 150px) 100vw, 150px\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-150x150.jpg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-300x300.jpg",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-1024x1024.jpg",width:aj}],authors:[{ID:"1284",display_name:"Scott Duke Kominers",first_name:iE,last_name:"Kominers",user_login:fw,user_email:a,linked_account:a,website:"http:\u002F\u002Fscottkom.com",description:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EScott is a Research Partner at a16z crypto, focusing on market and incentive design, game theory, tokenomics, platform strategy, and consumer applications. He is also a Professor of Business Administration in the Entrepreneurial Management Unit at Harvard Business School, and a Faculty Affiliate of the Harvard Department of Economics, where he teaches on marketplaces and web3.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EScott advises companies engaged in marketplace development and design, as well as a number of web3 projects. He is also involved in a number of NFT communities. His research has been supported by the National Science Foundation, the Star Family Fund, the Washington Center for Equitable Growth, and the Oxford Martin School, among others; and he received the AMS-MAA-SIAM Frank and Brennie Morgan Prize in 2010, was named a Kavli Frontiers of Science Fellow in 2015, and won the Star Family Prize for Excellence in Advising in 2016, and a Webby Award in 2018.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EScott completed his PhD in Business Economics at Harvard University in Spring 2011. Outside of his day jobs, Scott is an avid puzzle creator and solver, and also performs math rap.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n",user_nicename:fw,type:A,nickname:a},{ID:km,display_name:kn,first_name:ko,last_name:kp,user_login:cF,user_email:a,linked_account:a,website:a,description:kq,user_nicename:cF,type:A,nickname:a}],meta_desc:fx,seo:{title_tag:kw,meta_description:fx,canonical:kx,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:kw,open_graph_description:fx,open_graph_url:kx,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2022/09/nftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw.jpg":{width:bN,height:bN,filesize:703787,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw.jpg",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw.jpg",size:an,id:4107,alt:a,pixels:jN,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:fi,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2022-09-10T00:00:00+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:3000,post_author:cR,post_date:ky,post_date_gmt:ky,post_content:"\u003Cp\u003EThe trusted setup ceremony is one of the pains – and excitements – of crypto communities. The goal of a ceremony is to generate trustworthy cryptographic keys for securing crypto wallets, blockchain protocols, or zero-knowledge proof systems. These (sometimes flamboyant) procedures are frequently the root of trust for a given project’s security, and they are therefore extremely important to get right.\u003C\u002Fp\u003E\n\u003Cp\u003EBlockchain projects run ceremonies in numerous creative ways – involving blowtorches, radioactive dust, and airplanes – but all share something in common: they all involve a centralized coordinator. With this work we demonstrate how to decentralize the process by replacing the centralized coordinator with a smart contract. In addition, we’re open-sourcing a library that allows anyone to run such a ceremony – known to crypto practitioners as a \u003Ca href=\"https:\u002F\u002Fwww.iacr.org\u002Farchive\u002Fasiacrypt2010\u002F6477178\u002F6477178.pdf\" target=\"_blank\" rel=\"noopener\"\u003EKate-Zaverucha-Goldberg (KZG)\u003C\u002Fa\u003Eor “powers-of-tau” ceremony – on the Ethereum chain. Anyone can participate simply by paying the transaction fees!\u003C\u002Fp\u003E\n\u003Cp\u003EOur decentralized approach has limitations, but it’s still useful. Due to current on-chain data constraints, the size of the cryptographic parameters has to be kept short, i.e. no more than 64 KB. But the number of participants has no cap and people can keep submitting contributions in perpetuity. Applications for these short parameters include small zero-knowledge SNARKs, \u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fabs\u002F1809.09044\" target=\"_blank\" rel=\"noopener\"\u003Edata-availability sampling\u003C\u002Fa\u003E, and \u003Ca href=\"https:\u002F\u002Fmath.mit.edu\u002Fresearch\u002Fhighschool\u002Fprimes\u002Fmaterials\u002F2018\u002FKuszmaul.pdf\" target=\"_blank\" rel=\"noopener\"\u003EVerkle trees\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]History and mechanics of the trusted setup ceremony\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EIn a typical trusted setup ceremony, a group of participants will collaboratively generate a set of cryptographic parameters. Each participating party uses secret information, generated locally, to generate data that helps create these parameters. Proper setups ensure secrets do not leak, that secrets are only used as designated by the protocol, and that these secrets are completely destroyed at the end of the ceremony. As long as at least one party in the ceremony behaves honestly, is not compromised, and destroys its local secret, the entire setup can be considered secure. (Of course, that is assuming the math is correct and the code has no bugs.)\u003C\u002Fp\u003E\n\u003Cp\u003ESome of the most prominent ceremonies were \u003Ca href=\"https:\u002F\u002Fz.cash\u002Ftechnology\u002Fparamgen\u002F\" target=\"_blank\" rel=\"noopener\"\u003Erun by Zcash\u003C\u002Fa\u003E, a privacy-oriented blockchain project. Participants in these ceremonies generated public parameters designed to allow Zcash users to construct and verify private crypto transactions. Six participants carried out the first Zcash ceremony, Sprout, in 2016. Two years later, crypto researcher Ariel Gabizon, now a Chief Scientist at \u003Ca href=\"https:\u002F\u002Faztec.network\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAztec\u003C\u002Fa\u003E, found \u003Ca href=\"https:\u002F\u002Felectriccoin.co\u002Fblog\u002Fzcash-counterfeiting-vulnerability-successfully-remediated\u002F\" target=\"_blank\" rel=\"noopener\"\u003Ea devastating bug\u003C\u002Fa\u003E in the design of the ceremony which was inherited from a \u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2013\u002F879\" target=\"_blank\" rel=\"noopener\"\u003Efoundational research paper\u003C\u002Fa\u003E. The vulnerability could have enabled attackers to create unlimited Zcash coins without being detected. The Zcash team kept the vulnerability secret for seven months until a system upgrade, Sapling, whose ceremony involved 90 participants, addressed the issue. While an attack based on the security hole would not have affected the privacy of users’ transactions, the prospect of infinite counterfeiting undermined Zcash’s security premise. (It&#8217;s theoretically impossible to know whether an attack took place.)\u003C\u002Fp\u003E\n\u003Cp\u003EAnother notable example of a trusted setup is the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\" target=\"_blank\" rel=\"noopener\"\u003Eperpetual “powers-of-tau” ceremony\u003C\u002Fa\u003E designed primarily for \u003Ca href=\"https:\u002F\u002Fmedium.com\u002Fcoinmonks\u002Fto-mixers-and-beyond-presenting-semaphore-a-privacy-gadget-built-on-ethereum-4c8b00857c9b\" target=\"_blank\" rel=\"noopener\"\u003ESemaphore\u003C\u002Fa\u003E, a privacy preserving technology for anonymous signaling on Ethereum. The setup used a BN254 elliptic curve and has had 71 participants so far. Other prominent projects later used this setup to run their own ceremonies on top, including \u003Ca href=\"https:\u002F\u002Ftornado-cash.medium.com\u002Ftornado-cash-trusted-setup-ceremony-b846e1e00be1\" target=\"_blank\" rel=\"noopener\"\u003ETornado.Cash\u003C\u002Fa\u003E (recently sanctioned by the U.S. government), \u003Ca href=\"https:\u002F\u002Fblog.hermez.io\u002Fhermez-zero-knowledge-proofs\u002F\" target=\"_blank\" rel=\"noopener\"\u003EHermez\u003C\u002Fa\u003E network, and \u003Ca href=\"https:\u002F\u002Fmedium.loopring.io\u002Floopring-starts-zksnark-trusted-setup-multi-party-computation-ceremony-6582874f7a5b\" target=\"_blank\" rel=\"noopener\"\u003ELoopring\u003C\u002Fa\u003E. \u003Ca href=\"https:\u002F\u002Fdocs.zksync.io\u002Fuserdocs\u002Fsecurity\u002F#universal-crs-setup\" target=\"_blank\" rel=\"noopener\"\u003EAztec\u003C\u002Fa\u003E coordinated a similar ceremony on a BN254 curve to create a universal common reference string (\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FCommon_reference_string_model\" target=\"_blank\" rel=\"noopener\"\u003ECRS\u003C\u002Fa\u003E) for use by \u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2019\u002F953.pdf\" target=\"_blank\" rel=\"noopener\"\u003EPLONK zk-snarks\u003C\u002Fa\u003E. zkSync, a “layer two” Ethereum scaling solution, participated in the ceremony and uses this CRS to underpin the security of their zero knowledge rollup. \u003Ca href=\"https:\u002F\u002Ffilecoin.io\u002Fblog\u002Fposts\u002Ftrusted-setup-complete\u002F\" target=\"_blank\" rel=\"noopener\"\u003EFilecoin\u003C\u002Fa\u003E, a decentralized data storage protocol, ran a ceremony with 19 and 33 participants, in first and second phase respectively, forking the original repo. \u003Ca href=\"https:\u002F\u002Fcelo.org\u002Fplumo\" target=\"_blank\" rel=\"noopener\"\u003ECelo\u003C\u002Fa\u003E, a layer-1 blockchain, ran a ceremony for their light-client Plumo too.\u003C\u002Fp\u003E\n\u003Cp\u003EPerpetual ceremonies have no limit to the number of participants. In other words, instead of trusting other people to run a trusted setup ceremony, ANYONE can participate to whatever degree of security meets their satisfaction. A single trustworthy participant ensures the security of all of the resulting parameters; the chain is as strong as its strongest link. Perpetual ceremonies may run, as the name implies, in perpetuity, as was the premise with the original powers-of-tau ceremony. That said, projects often decide on a concrete beginning and end time for their ceremonies, that way they can embed the resulting parameters into their protocols and don’t have to worry about continually updating them.\u003C\u002Fp\u003E\n\u003Cp\u003EEthereum plans to run a smaller trusted setup ceremony for upcoming \u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4844\" target=\"_blank\" rel=\"noopener\"\u003EProtoDankSharding\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@dankrad\u002Fnew_sharding\" target=\"_blank\" rel=\"noopener\"\u003EDankSharding\u003C\u002Fa\u003E upgrades. Those two upgrades will increase the amount of data that the Ethereum chain provides to clients for storage. This data will have an expiry of suggested \u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4844\" target=\"_blank\" rel=\"noopener\"\u003E30-to-60 days\u003C\u002Fa\u003E. The ceremony is \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fplaylist?list=PL4cwHXAawZxpE60NSuTiQbnUbJxOBBHhN\" target=\"_blank\" rel=\"noopener\"\u003Eunder active development\u003C\u002Fa\u003E, and is \u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@CarlBeek\u002Fkzg_ceremony_timelines\" target=\"_blank\" rel=\"noopener\"\u003Eplanned\u003C\u002Fa\u003E to run for six weeks early next year. (See \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fkzg-ceremony-specs\u002F\" target=\"_blank\" rel=\"noopener\"\u003Ekzg-ceremony-specs\u003C\u002Fa\u003E for more details.) It’s shaping up to be the largest trusted setup ceremony for blockchains run so far.\u003C\u002Fp\u003E\n\u003Cp\u003EParanoia is a virtue when it comes to trusted setup ceremonies. If a machine’s hardware or software is compromised, that can undermine the security of the secrets it generates. Sneaky side channel attacks which leak secrets can also be difficult to rule out. A phone can spy on a computer’s operations by \u003Ca href=\"https:\u002F\u002Fspectrum.ieee.org\u002Fthe-crazy-security-behind-the-birth-of-zcash\" target=\"_blank\" rel=\"noopener\"\u003Erecording sound waves\u003C\u002Fa\u003E of CPU vibrations, for example. In practice, since it is immensely hard to eliminate all possible side channel attacks – including those still to be discovered or disclosed – there are even proposals to fly machines to space to conduct \u003Ca href=\"https:\u002F\u002Fcointelegraph.com\u002Fmagazine\u002F2020\u002F12\u002F22\u002Fmoon-man-mission-to-blast-crypto-satellite-into-orbit\" target=\"_blank\" rel=\"noopener\"\u003Eceremonies there\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFor now, the playbook for serious ceremony participants typically goes as follows. Buy a new machine (untainted hardware). Air-gap it by removing all the network cards (to prevent local secrets from leaving the machine). Run the machine in a Faraday cage at a remote undisclosed location (to foil would-be snoopers). Seed the pseudo-random secret generator with lots of entropy and hard-replicate data such as random key-strokes or video files (to make the secrets hard to crack). And finally, destroy the machine – along with any traces of the secrets – by burning everything to ashes. 😀\u003C\u002Fp\u003E\n\u003Ch2\u003E[toc-embed]Coordinating trusted setup ceremonies\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EHere is a fun selection of quotes from some previous trusted setup ceremony participants:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E&#8230;the blowtorch was used to methodically heat the electronics completely piece by piece until everything was blackened…\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fpetertodd.org\u002F2016\u002Fcypherpunk-desert-bus-zcash-trusted-setup-ceremony\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPeter Todd\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on physically destroying the local secrets.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cem\u003E“I have here a piece of fabric that has graphite dust [from] the core of the [Chernobyl] reactor… You count every four pulses [from a Geiger counter hooked up to a microcontroller] and you compare the time interval between pulse one and two and the time interval between pulse three and four and if it’s greater you get a zero, if it’s less you get a one.” “&#8230;we are about to get in this airplane and generate our random numbers…”\u003C\u002Fem\u003E \u003Cspan style=\"font-weight: 400;\"\u003E—\u003C\u002Fspan\u003E \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=I4cDAqeEmpU\" target=\"_blank\" rel=\"noopener\"\u003ERyan Pierce and Andrew Miller\u003C\u002Fa\u003E on secret generation.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdiv id=\"attachment_2161\" style=\"width: 1176px\" class=\"wp-caption alignnone\"\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" aria-describedby=\"caption-attachment-2161\" class=\"size-full wp-image-2161\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-4.02.05-PM.png\" alt=\"\" width=\"1166\" height=\"672\" \u002F\u003E\u003Cp id=\"caption-attachment-2161\" class=\"wp-caption-text\"\u003E\u003Cem\u003EZcash powers-of-tau ceremony round 41 involved an airplane. Screenshot: YouTube video\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe salesperson said they had 13 [computers]. I asked if we could pick one of the 13. He asked if there was something I was looking for in particular (confused because they are all the same) and I said I just wanted to pick a random one. He said he could not let us into the back warehouse. I asked if he would bring two of them out so we could pick one of the two. He brought two out on a handcart. Jerry selected one of the two computers and we took that to the register to check out.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgist.github.com\u002Fvalkenburgh\u002F8cf1d1e0a93daff5f051def361d9722d\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPeter Van Valkenburgh\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on getting a new machine.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe first few hours of the ceremony were performed in a makeshift Faraday cage made of aluminium foil and cling wrap. I moved the laptop out of the Faraday cage as it had poor ventilation and was getting hot to the touch\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\u002Ftree\u002Fmaster\u002F0014_weijie_response\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKoh Wei Jie\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on side-channel protection.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.. performed one part of ceremony in the mountains with no neighbors.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\u002Fblob\u002Fmaster\u002F0008_mike_response\u002FREADME.md\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMicheal Lapinski\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on side-channel protection.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E”\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EI opted to use video of the surroundings to generate sufficient entropy\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\u002Ftree\u002Fmaster\u002F0005_amrullah_response\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMuhd Amrullah\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on generation of random values.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdiv id=\"attachment_2162\" style=\"width: 994px\" class=\"wp-caption alignnone\"\u003E\u003Ca href=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-4.02.29-PM.png\"\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" aria-describedby=\"caption-attachment-2162\" class=\"wp-image-2162 size-full\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-4.02.29-PM.png\" alt=\"\" width=\"984\" height=\"652\" \u002F\u003E\u003C\u002Fa\u003E\u003Cp id=\"caption-attachment-2162\" class=\"wp-caption-text\"\u003E\u003Cem\u003EZa Wilcox, brother of Zcash cofounder Zooko Wilcox, destroying a computer used to generate random numbers for a trusted ceremony in 2016. Photo: Morgen Peck\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAll of these ceremonies relied on a centralized coordinator. The coordinator is an individual or private server or some other entity who is entrusted to register and order participants, to act as a relay by forwarding information from the previous participant to the next, and to keep a centralized log of all communications for auditability purposes. The coordinator is typically also in charge of making the log available to the public in perpetuity; of course, i\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Et&#8217;s always a possibility with a centralized system for data to get lost or mismanaged. (Perpetual-powers-of-tau for example is stored on Microsoft Azure and Github.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIt struck us as ironic that crypto projects must rely on centralized trusted setup ceremonies when decentralization is such a core tenet of the crypto ethos. So we decided to demonstrate the feasibility of running a small ceremony for perpetual-powers-of-tau directly on the Ethereum blockchain! The setup is fully decentralized, permissionless, censorship resistant, and is secure as long as any single one of the participants is honest [see \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau#disclaimer\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edisclaimers\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]. Participating in the ceremony costs only 292,600 to 17,760,000 gas (about $7 to $400 at current prices), depending on the size of the desired resulting parameters (in this case between 8 and 1024 powers-of-tau). (See the Table below for concrete costs – we go into more detail about these calculations later in the post.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"alignnone size-full wp-image-2168\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-7.19.17-PM.png\" alt=\"\" width=\"2064\" height=\"346\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs yet, we advise not to use the code for anything other than experimental purposes! We would greatly appreciate it if anyone who finds any issues with the code reports them to us. We would love to collect feedback on and audits of our approach.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Understanding the KZG or ‘powers-of-tau’ ceremony\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELet’s explore one of the most popular trusted setups, which is known as the KZG, or “powers-of-tau,” ceremony. Credit to Ethereum cofounder Vitalik Buterin, whose \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fvitalik.ca\u002Fgeneral\u002F2022\u002F03\u002F14\u002Ftrustedsetup.html\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eblog post on trusted setups\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E informed our ideas in this section. The setup generates the encodings of the powers-of-tau, so named because “tau” happens to be the variable used to express the secrets generated by participants:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epp = [[𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003Ek\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor some applications (e.g. Groth16, a popular zkSNARK proving scheme designed by Jens Groth in 2016), this first-phase of the setup is followed by a second phase, a multiparty computation (MPC) ceremony, that generates parameters for a specific SNARK circuit. However, our work focuses solely on phase one. This first phase – the generation of the powers-of-tau – is already useful as a foundational building block for universal SNARKs (e.g. PLONK and SONIC), as well as other cryptography applications, such as \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.iacr.org\u002Farchive\u002Fasiacrypt2010\u002F6477178\u002F6477178.pdf\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKZG commitments\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fvitalik.ca\u002Fgeneral\u002F2021\u002F06\u002F18\u002Fverkle.html\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EVerkle trees\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@dankrad\u002Fnew_sharding\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edata-availability sampling\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (DAS). Generally, universal SNARK parameters should be very large so they can support big and useful circuits. Circuits that contain more gates are generally more useful as they can capture large computations; the number of powers-of-tau roughly corresponds to the number of gates in the circuit. So, a typical setup will be of size |pp| = ~40 GB and capable of supporting circuits with ~2\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E28\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E gates. Given Ethereum’s current constraints, it would be infeasible to put such large parameters on-chain, but a smaller trusted setup ceremony useful for small SNARK circuits, Verkle trees, or DAS can feasibly be run on-chain.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Ethereum Foundation is planning to run several smaller \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fkzg-ceremony-specs\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eceremonies\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for powers-of-tau of size 200 KB to 1.5 MB. While bigger ceremonies may seem better, given that larger parameters can create more useful SNARK circuits, bigger is, in fact, not always better. Certain applications, such as DAS, specifically need a smaller one! [The reason is very technical, but if you’re curious, it’s because a setup with n powers (in G\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) only enables KZG-commitments to polynomials of degree ≤ n, which is crucial for making sure that the polynomial underneath the KZG-commitment can be reconstructed from any n evaluations. This property enables data-availability-sampling: every-time t random evaluations of the polynomial are successfully obtained (sampled) it gives an assurance that the polynomial can be fully-reconstructed with probability t\u002Fn. If you want to learn more about DAS, check out this post by Buterin \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002F2d-data-availability-with-kate-commitments\u002F8081\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eon the Ethereum Research forum\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.]\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe designed a smart contract that can be deployed on the Ethereum blockchain to run a trusted setup ceremony. The contract stores the public parameters – the powers-of-tau – fully on-chain, and collects participation through users’ transactions.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA new participant first reads those parameters:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epp\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = ([𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003Ek\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E),\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethen samples a random secret 𝜏’ and computes updated parameters:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epp\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = ([𝜏𝜏’]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏𝜏’]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003Ek\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E),\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eand publishes them on-chain with a proof that demonstrates three things:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EKnowledge of discrete-log\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: the participant knows 𝜏’. (A proof that the latest contribution to the trusted setup ceremony builds on the work of all preceding participants.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EWell-formedness of the pp\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: the elements indeed encode incremental powers.(A validation of the well-formedness of a new participant&#8217;s contribution to the ceremony.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EThe update is not-erasing\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: 𝜏’ ≠ 0. (A defense against attackers trying to undermine the system by deleting all participants’ past work.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe smart contract verifies the proof and if it is correct, it updates the public parameters that it stores. You can find more details on the math and the reasoning behind it in the \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Erepo\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Calculating gas costs\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe main challenge of running the setup on-chain is making the trusted setup ceremony as gas-efficient as possible. Ideally, submitting a contribution would cost no more than ~$50. (Large projects might be able to subsidize gas for contributors, in which case having hundreds of participants each spending $100 is easier to imagine). Below, we give more details on the most expensive parts of the setup. Lower gas costs would reduce the cost of contributions and allow for the construction of longer parameters (more tau-powers and bigger SNARK circuits)!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOur setup works for the elliptic curve BN254 (also known as BN256, BN128, and alt_bn128), that has support for \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-1108\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethe following precompiled contracts\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on Ethereum:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EECADD allows two elliptic curve points to be added, i.e. compute [𝛼+𝛽]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E from [𝛼]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and [𝛽]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: gas cost 150\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EECMULT allows elliptic curve points to multiplied by a scalar, i.e. compute [a*𝛼]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E from a and [𝛼]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: gas cost 6,000\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EECPAIR allows a product of elliptic curve pairings to be checked, i.e. compute e([𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E)* … *e([𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) = 1 which is equivalent to checking that 𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E*𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E+ … + 𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003Ek\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E*𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003Ek\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = 0 : gas cost 34,000 * k + 45,000\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMight Ethereum enable BLS12_381 (as proposed in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-2537\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEIP-2537\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), our setup contract could be easily made to work for this other curve as well.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELet&#8217;s estimate the gas cost to update the setup to ([𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E):\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EGas cost of verifying the proof.\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Each participant updates the setup and submits a proof with three components as described above. The components 1 and 3 of the proof – “knowledge of discrete log” and “update being non-erasing” – are very cheap to verify. The challenge is in verifying component 2, “well-formedness of the pp\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E”, on chain. It requires a large multi-scalar-multiplication (MSM) and two pairings: \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ee(𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[1]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + … + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003En-1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En-2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) = e([𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + … + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003En-1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En-1\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [1]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E),\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ewhere 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,&#8230;,𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003En-1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E are pseudo-randomly-sampled scalars. In terms of precompiled smart-contracts, it would take:\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(2n-4) x ECADD  +  (2n-4) x ECMULT + ECPAIR\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003Ek=2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = (2n-4) x 6,150 + 113,000 gas.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EGas cost of storing data.\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Each participant also stores the update on-chain as calldata (68 gas per byte) accounting to n*64*68 gas. (A note for those familiar with elliptic curve cryptography: storing compressed points would make decompression dominate the overall cost as per our measurements for n=256.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis brings us to the following table estimating gas costs which should inform future optimizations:\u003C\u002Fspan\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-2167 size-full\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-7.11.04-PM.png\" alt=\"\" width=\"1910\" height=\"780\" \u002F\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe are exploring solutions to bring the gas-cost down, so stay tuned!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Open-sourced library: evm-powers-of-tau\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe’ve open sourced our EVM based powers-of-tau ceremony repo at \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Egithub.com\u002Fa16z\u002Fevm-powers-of-tau\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. Conducting a ceremony with our strategy is easy and transparent:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDeploy the storage and verification contract (contracts\u002FKZG.sol)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA contributor reads ceremony parameters from previous transaction calldata\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe contributor generates a secret locally, computes the updated parameters\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe contributor generates their proof: pi1, pi2\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe contributor submits the updated parameters via KZG.potUpdate() to the deployed smart contract on the public blockchain\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe smart contract will verify the validity of the update, reverting in the case of a malformed submission\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMultiple contributors can execute steps 2-5 in perpetuity, each increasing the security of the ceremony\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhenever a developer is confident with the number and quality of submissions, they can query the blockchain for the current parameters and use these values as their cryptographic keys\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EOur repo uses \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Farkworks-rs\" target=\"_blank\" rel=\"noopener\"\u003Earkworks-rs\u003C\u002Fa\u003E to compute steps two and three (the rust calculation can be found in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Fsrc\u002Fpot_update.rs\" target=\"_blank\" rel=\"noopener\"\u003Esrc\u002Fpot_update.rs\u003C\u002Fa\u003E), but users may want to write their own. The entire end-to-end flow of update submission can be found in the integration test in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Ftests\u002Fintegration_test.rs#L17-L30\" target=\"_blank\" rel=\"noopener\"\u003Etests\u002Fintegration_test.rs\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ENote that we have chosen to use calldata to store updated powers-of-tau parameters on-chain as it is several orders of magnitude cheaper than storage. An ethers-rs based query for this data can be found in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Fsrc\u002Fquery.rs\" target=\"_blank\" rel=\"noopener\"\u003Esrc\u002Fquery.rs\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFinally, proofs and detailed equations can be found in the technical report in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Ftechreport\u002Fmain.pdf\" target=\"_blank\" rel=\"noopener\"\u003Etechreport\u002Fmain.pdf\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Future work\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EBefore this trusted setup ceremony can be used in production, we’d recommend first having a comprehensive audit of both the mathematical proofs and the sample implementation.\u003C\u002Fp\u003E\n\u003Cp\u003EAs implemented the transaction cost of updating the ceremony grows linearly with the setup size. For most applications (SNARKs, DAS) we’d want a setup of n &gt;= 256, currently costing $73 per update.\u003C\u002Fp\u003E\n\u003Cp\u003EWe might be able to achieve sublinear verification cost growth with a STARK proof of the valid update computation and a vector commitment to the updated values. This construction would also remove the dependency on the Ethereum L1 BN254 precompiles, enabling the usage of the more popular BLS12-381 curve.\u003C\u002Fp\u003E\n\u003Cp\u003EAll ceremony strategies have tradeoffs. We think this construction is solid and has great verifiable censorship resistance properties. But again, we would caution against using this method until more work is done to verify our approach’s soundness.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Acknowledgments\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDan Boneh – for useful feedback at the early stages of this work\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EJoe Bonneau – for clarifying the exposition in the early version of the technical report\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWilliam Borgeaud – for discussion on BLS within TurboPlonk \u002F Plonky2\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMary Maller – for thoughts on the general mechanics of the approach\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEditor: Robert Hackett @rhhackett\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n",post_title:"On-Chain Trusted Setup Ceremony",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"on-chain-trusted-setup-ceremony",to_ping:a,pinged:a,post_modified:"2023-08-29 21:14:58",post_modified_gmt:"2023-08-30 04:14:58",post_content_filtered:a,post_parent:b,guid:"http:\u002F\u002Fcrypto.test\u002Fon-chain-trusted-setup-ceremony\u002F",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:at,name:ac,slug:cq,term_group:b,term_taxonomy_id:at,taxonomy:z,description:cr,parent:b,count:aq,filter:d},{term_id:kz,name:fy,slug:"cap-sam-ragsdale",term_group:b,term_taxonomy_id:kz,taxonomy:z,description:"Sam Ragsdale Sam Ragsdale sam-ragsdale 1375 ",parent:b,count:cG,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:ar,name:cc,slug:cd,term_group:b,term_taxonomy_id:ar,taxonomy:B,description:a,parent:b,count:aJ,filter:d},{term_id:av,name:al,slug:al,term_group:b,term_taxonomy_id:av,taxonomy:f,description:a,parent:b,count:cB,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:bQ,name:aD,slug:aD,term_group:b,term_taxonomy_id:bQ,taxonomy:f,description:a,parent:b,count:aM,filter:d},{term_id:dF,name:eC,slug:eD,term_group:b,term_taxonomy_id:dF,taxonomy:f,description:a,parent:b,count:c,filter:d},{term_id:ax,name:bU,slug:bV,term_group:b,term_taxonomy_id:ax,taxonomy:f,description:a,parent:b,count:cD,filter:d},{term_id:dG,name:eK,slug:eL,term_group:b,term_taxonomy_id:dG,taxonomy:f,description:a,parent:b,count:kA,filter:d},{term_id:Z,name:aG,slug:aH,term_group:b,term_taxonomy_id:Z,taxonomy:B,description:a,parent:b,count:aI,filter:d},{term_id:ce,name:cU,slug:cV,term_group:b,term_taxonomy_id:ce,taxonomy:f,description:a,parent:b,count:dQ,filter:d}],acf:{custom_title:"trusted setup ceremonies, now on-chain",redirect_author_links_to_the_post:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003EThe trusted setup ceremony is one of the pains &#8212; and excitements &#8212; of crypto communities. The goal of a ceremony is to generate trustworthy cryptographic keys for securing crypto wallets, blockchain protocols, or zero-knowledge proof systems. These (sometimes flamboyant) procedures are frequently the root of trust for a given project’s security, and they are therefore extremely important to get right.\u003C\u002Fp\u003E\n\u003Cp\u003EBlockchain projects run ceremonies in numerous creative ways &#8212; involving blowtorches, radioactive dust, and airplanes – but all share something in common: they all involve a centralized coordinator. With this work we demonstrate how to decentralize the process by replacing the centralized coordinator with a smart contract. In addition, we’re open-sourcing a library that allows anyone to run such a ceremony &#8212; known to crypto practitioners as a \u003Ca href=\"https:\u002F\u002Fwww.iacr.org\u002Farchive\u002Fasiacrypt2010\u002F6477178\u002F6477178.pdf\" target=\"_blank\" rel=\"noopener\"\u003EKate-Zaverucha-Goldberg (KZG)\u003C\u002Fa\u003E or “powers-of-tau” ceremony &#8212; on the Ethereum chain. Anyone can participate simply by paying the transaction fees!\u003C\u002Fp\u003E\n\u003Cp\u003EOur decentralized approach has limitations, but it’s still useful. Due to current on-chain data constraints, the size of the cryptographic parameters has to be kept short, i.e. no more than 64 KB. But the number of participants has no cap and people can keep submitting contributions in perpetuity. Applications for these short parameters include small zero-knowledge SNARKs, \u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fabs\u002F1809.09044\" target=\"_blank\" rel=\"noopener\"\u003Edata-availability sampling\u003C\u002Fa\u003E, and \u003Ca href=\"https:\u002F\u002Fmath.mit.edu\u002Fresearch\u002Fhighschool\u002Fprimes\u002Fmaterials\u002F2018\u002FKuszmaul.pdf\" target=\"_blank\" rel=\"noopener\"\u003EVerkle trees\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]History and mechanics of the trusted setup ceremony\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EIn a typical trusted setup ceremony, a group of participants will collaboratively generate a set of cryptographic parameters. Each participating party uses secret information, generated locally, to generate data that helps create these parameters. Proper setups ensure secrets do not leak, that secrets are only used as designated by the protocol, and that these secrets are completely destroyed at the end of the ceremony. As long as at least one party in the ceremony behaves honestly, is not compromised, and destroys its local secret, the entire setup can be considered secure. (Of course, that is assuming the math is correct and the code has no bugs.)\u003C\u002Fp\u003E\n\u003Cp\u003ESome of the most prominent ceremonies were \u003Ca href=\"https:\u002F\u002Fz.cash\u002Ftechnology\u002Fparamgen\u002F\" target=\"_blank\" rel=\"noopener\"\u003Erun by Zcash\u003C\u002Fa\u003E, a privacy-oriented blockchain project. Participants in these ceremonies generated public parameters designed to allow Zcash users to construct and verify private crypto transactions. Six participants carried out the first Zcash ceremony, Sprout, in 2016. Two years later, crypto researcher Ariel Gabizon, now a Chief Scientist at \u003Ca href=\"https:\u002F\u002Faztec.network\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAztec\u003C\u002Fa\u003E, found \u003Ca href=\"https:\u002F\u002Felectriccoin.co\u002Fblog\u002Fzcash-counterfeiting-vulnerability-successfully-remediated\u002F\" target=\"_blank\" rel=\"noopener\"\u003Ea devastating bug\u003C\u002Fa\u003E in the design of the ceremony which was inherited from a \u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2013\u002F879\" target=\"_blank\" rel=\"noopener\"\u003Efoundational research paper\u003C\u002Fa\u003E. The vulnerability could have enabled attackers to create unlimited Zcash coins without being detected. The Zcash team kept the vulnerability secret for seven months until a system upgrade, Sapling, whose ceremony involved 90 participants, addressed the issue. While an attack based on the security hole would not have affected the privacy of users’ transactions, the prospect of infinite counterfeiting undermined Zcash’s security premise. (It&#8217;s theoretically impossible to know whether an attack took place.)\u003C\u002Fp\u003E\n\u003Cp\u003EAnother notable example of a trusted setup is the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\" target=\"_blank\" rel=\"noopener\"\u003Eperpetual “powers-of-tau” ceremony\u003C\u002Fa\u003E designed primarily for \u003Ca href=\"https:\u002F\u002Fmedium.com\u002Fcoinmonks\u002Fto-mixers-and-beyond-presenting-semaphore-a-privacy-gadget-built-on-ethereum-4c8b00857c9b\" target=\"_blank\" rel=\"noopener\"\u003ESemaphore\u003C\u002Fa\u003E, a privacy preserving technology for anonymous signaling on Ethereum. The setup used a BN254 elliptic curve and has had 71 participants so far. Other prominent projects later used this setup to run their own ceremonies on top, including \u003Ca href=\"https:\u002F\u002Ftornado-cash.medium.com\u002Ftornado-cash-trusted-setup-ceremony-b846e1e00be1\" target=\"_blank\" rel=\"noopener\"\u003ETornado.Cash\u003C\u002Fa\u003E (recently sanctioned by the U.S. government), \u003Ca href=\"https:\u002F\u002Fblog.hermez.io\u002Fhermez-zero-knowledge-proofs\u002F\" target=\"_blank\" rel=\"noopener\"\u003EHermez\u003C\u002Fa\u003E network, and \u003Ca href=\"https:\u002F\u002Fmedium.loopring.io\u002Floopring-starts-zksnark-trusted-setup-multi-party-computation-ceremony-6582874f7a5b\" target=\"_blank\" rel=\"noopener\"\u003ELoopring\u003C\u002Fa\u003E. \u003Ca href=\"https:\u002F\u002Fdocs.zksync.io\u002Fuserdocs\u002Fsecurity\u002F#universal-crs-setup\" target=\"_blank\" rel=\"noopener\"\u003EAztec\u003C\u002Fa\u003E coordinated a similar ceremony on a BN254 curve to create a universal common reference string (\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FCommon_reference_string_model\" target=\"_blank\" rel=\"noopener\"\u003ECRS\u003C\u002Fa\u003E) for use by \u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2019\u002F953.pdf\" target=\"_blank\" rel=\"noopener\"\u003EPLONK zk-snarks\u003C\u002Fa\u003E. zkSync, a “layer two” Ethereum scaling solution, participated in the ceremony and uses this CRS to underpin the security of their zero knowledge rollup. \u003Ca href=\"https:\u002F\u002Ffilecoin.io\u002Fblog\u002Fposts\u002Ftrusted-setup-complete\u002F\" target=\"_blank\" rel=\"noopener\"\u003EFilecoin\u003C\u002Fa\u003E, a decentralized data storage protocol, ran a ceremony with 19 and 33 participants, in first and second phase respectively, forking the original repo. \u003Ca href=\"https:\u002F\u002Fcelo.org\u002Fplumo\" target=\"_blank\" rel=\"noopener\"\u003ECelo\u003C\u002Fa\u003E, a layer-1 blockchain, ran a ceremony for their light-client Plumo too.\u003C\u002Fp\u003E\n\u003Cp\u003EPerpetual ceremonies have no limit to the number of participants. In other words, instead of trusting other people to run a trusted setup ceremony, ANYONE can participate to whatever degree of security meets their satisfaction. A single trustworthy participant ensures the security of all of the resulting parameters; the chain is as strong as its strongest link. Perpetual ceremonies may run, as the name implies, in perpetuity, as was the premise with the original powers-of-tau ceremony. That said, projects often decide on a concrete beginning and end time for their ceremonies, that way they can embed the resulting parameters into their protocols and don’t have to worry about continually updating them.\u003C\u002Fp\u003E\n\u003Cp\u003EEthereum plans to run a smaller trusted setup ceremony for upcoming \u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4844\" target=\"_blank\" rel=\"noopener\"\u003EProtoDankSharding\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@dankrad\u002Fnew_sharding\" target=\"_blank\" rel=\"noopener\"\u003EDankSharding\u003C\u002Fa\u003E upgrades. Those two upgrades will increase the amount of data that the Ethereum chain provides to clients for storage. This data will have an expiry of suggested \u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4844\" target=\"_blank\" rel=\"noopener\"\u003E30-to-60 days\u003C\u002Fa\u003E. The ceremony is \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fplaylist?list=PL4cwHXAawZxpE60NSuTiQbnUbJxOBBHhN\" target=\"_blank\" rel=\"noopener\"\u003Eunder active development\u003C\u002Fa\u003E, and is \u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@CarlBeek\u002Fkzg_ceremony_timelines\" target=\"_blank\" rel=\"noopener\"\u003Eplanned\u003C\u002Fa\u003E to run for six weeks early next year. (See \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fkzg-ceremony-specs\u002F\" target=\"_blank\" rel=\"noopener\"\u003Ekzg-ceremony-specs\u003C\u002Fa\u003E for more details.) It’s shaping up to be the largest trusted setup ceremony for blockchains run so far.\u003C\u002Fp\u003E\n\u003Cp\u003EParanoia is a virtue when it comes to trusted setup ceremonies. If a machine’s hardware or software is compromised, that can undermine the security of the secrets it generates. Sneaky side channel attacks which leak secrets can also be difficult to rule out. A phone can spy on a computer’s operations by \u003Ca href=\"https:\u002F\u002Fspectrum.ieee.org\u002Fthe-crazy-security-behind-the-birth-of-zcash\" target=\"_blank\" rel=\"noopener\"\u003Erecording sound waves\u003C\u002Fa\u003E of CPU vibrations, for example. In practice, since it is immensely hard to eliminate all possible side channel attacks – including those still to be discovered or disclosed – there are even proposals to fly machines to space to conduct \u003Ca href=\"https:\u002F\u002Fcointelegraph.com\u002Fmagazine\u002F2020\u002F12\u002F22\u002Fmoon-man-mission-to-blast-crypto-satellite-into-orbit\" target=\"_blank\" rel=\"noopener\"\u003Eceremonies there\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFor now, the playbook for serious ceremony participants typically goes as follows. Buy a new machine (untainted hardware). Air-gap it by removing all the network cards (to prevent local secrets from leaving the machine). Run the machine in a Faraday cage at a remote undisclosed location (to foil would-be snoopers). Seed the pseudo-random secret generator with lots of entropy and hard-replicate data such as random key-strokes or video files (to make the secrets hard to crack). And finally, destroy the machine – along with any traces of the secrets – by burning everything to ashes. 😀\u003C\u002Fp\u003E\n\u003Ch2\u003E[toc-embed]Coordinating trusted setup ceremonies\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EHere is a fun selection of quotes from some previous trusted setup ceremony participants:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E&#8230;the blowtorch was used to methodically heat the electronics completely piece by piece until everything was blackened…\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fpetertodd.org\u002F2016\u002Fcypherpunk-desert-bus-zcash-trusted-setup-ceremony\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPeter Todd\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on physically destroying the local secrets.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cem\u003E“I have here a piece of fabric that has graphite dust [from] the core of the [Chernobyl] reactor… You count every four pulses [from a Geiger counter hooked up to a microcontroller] and you compare the time interval between pulse one and two and the time interval between pulse three and four and if it’s greater you get a zero, if it’s less you get a one.” “&#8230;we are about to get in this airplane and generate our random numbers…”\u003C\u002Fem\u003E \u003Cspan style=\"font-weight: 400;\"\u003E—\u003C\u002Fspan\u003E \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=I4cDAqeEmpU\" target=\"_blank\" rel=\"noopener\"\u003ERyan Pierce and Andrew Miller\u003C\u002Fa\u003E on secret generation.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdiv id=\"attachment_2161\" style=\"width: 1176px\" class=\"wp-caption alignnone\"\u003E\u003Cimg aria-describedby=\"caption-attachment-2161\" loading=\"lazy\" decoding=\"async\" class=\"size-full wp-image-2161\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-4.02.05-PM.png\" alt=\"\" width=\"1166\" height=\"672\" \u002F\u003E\u003Cp id=\"caption-attachment-2161\" class=\"wp-caption-text\"\u003E\u003Cspan style=\"font-size: 11.5pt;\"\u003E\u003Cem\u003EZcash powers-of-tau ceremony round 41 involved an airplane. Screenshot: YouTube video\u003C\u002Fem\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe salesperson said they had 13 [computers]. I asked if we could pick one of the 13. He asked if there was something I was looking for in particular (confused because they are all the same) and I said I just wanted to pick a random one. He said he could not let us into the back warehouse. I asked if he would bring two of them out so we could pick one of the two. He brought two out on a handcart. Jerry selected one of the two computers and we took that to the register to check out.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgist.github.com\u002Fvalkenburgh\u002F8cf1d1e0a93daff5f051def361d9722d\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPeter Van Valkenburgh\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on getting a new machine.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe first few hours of the ceremony were performed in a makeshift Faraday cage made of aluminium foil and cling wrap. I moved the laptop out of the Faraday cage as it had poor ventilation and was getting hot to the touch\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\u002Ftree\u002Fmaster\u002F0014_weijie_response\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKoh Wei Jie\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on side-channel protection.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.. performed one part of ceremony in the mountains with no neighbors.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\u002Fblob\u002Fmaster\u002F0008_mike_response\u002FREADME.md\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMicheal Lapinski\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on side-channel protection.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E”\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EI opted to use video of the surroundings to generate sufficient entropy\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\u002Ftree\u002Fmaster\u002F0005_amrullah_response\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMuhd Amrullah\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on generation of random values.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdiv id=\"attachment_2162\" style=\"width: 994px\" class=\"wp-caption alignnone\"\u003E\u003Ca href=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-4.02.29-PM.png\"\u003E\u003Cimg aria-describedby=\"caption-attachment-2162\" loading=\"lazy\" decoding=\"async\" class=\"wp-image-2162 size-full\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-4.02.29-PM.png\" alt=\"\" width=\"984\" height=\"652\" \u002F\u003E\u003C\u002Fa\u003E\u003Cp id=\"caption-attachment-2162\" class=\"wp-caption-text\"\u003E\u003Cspan style=\"font-size: 11.5pt;\"\u003E\u003Cem\u003EZa Wilcox, brother of Zcash cofounder Zooko Wilcox, destroying a computer used to generate random numbers for a trusted ceremony in 2016. Photo: Morgen Peck\u003C\u002Fem\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAll of these ceremonies relied on a centralized coordinator. The coordinator is an individual or private server or some other entity who is entrusted to register and order participants, to act as a relay by forwarding information from the previous participant to the next, and to keep a centralized log of all communications for auditability purposes. The coordinator is typically also in charge of making the log available to the public in perpetuity; of course, i\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Et&#8217;s always a possibility with a centralized system for data to get lost or mismanaged. (Perpetual-powers-of-tau for example is stored on Microsoft Azure and Github.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIt struck us as ironic that crypto projects must rely on centralized trusted setup ceremonies when decentralization is such a core tenet of the crypto ethos. So we decided to demonstrate the feasibility of running a small ceremony for perpetual-powers-of-tau directly on the Ethereum blockchain! The setup is fully decentralized, permissionless, censorship resistant, and is secure as long as any single one of the participants is honest [see \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau#disclaimer\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edisclaimers\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]. Participating in the ceremony costs only 292,600 to 17,760,000 gas (about $7 to $400 at current prices), depending on the size of the desired resulting parameters (in this case between 8 and 1024 powers-of-tau). (See the Table below for concrete costs – we go into more detail about these calculations later in the post.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"alignnone size-full wp-image-2168\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-7.19.17-PM.png\" alt=\"\" width=\"2064\" height=\"346\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs yet, we advise not to use the code for anything other than experimental purposes! We would greatly appreciate it if anyone who finds any issues with the code reports them to us. We would love to collect feedback on and audits of our approach.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Understanding the KZG or ‘powers-of-tau’ ceremony\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELet’s explore one of the most popular trusted setups, which is known as the KZG, or “powers-of-tau,” ceremony. Credit to Ethereum cofounder Vitalik Buterin, whose \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fvitalik.ca\u002Fgeneral\u002F2022\u002F03\u002F14\u002Ftrustedsetup.html\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eblog post on trusted setups\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E informed our ideas in this section. The setup generates the encodings of the powers-of-tau, so named because “tau” happens to be the variable used to express the secrets generated by participants:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epp = [[𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003Ek\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor some applications (e.g. Groth16, a popular zkSNARK proving scheme designed by Jens Groth in 2016), this first-phase of the setup is followed by a second phase, a multiparty computation (MPC) ceremony, that generates parameters for a specific SNARK circuit. However, our work focuses solely on phase one. This first phase – the generation of the powers-of-tau – is already useful as a foundational building block for universal SNARKs (e.g. PLONK and SONIC), as well as other cryptography applications, such as \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.iacr.org\u002Farchive\u002Fasiacrypt2010\u002F6477178\u002F6477178.pdf\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKZG commitments\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fvitalik.ca\u002Fgeneral\u002F2021\u002F06\u002F18\u002Fverkle.html\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EVerkle trees\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@dankrad\u002Fnew_sharding\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edata-availability sampling\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (DAS). Generally, universal SNARK parameters should be very large so they can support big and useful circuits. Circuits that contain more gates are generally more useful as they can capture large computations; the number of powers-of-tau roughly corresponds to the number of gates in the circuit. So, a typical setup will be of size |pp| = ~40 GB and capable of supporting circuits with ~2\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E28\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E gates. Given Ethereum’s current constraints, it would be infeasible to put such large parameters on-chain, but a smaller trusted setup ceremony useful for small SNARK circuits, Verkle trees, or DAS can feasibly be run on-chain.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Ethereum Foundation is planning to run several smaller \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fkzg-ceremony-specs\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eceremonies\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for powers-of-tau of size 200 KB to 1.5 MB. While bigger ceremonies may seem better, given that larger parameters can create more useful SNARK circuits, bigger is, in fact, not always better. Certain applications, such as DAS, specifically need a smaller one! [The reason is very technical, but if you’re curious, it’s because a setup with n powers (in G\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) only enables KZG-commitments to polynomials of degree ≤ n, which is crucial for making sure that the polynomial underneath the KZG-commitment can be reconstructed from any n evaluations. This property enables data-availability-sampling: every-time t random evaluations of the polynomial are successfully obtained (sampled) it gives an assurance that the polynomial can be fully-reconstructed with probability t\u002Fn. If you want to learn more about DAS, check out this post by Buterin \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002F2d-data-availability-with-kate-commitments\u002F8081\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eon the Ethereum Research forum\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.]\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe designed a smart contract that can be deployed on the Ethereum blockchain to run a trusted setup ceremony. The contract stores the public parameters – the powers-of-tau – fully on-chain, and collects participation through users’ transactions.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA new participant first reads those parameters:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epp\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = ([𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003Ek\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E),\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethen samples a random secret 𝜏’ and computes updated parameters:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epp\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = ([𝜏𝜏’]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏𝜏’]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003Ek\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E),\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eand publishes them on-chain with a proof that demonstrates three things:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EKnowledge of discrete-log\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: the participant knows 𝜏’. (A proof that the latest contribution to the trusted setup ceremony builds on the work of all preceding participants.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EWell-formedness of the pp\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: the elements indeed encode incremental powers.(A validation of the well-formedness of a new participant&#8217;s contribution to the ceremony.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EThe update is not-erasing\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: 𝜏’ ≠ 0. (A defense against attackers trying to undermine the system by deleting all participants’ past work.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe smart contract verifies the proof and if it is correct, it updates the public parameters that it stores. You can find more details on the math and the reasoning behind it in the \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Erepo\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Calculating gas costs\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe main challenge of running the setup on-chain is making the trusted setup ceremony as gas-efficient as possible. Ideally, submitting a contribution would cost no more than ~$50. (Large projects might be able to subsidize gas for contributors, in which case having hundreds of participants each spending $100 is easier to imagine). Below, we give more details on the most expensive parts of the setup. Lower gas costs would reduce the cost of contributions and allow for the construction of longer parameters (more tau-powers and bigger SNARK circuits)!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOur setup works for the elliptic curve BN254 (also known as BN256, BN128, and alt_bn128), that has support for \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-1108\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethe following precompiled contracts\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on Ethereum:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EECADD allows two elliptic curve points to be added, i.e. compute [𝛼+𝛽]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E from [𝛼]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and [𝛽]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: gas cost 150\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EECMULT allows elliptic curve points to multiplied by a scalar, i.e. compute [a*𝛼]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E from a and [𝛼]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: gas cost 6,000\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EECPAIR allows a product of elliptic curve pairings to be checked, i.e. compute e([𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E)* … *e([𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) = 1 which is equivalent to checking that 𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E*𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E+ … + 𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003Ek\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E*𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003Ek\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = 0 : gas cost 34,000 * k + 45,000\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMight Ethereum enable BLS12_381 (as proposed in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-2537\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEIP-2537\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), our setup contract could be easily made to work for this other curve as well.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELet&#8217;s estimate the gas cost to update the setup to ([𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E):\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EGas cost of verifying the proof.\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Each participant updates the setup and submits a proof with three components as described above. The components 1 and 3 of the proof – “knowledge of discrete log” and “update being non-erasing” – are very cheap to verify. The challenge is in verifying component 2, “well-formedness of the pp\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E”, on chain. It requires a large multi-scalar-multiplication (MSM) and two pairings: \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ee(𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[1]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + … + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003En-1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En-2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) = e([𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + … + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003En-1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En-1\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [1]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E),\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ewhere 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,&#8230;,𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003En-1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E are pseudo-randomly-sampled scalars. In terms of precompiled smart-contracts, it would take:\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(2n-4) x ECADD  +  (2n-4) x ECMULT + ECPAIR\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003Ek=2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = (2n-4) x 6,150 + 113,000 gas.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EGas cost of storing data.\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Each participant also stores the update on-chain as calldata (68 gas per byte) accounting to n*64*68 gas. (A note for those familiar with elliptic curve cryptography: storing compressed points would make decompression dominate the overall cost as per our measurements for n=256.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis brings us to the following table estimating gas costs which should inform future optimizations:\u003C\u002Fspan\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-2167 size-full\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-7.11.04-PM.png\" alt=\"\" width=\"1910\" height=\"780\" \u002F\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe are exploring solutions to bring the gas-cost down, so stay tuned!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Open-sourced library: evm-powers-of-tau\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe’ve open sourced our EVM based powers-of-tau ceremony repo at \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Egithub.com\u002Fa16z\u002Fevm-powers-of-tau\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. Conducting a ceremony with our strategy is easy and transparent:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDeploy the storage and verification contract (contracts\u002FKZG.sol)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA contributor reads ceremony parameters from previous transaction calldata\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe contributor generates a secret locally, computes the updated parameters\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe contributor generates their proof: pi1, pi2\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe contributor submits the updated parameters via KZG.potUpdate() to the deployed smart contract on the public blockchain\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe smart contract will verify the validity of the update, reverting in the case of a malformed submission\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMultiple contributors can execute steps 2-5 in perpetuity, each increasing the security of the ceremony\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhenever a developer is confident with the number and quality of submissions, they can query the blockchain for the current parameters and use these values as their cryptographic keys\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EOur repo uses \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Farkworks-rs\" target=\"_blank\" rel=\"noopener\"\u003Earkworks-rs\u003C\u002Fa\u003E to compute steps two and three (the rust calculation can be found in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Fsrc\u002Fpot_update.rs\" target=\"_blank\" rel=\"noopener\"\u003Esrc\u002Fpot_update.rs\u003C\u002Fa\u003E), but users may want to write their own. The entire end-to-end flow of update submission can be found in the integration test in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Ftests\u002Fintegration_test.rs#L17-L30\" target=\"_blank\" rel=\"noopener\"\u003Etests\u002Fintegration_test.rs\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ENote that we have chosen to use calldata to store updated powers-of-tau parameters on-chain as it is several orders of magnitude cheaper than storage. An ethers-rs based query for this data can be found in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Fsrc\u002Fquery.rs\" target=\"_blank\" rel=\"noopener\"\u003Esrc\u002Fquery.rs\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFinally, proofs and detailed equations can be found in the technical report in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Ftechreport\u002Fmain.pdf\" target=\"_blank\" rel=\"noopener\"\u003Etechreport\u002Fmain.pdf\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Future work\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EBefore this trusted setup ceremony can be used in production, we’d recommend first having a comprehensive audit of both the mathematical proofs and the sample implementation.\u003C\u002Fp\u003E\n\u003Cp\u003EAs implemented the transaction cost of updating the ceremony grows linearly with the setup size. For most applications (SNARKs, DAS) we’d want a setup of n &gt;= 256, currently costing $73 per update.\u003C\u002Fp\u003E\n\u003Cp\u003EWe might be able to achieve sublinear verification cost growth with a STARK proof of the valid update computation and a vector commitment to the updated values. This construction would also remove the dependency on the Ethereum L1 BN254 precompiles, enabling the usage of the more popular BLS12-381 curve.\u003C\u002Fp\u003E\n\u003Cp\u003EAll ceremony strategies have tradeoffs. We think this construction is solid and has great verifiable censorship resistance properties. But again, we would caution against using this method until more work is done to verify our approach’s soundness.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Acknowledgments\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDan Boneh – for useful feedback at the early stages of this work\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EJoe Bonneau – for clarifying the exposition in the early version of the technical report\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWilliam Borgeaud – for discussion on BLS within TurboPlonk \u002F Plonky2\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMary Maller – for thoughts on the general mechanics of the approach\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEditor: Robert Hackett @rhhackett\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F\u003C\u002Fa\u003E.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fa\u003E for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n"}],related_posts:N,post_redirector:h,format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d}},tags:[{term_id:av,name:al,slug:al,term_group:b,term_taxonomy_id:av,taxonomy:f,description:a,parent:b,count:cB,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:bQ,name:aD,slug:aD,term_group:b,term_taxonomy_id:bQ,taxonomy:f,description:a,parent:b,count:aM,filter:d},{term_id:dF,name:eC,slug:eD,term_group:b,term_taxonomy_id:dF,taxonomy:f,description:a,parent:b,count:c,filter:d},{term_id:ax,name:bU,slug:bV,term_group:b,term_taxonomy_id:ax,taxonomy:f,description:a,parent:b,count:cD,filter:d},{term_id:dG,name:eK,slug:eL,term_group:b,term_taxonomy_id:dG,taxonomy:f,description:a,parent:b,count:kA,filter:d},{term_id:ce,name:cU,slug:cV,term_group:b,term_taxonomy_id:ce,taxonomy:f,description:a,parent:b,count:dQ,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"576\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-1024x576.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-1024x576.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-300x169.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-768x432.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-1536x864.jpg 1536w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA.jpg 1920w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-150x150.jpg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-300x169.jpg",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-1024x576.jpg",width:aj}],authors:[{ID:cs,display_name:ct,first_name:cu,last_name:cv,user_login:ac,user_email:a,linked_account:a,website:cw,description:cx,user_nicename:ac,type:A,nickname:a},{ID:"1375",display_name:"Sam Ragsdale",first_name:"Sam",last_name:"Ragsdale",user_login:fy,user_email:a,linked_account:a,website:a,description:"\u003Cp\u003ESam is an Investment Engineer for a16z crypto. The engineering team supports the investing process, collaborates with portfolio companies to make strong tech decisions, and engages with developer-facing products to understand the future of the space.\u003C\u002Fp\u003E\n\u003Cp\u003EBefore a16z crypto, Sam worked in a similar capacity at Blockchain Capital. Prior he worked as a Software Engineer at Google optimizing the lifecycle of advertising campaigns.\u003C\u002Fp\u003E\n",user_nicename:fy,type:A,nickname:a}],meta_desc:fz,seo:{title_tag:kB,meta_description:fz,canonical:kC,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:kB,open_graph_description:fz,open_graph_url:kC,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2022/09/KZG-setup-ceremony-on-chain_1920x1080_FA.jpg":{width:do0,height:bN,filesize:1685698,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA.jpg",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA.jpg",size:an,id:4108,alt:a,pixels:dp,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:aq,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2022-09-07T00:00:00+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:4664,post_author:bY,post_date:kD,post_date_gmt:kD,post_content:a,post_title:"A Survey of Proof-of-Stake (PoS) Blockchain Designs",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"a-survey-of-proof-of-stake-pos-blockchain-designs",to_ping:a,pinged:a,post_modified:"2025-01-29 12:55:12",post_modified_gmt:"2025-01-29 20:55:12",post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.approvemyviews.com\u002F?p=4664",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:at,name:ac,slug:cq,term_group:b,term_taxonomy_id:at,taxonomy:z,description:cr,parent:b,count:aq,filter:d},{term_id:dH,name:eo,slug:ep,term_group:b,term_taxonomy_id:dH,taxonomy:f,description:a,parent:b,count:cG,filter:d},{term_id:af,name:aa,slug:aa,term_group:b,term_taxonomy_id:af,taxonomy:f,description:a,parent:b,count:bO,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:Y,name:ay,slug:az,term_group:b,term_taxonomy_id:Y,taxonomy:f,description:a,parent:b,count:ae,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d},{term_id:Z,name:aG,slug:aH,term_group:b,term_taxonomy_id:Z,taxonomy:B,description:a,parent:b,count:aI,filter:d},{term_id:dI,name:eM,slug:eN,term_group:b,term_taxonomy_id:dI,taxonomy:f,description:a,parent:b,count:ak,filter:d},{term_id:K,name:I,slug:I,term_group:b,term_taxonomy_id:K,taxonomy:f,description:a,parent:b,count:H,filter:d},{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d}],acf:{custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003EA broad overview of approaches to proof-of-stake blockchain design with Valeria Nikolaenko (a16z crypto Research Partner). Valeria examines both longest-chain and BFT-style consensus protocols, compares them, and examines the variants used in real-world blockchains. She also examines other PoS designs, such as Algorand, Avalanche, and Solana. Valeria also covers leader-election strategies with the use of VRFs and VDFs, and discusses the space of possible attacks. Finally, she examines the consensus layer design of Ethereum.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ciframe loading=\"lazy\" title=\"A Survey of Proof-of-Stake (PoS) Blockchain Designs with Valeria Nikolaenko | a16z crypto research\" width=\"500\" height=\"281\" src=\"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002FmZ-Ya7NRDxM?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen\u003E\u003C\u002Fiframe\u003E\u003C\u002Fp\u003E\n"}],related_posts:N,format:{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d}},tags:[{term_id:dH,name:eo,slug:ep,term_group:b,term_taxonomy_id:dH,taxonomy:f,description:a,parent:b,count:cG,filter:d},{term_id:af,name:aa,slug:aa,term_group:b,term_taxonomy_id:af,taxonomy:f,description:a,parent:b,count:bO,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:Y,name:ay,slug:az,term_group:b,term_taxonomy_id:Y,taxonomy:f,description:a,parent:b,count:ae,filter:d},{term_id:dI,name:eM,slug:eN,term_group:b,term_taxonomy_id:dI,taxonomy:f,description:a,parent:b,count:ak,filter:d},{term_id:K,name:I,slug:I,term_group:b,term_taxonomy_id:K,taxonomy:f,description:a,parent:b,count:H,filter:d}],post_thumbnail:a,post_thumbnail_small:a,post_images:[],authors:[{ID:cs,display_name:ct,first_name:cu,last_name:cv,user_login:ac,user_email:a,linked_account:a,website:cw,description:cx,user_nicename:ac,type:A,nickname:a}],meta_desc:a,seo:{title_tag:kE,meta_description:a,canonical:kF,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:kE,open_graph_description:a,open_graph_url:kF,open_graph_images:[],open_graph_site_name:U,estimated_reading_time_minutes:b,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2022-08-13T14:29:26+00:00"},format:{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d},template:a,disclosure:h},{ID:4654,post_author:bY,post_date:kG,post_date_gmt:kG,post_content:a,post_title:"EigenLayr: Permissionless Feature Addition to Ethereum",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"eigenlayr-permissionless-feature-addition-to-ethereum",to_ping:a,pinged:a,post_modified:"2025-01-29 12:55:53",post_modified_gmt:"2025-01-29 20:55:53",post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16zcrypto.approvemyviews.com\u002F?p=4654",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:kH,name:fA,slug:"cap-sreeram-kannan",term_group:b,term_taxonomy_id:kH,taxonomy:z,description:"Sreeram Kannan Sreeram Kannan sreeram-kannan 4449 ",parent:b,count:dd,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d},{term_id:X,name:aA,slug:aB,term_group:b,term_taxonomy_id:X,taxonomy:f,description:a,parent:b,count:aF,filter:d},{term_id:_,name:W,slug:W,term_group:b,term_taxonomy_id:_,taxonomy:f,description:a,parent:b,count:aK,filter:d},{term_id:K,name:I,slug:I,term_group:b,term_taxonomy_id:K,taxonomy:f,description:a,parent:b,count:H,filter:d},{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d}],acf:{custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003EEigenLayr is a set of smart-contracts on Ethereum that allows consensus layer stakers to grant smart-contracts the ability to impose additional slashing conditions on their staked ETH allowing the extension of cryptoeconomic security to new services. By opting-in to EigenLayr, stakers can provide validation services for new systems like data availability services, fair-ordering services, bridges, and sidechains. In this talk, Sreeram Kannan (University of Washington, Seattle) introduces the technology. Instead of fragmenting security across different middleware, EigenLayr aggregates security across all of the middleware in the ETH ecosystem, significantly increasing the security of dapps that rely on these services. Finally, EigenLayr enables a new era of permissionless innovation, where innovators don&#8217;t need to build their own trust networks to implement new distributed validation services. Instead, they can rely on the security and decentralization provided by ETH re-stakers in EigenLayr.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ciframe loading=\"lazy\" title=\"EigenLayr: Permissionless Feature Addition to Ethereum with Sreeram Kannan | a16z crypto research\" width=\"500\" height=\"281\" src=\"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002F-V-fG4J1N_M?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen\u003E\u003C\u002Fiframe\u003E\u003C\u002Fp\u003E\n"}],related_posts:N,format:{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d}},tags:[{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:X,name:aA,slug:aB,term_group:b,term_taxonomy_id:X,taxonomy:f,description:a,parent:b,count:aF,filter:d},{term_id:_,name:W,slug:W,term_group:b,term_taxonomy_id:_,taxonomy:f,description:a,parent:b,count:aK,filter:d},{term_id:K,name:I,slug:I,term_group:b,term_taxonomy_id:K,taxonomy:f,description:a,parent:b,count:H,filter:d}],post_thumbnail:a,post_thumbnail_small:a,post_images:[],authors:[{ID:"4449",display_name:"Sreeram Kannan",first_name:"Sreeram",last_name:"Kannan",user_login:fA,user_email:a,linked_account:a,website:a,description:a,user_nicename:fA,type:A,nickname:a}],meta_desc:a,seo:{title_tag:kI,meta_description:a,canonical:kJ,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:kI,open_graph_description:a,open_graph_url:kJ,open_graph_images:[],open_graph_site_name:U,estimated_reading_time_minutes:b,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2022-08-06T02:24:35+00:00"},format:{term_id:C,name:y,slug:y,term_group:b,term_taxonomy_id:C,taxonomy:k,description:a,parent:b,count:H,filter:d},template:a,disclosure:h},{ID:3375,post_author:de,post_date:kK,post_date_gmt:kK,post_content:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum’s upcoming transition from Proof of Work (PoW) to Proof of Stake (PoS) has the potential for cascading effects across the crypto landscape.\u003Cspan style=\"font-weight: 400;\"\u003EInstead of using computational resources to secure the network, anyone will be able to stake their ETH and operate block-producing validators, drastically reducing energy consumption. Ethereum’s transaction fees and inflationary-driven rewards will be distributed to more participants in the network, broadening access to economic opportunities within Ethereum’s ecosystem.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENonetheless, staking ETH has significant barriers today. Perhaps most notably, there is a 32-ETH minimum required to operate a node. This alone prevents a significant number of network users from running their own validator, and there is no native method for delegating one’s stake to circumvent these minimum capital requirements. Moreover, staking to the Beacon chain today is a one-way transaction – effectively locking up ETH until the transition from PoW to PoS – resulting in a high opportunity cost of capital given the abundance of yield-generating alternatives that exist in DeFi.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBecause of these challenges, centralized exchanges have been best-positioned to offer staking services due to efficiencies of scale. Companies like Binance, Kraken, and Coinbase can easily pool their users’ assets (eliminating the minimum capital requirements), stake it on their behalf (eliminating the operational burden), and issue a liquid market for this staked asset (unlocking liquidity and allowing users to swap back from staked ETH to ETH). These services are valuable for their users, creating a big opportunity for a decentralized alternative.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThat’s why we’re excited to invest in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Flido.fi\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELido\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, an effective, decentralized staking platform. It offers one of the easiest ways to stake ETH and other PoS assets today, while striving for decentralization through the DAO’s governance. Lido democratizes staking.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Lido community’s unwavering commitment to decentralization really stood out to us. They recognize that for their approach to succeed, they will need to create a fully-trustless staking pool while also embracing alternative solutions.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFinally, Lido solves the competitive incentives between staking and seeking yield in DeFi. By issuing an Ethereum-native liquid token, Lido allows you to use staked ETH as collateral within DeFi in the same way you can use ETH currently.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe actively contribute to the networks and communities in our portfolio, so in addition to our investment in Lido, we staked a portion of a16z Crypto’s ETH holdings on the Beacon chain. Staking with Lido removes many of the logistical complexities that institutional investors have faced.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe look forward to supporting the Lido community on its long journey ahead. There will be competitive incentives even after the PoS transition between securing the Ethereum network by staking and alternatively seeking higher returns from participating in DeFi. We will contribute, as both a staker and governance participant, to help ensure a fair, transparent, and credible staking ecosystem.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe want a world where a diverse set of centralized staking services, decentralized staking pools, and individual validators all play a role in securing Ethereum. We are excited to be working with Lido as we collectively build towards this future.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n",post_title:"Investing in Lido",post_excerpt:a,post_status:G,comment_status:ad,ping_status:ad,post_password:a,post_name:"investing-in-lido",to_ping:a,pinged:a,post_modified:"2024-05-13 15:03:44",post_modified_gmt:"2024-05-13 22:03:44",post_content_filtered:a,post_parent:b,guid:"http:\u002F\u002Fcrypto.test\u002Fannouncements\u002Finvesting-in-lido\u002F",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:kL,name:fB,slug:"cap-daren-matsuoka",term_group:b,term_taxonomy_id:kL,taxonomy:z,description:"Daren Matsuoka Daren Matsuoka daren-matsuoka 1511 ",parent:b,count:cG,filter:d},{term_id:kM,name:fC,slug:"cap-porter-smith",term_group:b,term_taxonomy_id:kM,taxonomy:z,description:"Porter Smith Porter Smith porter-smith 1423 ",parent:b,count:aM,filter:d},{term_id:dJ,name:bL,slug:bL,term_group:b,term_taxonomy_id:dJ,taxonomy:f,description:a,parent:b,count:kN,filter:d},{term_id:kO,name:bL,slug:bL,term_group:b,term_taxonomy_id:kO,taxonomy:B,description:a,parent:b,count:101,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:dK,name:ck,slug:ck,term_group:b,term_taxonomy_id:dK,taxonomy:f,description:a,parent:b,count:kP,filter:d},{term_id:Y,name:ay,slug:az,term_group:b,term_taxonomy_id:Y,taxonomy:f,description:a,parent:b,count:ae,filter:d},{term_id:_,name:W,slug:W,term_group:b,term_taxonomy_id:_,taxonomy:f,description:a,parent:b,count:aK,filter:d}],acf:{content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEthereum’s upcoming transition from Proof of Work (PoW) to Proof of Stake (PoS) has the potential for cascading effects across the crypto landscape.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EInstead of using computational resources to secure the network, anyone will be able to stake their ETH and operate block-producing validators, drastically reducing energy consumption. Ethereum’s transaction fees and inflationary-driven rewards will be distributed to more participants in the network, broadening access to economic opportunities within Ethereum’s ecosystem.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENonetheless, staking ETH has significant barriers today. Perhaps most notably, there is a 32-ETH minimum required to operate a node. This alone prevents a significant number of network users from running their own validator, and there is no native method for delegating one’s stake to circumvent these minimum capital requirements. Moreover, staking to the Beacon chain today is a one-way transaction – effectively locking up ETH until the transition from PoW to PoS – resulting in a high opportunity cost of capital given the abundance of yield-generating alternatives that exist in DeFi.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBecause of these challenges, centralized exchanges have been best-positioned to offer staking services due to efficiencies of scale. Companies like Binance, Kraken, and Coinbase can easily pool their users’ assets (eliminating the minimum capital requirements), stake it on their behalf (eliminating the operational burden), and issue a liquid market for this staked asset (unlocking liquidity and allowing users to swap back from staked ETH to ETH). These services are valuable for their users, creating a big opportunity for a decentralized alternative.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThat’s why we’re excited to invest in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Flido.fi\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELido\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, an effective, decentralized staking platform. It offers one of the easiest ways to stake ETH and other PoS assets today, while striving for decentralization through the DAO’s governance. Lido democratizes staking.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Lido community’s unwavering commitment to decentralization really stood out to us. They recognize that for their approach to succeed, they will need to create a fully-trustless staking pool while also embracing alternative solutions.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFinally, Lido solves the competitive incentives between staking and seeking yield in DeFi. By issuing an Ethereum-native liquid token, Lido allows you to use staked ETH as collateral within DeFi in the same way you can use ETH currently.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe actively contribute to the networks and communities in our portfolio, so in addition to our investment in Lido, we staked a portion of a16z Crypto’s ETH holdings on the Beacon chain. Staking with Lido removes many of the logistical complexities that institutional investors have faced.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe look forward to supporting the Lido community on its long journey ahead. There will be competitive incentives even after the PoS transition between securing the Ethereum network by staking and alternatively seeking higher returns from participating in DeFi. We will contribute, as both a staker and governance participant, to help ensure a fair, transparent, and credible staking ecosystem.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe want a world where a diverse set of centralized staking services, decentralized staking pools, and individual validators all play a role in securing Ethereum. We are excited to be working with Lido as we collectively build towards this future.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n"}],custom_title:a,redirect_author_links_to_the_post:h,post_redirector:h,related_posts:N,format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d}},tags:[{term_id:dJ,name:bL,slug:bL,term_group:b,term_taxonomy_id:dJ,taxonomy:f,description:a,parent:b,count:kN,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:dK,name:ck,slug:ck,term_group:b,term_taxonomy_id:dK,taxonomy:f,description:a,parent:b,count:kP,filter:d},{term_id:Y,name:ay,slug:az,term_group:b,term_taxonomy_id:Y,taxonomy:f,description:a,parent:b,count:ae,filter:d},{term_id:_,name:W,slug:W,term_group:b,term_taxonomy_id:_,taxonomy:f,description:a,parent:b,count:aK,filter:d}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"538\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F01\u002FInvesting-in-Lido-1024x538.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F01\u002FInvesting-in-Lido-1024x538.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F01\u002FInvesting-in-Lido-300x158.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F01\u002FInvesting-in-Lido-768x403.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F01\u002FInvesting-in-Lido.jpg 1200w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F01\u002FInvesting-in-Lido-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F01\u002FInvesting-in-Lido-150x150.jpg",width:$},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F01\u002FInvesting-in-Lido-300x158.jpg",width:ah},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F01\u002FInvesting-in-Lido-1024x538.jpg",width:aj}],authors:[{ID:"1511",display_name:"Daren Matsuoka",first_name:"Daren",last_name:"Matsuoka",user_login:fB,user_email:a,linked_account:a,website:a,description:"\u003Cp style=\"font-weight: 400\"\u003EDaren Matsuoka is a partner on the crypto investment team at a16z, where he supports deal flow and portfolio companies by extracting data from public blockchains.\u003C\u002Fp\u003E\n\u003Cp style=\"font-weight: 400\"\u003EPrior to a16z, Daren was a Data Scientist at SVB Capital where he developed and managed a proprietary data and analytics platform. Before that, he completed financial training programs at Morgan Stanley and State Street.\u003C\u002Fp\u003E\n\u003Cp style=\"font-weight: 400\"\u003EDaren holds a B.S. in Economics and Computer Science from UC Davis.\u003C\u002Fp\u003E\n",user_nicename:fB,type:A,nickname:a},{ID:"1423",display_name:"Porter Smith",first_name:"Porter",last_name:"Smith",user_login:fC,user_email:a,linked_account:a,website:a,description:"\u003Cdiv\u003EPorter is a deal partner on the a16z crypto team. He focuses on DeFi, governance design, and real-world applications across the crypto landscape.\u003C\u002Fdiv\u003E\n\u003Cdiv\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv\u003EPrior to a16z, Porter was an MH-6M Little Bird and AH-64D Apache helicopter pilot, deploying twice to Afghanistan. He was drawn to web3's systems-centered design thinking and meritocratic ethos.\u003C\u002Fdiv\u003E\n\u003Cdiv\u003E\u003C\u002Fdiv\u003E\n\u003Cdiv\u003EPorter is a proud graduate of the United States Military Academy at West Point.\u003C\u002Fdiv\u003E\n",user_nicename:fC,type:A,nickname:a}],meta_desc:a,seo:{title_tag:kQ,meta_description:a,canonical:kR,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:kQ,open_graph_description:"Ethereum’s upcoming transition from Proof of Work (PoW) to Proof of Stake (PoS) has the potential for cascading effects across the crypto landscape.Instead of using computational resources to secure the network, anyone will be able to stake their ETH and operate block-producing validators, drastically reducing energy consumption. Ethereum’s transaction fees and inflationary-driven rewards will be... Read More",open_graph_url:kR,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2023/01/Investing-in-Lido.jpg":{width:bZ,height:b_,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2023\u002F01\u002FInvesting-in-Lido.jpg",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2023\u002F01\u002FInvesting-in-Lido.jpg",size:an,id:3376,alt:a,pixels:b$,type:ap}},open_graph_site_name:U,estimated_reading_time_minutes:ak,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2022-03-03T00:00:00+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:6360,post_author:"10",post_date:kS,post_date_gmt:kS,post_content:a,post_title:kT,post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"the-myth-of-eth-killers",to_ping:a,pinged:a,post_modified:kU,post_modified_gmt:kU,post_content_filtered:a,post_parent:b,guid:"https:\u002F\u002Fa16z.netlify.app\u002F?p=6360",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:kV,name:fD,slug:"cap-chris-dixon",term_group:b,term_taxonomy_id:kV,taxonomy:z,description:"Chris Dixon   chris-dixon 2427 ",parent:b,count:102,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:dL,name:ch,slug:ch,term_group:b,term_taxonomy_id:dL,taxonomy:f,description:a,parent:b,count:dl,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:Z,name:aG,slug:aH,term_group:b,term_taxonomy_id:Z,taxonomy:B,description:a,parent:b,count:aI,filter:d}],acf:{format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},custom_title:kT,redirect_author_links_to_the_post:h,post_redirector:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003EThe myth of &#8220;ETH killers&#8221; — why demand for blockchains will always outpace supply 🧵\u003C\u002Fp\u003E\n\u003Cp\u003EFor every important computing resource in history demand has outpaced supply. This includes CPUs, GPUs, memory, storage, and both wired and wireless bandwidth.\u003C\u002Fp\u003E\n\u003Cp\u003EThe core dynamic of computing movements is a mutually reinforcing feedback loop between applications and infrastructure.\u003C\u002Fp\u003E\n\u003Cp\u003EConsider a modern smartphone. The phone itself is much better than a decade ago, and so are the apps. The apps drove the popularity of the phones which gave manufacturers more money to reinvest. Improved phones increased the app design space, and the cycle repeated.\u003C\u002Fp\u003E\n\u003Cp\u003EIn the 2000s, when broadband penetration reached minimally viable levels, entrepreneurs created video-sharing sites like YouTube, which spurred broadband demand even more, making video steaming work even better, in a reinforcing loop.\u003C\u002Fp\u003E\n\u003Cp\u003EAs GPUs got better, game developers invested in higher fidelity graphics and experiences, which grew the video games market, giving GPU makers more money to reinvest in chips, and so on.\u003C\u002Fp\u003E\n\u003Cp\u003EThis pattern happens over and over, and is one of the main reasons computers have become ubiquitous and so important in our lives.\u003C\u002Fp\u003E\n\u003Cp\u003ENow let&#8217;s talk about blockchains. Programmable blockchains are computers: you can write (near) Turing-complete code for them, store information in them, and so on.\u003C\u002Fp\u003E\n\u003Cp\u003EIt&#8217;s very likely that similar to other important computing resources of the past, demand for blockchains will consistently outpace supply.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is already true for Ethereum itself, and will likely also be the case for L2s, side chains, and other L1s.\u003C\u002Fp\u003E\n\u003Cp\u003EToday, Ethereum has roughly 10M monthly users, which is roughly 0.2% of all internet users. Over the 2020s, usage will hopefully grow significantly both in terms of number of users and in terms of the number and frequency of transactions per user.\u003C\u002Fp\u003E\n\u003Cp\u003EMany of the apps that will drive this growth probably haven’t even been launched yet. It’s possible they haven’t even been imagined yet.\u003C\u002Fp\u003E\n\u003Cp\u003EThe more blockchain infrastructure projects, the better. For one thing, it&#8217;s important to fully explore the design space, including different approaches to scaling, security, governance, developer and user experience, etc.\u003C\u002Fp\u003E\n\u003Cp\u003ESome of the designs will fail. Others will make fundamental trade offs.\u003C\u002Fp\u003E\n\u003Cp\u003EFor example it’s plausible to imagine a world where frequent-use, low-value transactions happen on blockchains that trade security for performance.\u003C\u002Fp\u003E\n\u003Cp\u003EAssets that increase in value can then be moved to other blockchains that prioritize security over performance.\u003C\u002Fp\u003E\n\u003Cp\u003EIt&#8217;s also important to have many blockchain infrastructure projects because when exponential growth kicks in, we will likely have a consistent shortage of high-quality infrastructure.\u003C\u002Fp\u003E\n\u003Cp\u003EComputing movements are positive-sum games. There can be many winners at both the infrastructure and application layer.\u003C\u002Fp\u003E\n\u003Cp\u003EIt&#8217;s important to run a variety of experiments — and stay focused on the bigger goal of bringing blockchains and web3 mainstream.\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EOriginally published \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fcdixon\u002Fstatus\u002F1462452996785119234\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ehere\u003C\u002Fa\u003E.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F\u003C\u002Fa\u003E.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fa\u003E for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n"}],related_posts:N},tags:[{term_id:dL,name:ch,slug:ch,term_group:b,term_taxonomy_id:dL,taxonomy:f,description:a,parent:b,count:dl,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d}],post_thumbnail:a,post_thumbnail_small:a,post_images:[],authors:[{ID:"2427",display_name:"Chris Dixon",first_name:a,last_name:a,user_login:fD,user_email:a,linked_account:a,website:a,description:"\u003Cp\u003EChris Dixon is a general partner and has been at Andreessen Horowitz since 2012. He founded and leads a16z crypto, which invests in web3 technologies through four dedicated funds with more than $7 billion under management.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif\"\u003EPreviously, Chris was the cofounder and CEO of two startups, SiteAdvisor and Hunch. SiteAdvisor was an internet security company that warned web users of security threats. The company was acquired by McAfee in 2006. Hunch was a recommendation technology company that was acquired by eBay in 2011. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif\"\u003EChris has been a prolific seed investor, cofounding Founder Collective, a seed venture fund, and making a number of personal angel investments in various technology companies. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif\"\u003EChris started programming as a kid, and was a professional programmer after college at the high-speed options trading firm, Arbitrade. He has a BA and MA in Philosophy from Columbia and an MBA from Harvard. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif\"\u003EChris writes about his theories and experiences as an entrepreneur and investor on \u003Ca href=\"https:\u002F\u002Fcdixon.mirror.xyz\u002F\"\u003EMirror\u003C\u002Fa\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif\"\u003E and before that on \u003Ca style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif\" href=\"https:\u002F\u002Fmedium.com\u002F@cdixon\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMedium\u003C\u002Fa\u003E and at \u003C\u002Fspan\u003E\u003Ca style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif\" href=\"http:\u002F\u002Fcdixon.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003Ecdixon.org\u003C\u002Fa\u003E\u003Cspan style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif\"\u003E. He is also a frequent guest on the \u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fweb3-with-a16z-podcast\u002F\"\u003E\"web3 with a16z\" podcast\u003C\u002Fa\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETwitter: \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fcdixon\"\u003E@cdixon\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n",user_nicename:fD,type:A,nickname:a}],meta_desc:a,seo:{title_tag:kW,meta_description:a,canonical:kX,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:kW,open_graph_description:a,open_graph_url:kX,open_graph_images:[],open_graph_site_name:U,estimated_reading_time_minutes:b,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2021-11-21T16:21:59+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h},{ID:3690,post_author:de,post_date:kY,post_date_gmt:kY,post_content:"\u003Cp\u003E\u003Cem\u003EEditor&#8217;s Note: These notes, based on talks at the Ethereum Foundation&#8217;s \u003Ca href=\"https:\u002F\u002Fethereumfoundation.org\u002Fdevcon3\u002Fagenda\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ethird annual developer&#8217;s conference\u003C\u002Fa\u003E earlier this month, were shared internally over email, as part of our ongoing sharing of ideas and learning inside a16z. They&#8217;ve now been reposted here, unedited, as a resource for those interested in ethereum technology, research, development, and more. For more about the Ethereum Foundation and resources, \u003Ca href=\"https:\u002F\u002Fethereum.org\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Evisit their site\u003C\u002Fa\u003E. For our own podcasts and writings, go \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fcategory\u002Fblockchain-cryptocurrencies-bitcoin-ethereum\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ehere\u003C\u002Fa\u003E. \u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Ethereum in 25 Minutes (Vitalik Buterin)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EWhy ethereum?\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESeeming public consensus since 2013 that blockchains are useful for… stuff. Not just money! Asset issuance, etc\u003C\u002Fli\u003E\n\u003Cli\u003EProblem: most existing blockchain protocols were designed like a calculator &#8212; can do one thing well.\n\u003Cul\u003E\n\u003Cli\u003EPeople were starting to create protocols that worked like a Swiss army knife. Come up with 25 different blockchain applications, protocols. But breaks down when 26th application comes around\u003C\u002Fli\u003E\n\u003Cli\u003EWhy not make a protocol that works like a smartphone? Instead of supporting small suite of applications, support a programming language which gives you the ability to create applications. Anyone can write code, package it, and you have an app. Anyone can download the app, use it and run it\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe concept &#8212; Ethereum is a blockchain with a few additions. There are two types of accounts:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUser accounts (controlled by private keys). If transaction included in a block, it gets executed\u003C\u002Fli\u003E\n\u003Cli\u003EContracts (controlled by code): If thing A happens, send coins to person X. If you send coins into the account, the code is the only thing that can move coins around. Digital assets controlled by computer program. Can be used to represent arbitrarily complex business logic on the blockchain (e.g. on blockchain voting scheme, ENS (name service), issuer backed assets, etc)\u003C\u002Fli\u003E\n\u003Cli\u003EAnyone can create an application with any rules by defining it as a contract\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EState vs history. State == “current” information. Accounts to balances (how much Ether), nonce (counter for replay protection), contract code and contract storage (mini database that any contract on blockchain can use). History == things that happened. Transactions, receipts. Currently, all “full” nodes store state, some store history, and some do not store history\u003C\u002Fp\u003E\n\u003Cp\u003ECode execution: Every transaction has a TO address it sends to (unless it’s creating a contract) . The TO address’s code runs. Code can: send ETH to other contracts, read\u002Fwrite storage, call other contracts\u003C\u002Fp\u003E\n\u003Cp\u003EGas &#8212; Halting problem: cannot tell whether or not a program will run infinitely. Solution: charge fee per computational step (“gas”). Special gas fees applied to operations that take up storage. Not a currency (can’t transfer or hold), but a unit of measurement\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EGas limit &#8212; Counterpart to the block size limit in bitcoin, set by miners voting on it. Currently at 6.7m\u003C\u002Fli\u003E\n\u003Cli\u003ETransactions contain:\n\u003Cul\u003E\n\u003Cli\u003Enonce (anti-replay attack) &#8212; Send 10 ETH to Bob, prevents Bob from including it in the blockchain 100 times\u003C\u002Fli\u003E\n\u003Cli\u003Egasprice (amount of ether per unit gas)\u003C\u002Fli\u003E\n\u003Cli\u003Estartgas (max gas consumable)\u003C\u002Fli\u003E\n\u003Cli\u003Eto (Destination address)\u003C\u002Fli\u003E\n\u003Cli\u003Evalue (amount of ETH to send)\u003C\u002Fli\u003E\n\u003Cli\u003Edata (readable by contract code)\u003C\u002Fli\u003E\n\u003Cli\u003Ev, r, s (ECDSA signature values)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ELogs: Append-only, not readable by contracts. Bloom filter protocol to allow easier searching by topic. Put in Merkle tree so efficient light client access to event records (domain name changed, etc)\u003C\u002Fp\u003E\n\u003Cp\u003EEVM: Stack, Memory (temporary array of data VM can access), Storage (contract’s database), Environment variables (block number, timestamp), Logs, Sub-calling\u003C\u002Fp\u003E\n\u003Cp\u003EHigh level languages (most of the time won’t be writing in EVM code): Viper, Solidity, LLL, Bamboo\u003C\u002Fp\u003E\n\u003Cp\u003EThe ABI\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EFunction calls are compiled into transaction data\u003C\u002Fli\u003E\n\u003Cli\u003EFirst 4 bytes: function ID\u003C\u002Fli\u003E\n\u003Cli\u003ENext 64 bytes: first argument (32 byte), second argument\u003C\u002Fli\u003E\n\u003Cli\u003ECreate transaction, broadcast to network.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMerkle trees are singlehandedly responsible for making light clients possible. Allows for efficiently verifiable proofs that a transaction was included in a block (or verify that a piece of data included in a larger piece of data). Branch of hashes that allow you to check membership. State tree &#8212; Merkle tree of entire Ethereum state &#8212; contract code, storage, transactions, etc. Root hash goes into the block header &#8212; called the state root\u003C\u002Fp\u003E\n\u003Cp\u003ENew in Byzantium (hard fork live Oct 16) &#8212; Privacy features: Ring signatures, zk-snarks, big number exponentiation (think: RSA)\u003C\u002Fp\u003E\n\u003Cp\u003EFuture directions\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECasper\u003C\u002Fli\u003E\n\u003Cli\u003ESharding\u003C\u002Fli\u003E\n\u003Cli\u003EEVM and other protocol upgrades\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Introduction to Casper Implementation (Chang-Wu Chen)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EEthereum&#8217;s next generation Proof of Stake, Deposit-based proof of stake consensus protocol. Put ETH into contract to become validator.\u003C\u002Fp\u003E\n\u003Cp\u003EByzantine fault tolerant (BFT) style Proof of Stake. If more than 2\u002F3 validators follow protocol, then no conflicting blocks will be finalized.\u003C\u002Fp\u003E\n\u003Cp\u003ETwo versions of Casper in internal research team:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECasper the Friendly Finality Gadget (Casper-FFG), designed by Vitalik\u003C\u002Fli\u003E\n\u003Cli\u003ECasper the Friendly Ghost: Correct by Construction (Casper-CBC), designed by Vlad\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EHow does Casper work?\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EAdvantages: Energy efficiency (don’t need hardware for mining). Reduces the risk of centralization. Can only get 1 dollar’s worth of benefit per dollar vs PoW &#8212; cheaper cost when you have high computational power. Economic finality (security)\u003C\u002Fli\u003E\n\u003Cli\u003EBFT-based (Byzantine Fault Tolerance). If more than 2\u002F3 validators follow protocol, then no conflicting blocks will be finalized. It also means if the majority is less than 2\u002F3, the system will get stuck if no additional action is taken\u003C\u002Fli\u003E\n\u003Cli\u003EChallenges: Goal: an ever-growing canonical chain. In PoW, a single miner can make progress over time. In PoS, system can get stuck if validators misbehave. Keep in mind that validators could malfunction or misbehave: Accountable safety, Plausible liveness\u003C\u002Fli\u003E\n\u003Cli\u003EAny ETH holder can become a validator (a fixed amount of ETH) by simply depositing ETH into the Casper smart contract. Validator’s job to reach a consensus via vote. Validator’s vote weight is proportional to the total deposit size\u003C\u002Fli\u003E\n\u003Cli\u003EReward: if the checkpoint is getting finalized, then the validator gets the reward\u003C\u002Fli\u003E\n\u003Cli\u003EHybrid Casper\n\u003Cul\u003E\n\u003Cli\u003ELayering PoS on top of PoW &#8212; check points are coming from PoW\u003C\u002Fli\u003E\n\u003Cli\u003EEvery 100 blocks (epoch) will have a checkpoint that validators will vote for\u003C\u002Fli\u003E\n\u003Cli\u003EIncentivize miners to migrate to PoS\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EVote message &#8212; A vote has four parameters: epoch number, checkpoint hash, epoch source, checkpoint hash source\u003C\u002Fli\u003E\n\u003Cli\u003ESupermajority link &#8212; An ordered pair of checkpoints with target and source (a, b), such that at least 2\u002F3 of validators (by deposit) have published votes with source a and target b\u003C\u002Fli\u003E\n\u003Cli\u003EJustified checkpoint &#8212; The genesis is always justified and finalized. If a chain has accepted votes from 2\u002F3rds of validators for some checkpoint C that all use as a source the same ancestor C’, and C’ is justified, then C is justified\u003C\u002Fli\u003E\n\u003Cli\u003EFinalized checkpoint &#8212; A checkpoint C is finalized if it is justified and has a direct child C’ that is justified\u003C\u002Fli\u003E\n\u003Cli\u003EAccountable safety &#8212; At least 1\u002F3 of total deposits will be slashed if two conflicting checkpoints are finalized\u003C\u002Fli\u003E\n\u003Cli\u003EAvoid double vote &#8212; Don’t contradict yourself within the same epoch. Avoid surround vote &#8212; make sure targets in the DAGs are consistent with your previous vote\u003C\u002Fli\u003E\n\u003Cli\u003EPlausible liveness &#8212; Supermajority links can always be added to produce new finalized checkpoints, provided there exist children extending the finalized chain\u003C\u002Fli\u003E\n\u003Cli\u003EStatus\n\u003Cul\u003E\n\u003Cli\u003ECasper contract: Manage dynamic validator sets, vote records in each epoch, slash conditions, rewards and penalties\u003C\u002Fli\u003E\n\u003Cli\u003EProof of concept: Casper-FFG contract, testing language, run on testate to evaluate the correctness, no particular release date\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Presenting Parity: A Light Client for a Heavy Chain (Robert Habermeier)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EClassifications of Ethereum clients\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EFull nodes verify all blocks and transactions\u003C\u002Fli\u003E\n\u003Cli\u003ELight clients verify block headers, but don’t verify transactions\u003C\u002Fli\u003E\n\u003Cli\u003EThin client &#8212; isn’t checking consensus process, but has someone else do checking and then fetch data about the chain\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESecurity guarantees of a light client\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EChecks validity of headers, but not validity of state transitions (transaction execution, block reward, etc)\u003C\u002Fli\u003E\n\u003Cli\u003EWhat kinds of attacks does this leave us open to? Targeted attacks toward individuals (not able to do this on the whole network), by sending them fake headers\u003C\u002Fli\u003E\n\u003Cli\u003EWhen doing large transactions would want security of a full node\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E1. Backreferencing &#8212; We want not only homogeneous requests to be responded to in a specific packet (e.g. account balance at block A, data at block A, etc), minimizes round trips\u003C\u002Fp\u003E\n\u003Cp\u003E2. State proofs\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ETransaction execution (for gas estimation or etc_call) requires an unpredictable subset of the state trie\u003C\u002Fli\u003E\n\u003Cli\u003ENaive requesting from network leads tumor round trips and duplicate info\u003C\u002Fli\u003E\n\u003Cli\u003ERequest an entire transaction proof from a peer\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E3. Request credits\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EServing nodes give peers “credits” that can be used to make requests\u003C\u002Fli\u003E\n\u003Cli\u003ECredits recharge slowly over time\u003C\u002Fli\u003E\n\u003Cli\u003EDifferent requests have different costs: determined by server\u003C\u002Fli\u003E\n\u003Cli\u003EServers gather data on request serving times and adapt costs\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E4. Pub\u002Fsub\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EQuerying for data like events or contract states changing can be wasteful\u003C\u002Fli\u003E\n\u003Cli\u003EFull node peers know better than we do when something has changed\u003C\u002Fli\u003E\n\u003Cli\u003ESubscribing to changes let us keep track better\u003C\u002Fli\u003E\n\u003Cli\u003ECaveat: catching out peers who don’t publish when they’re supposed to\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ECanonical Hash Tries &#8212; This is how we avoid storing most headers on the light client\u003C\u002Fp\u003E\n\u003Cp\u003EBlock Pruning on Full Nodes\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EWe already use DHT-style routing in the network protocols\u003C\u002Fli\u003E\n\u003Cli\u003EK-buckets are sybil resistant\u003C\u002Fli\u003E\n\u003Cli\u003EMake Node IDs assign responsibilities for batches of N historical blocks\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Challenges Ahead for Smart Contracts (Emin Gun Sirer)\u003C\u002Fstrong\u003E\u003Cstrong\u003E \u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EEthereum today &#8212; “blockchain” is a word that needs no article, definite or indefinite\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECryptocurrencies are a new asset class, worth $100b\u003C\u002Fli\u003E\n\u003Cli\u003EEthereum has emerged as a platform for new projects &#8212; $1.4b traditional VC money invested in startups as of Jan 2017. More than $2b projected in ICOs this year\u003C\u002Fli\u003E\n\u003Cli\u003EStrong foundation: EVM, Solidity, Dapps. No downtime since launch\u003C\u002Fli\u003E\n\u003Cli\u003EMultiple implementations of EVM: Parity, Gets\u003C\u002Fli\u003E\n\u003Cli\u003ESupportive, constructive, science-driven community (worth its weight in any currency, actual value proposition)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESignificance\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EWe are witnessing the emergence of a new class of systems: A new take on eliminating trust, Trustworthiness comes through audibility and transparency\u003C\u002Fli\u003E\n\u003Cli\u003EAs well as the emergence of a new class of financial instruments, instruments that are executable\u003C\u002Fli\u003E\n\u003Cli\u003EAnd a new form of social organization: Crypto-backed corporations, trusts, partnerships\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EChallenges ahead for Ethereum\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EScale &#8212; How do we pack more transactions\u002Fs without impacting decentralization?\u003C\u002Fli\u003E\n\u003Cli\u003ECorrectness &#8212; how do we make sure that contracts do what we think they do?\u003C\u002Fli\u003E\n\u003Cli\u003EPrivacy &#8212; how do we couple confidential, private data with smart contracts?\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EScale\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EBlockchain operation &#8212; create interlinked blocks, append to ledger\u003C\u002Fli\u003E\n\u003Cli\u003EMakes it infeasible to modify the past, as long as attacker does not control majority hash power\u003C\u002Fli\u003E\n\u003Cli\u003EThe Block Size dilemma\n\u003Cul\u003E\n\u003Cli\u003EThe Bitcoin community is having a civil war over the maximum size of a block\u003C\u002Fli\u003E\n\u003Cli\u003EEthereum: Blocks cannot exceed 1MB, are issued every 14s. Throughput: 7-25tx\u002Fs (Bay bridge probably processes ~7 tx\u002Fs in traffic). Latency: 14s\u003C\u002Fli\u003E\n\u003Cli\u003ESimply increasing the block size is not a long term option. Very large blocks can lead to centralization\u003C\u002Fli\u003E\n\u003Cli\u003EScience of consensus protocols (vs. &#8220;Design by gut”) &#8212; New metrics for probabilistic consensus protocols: Mining power utilization. Fairness (even to small miners). Consensus delay (want it to be low). Time to win and Time to prune (latency of consensus process from the point of view of a miner).\u003C\u002Fli\u003E\n\u003Cli\u003EApparatus for measurement and evaluation &#8212; Miniature world, a 1:1 replica (of crypto world in basement of Cornell CS department). Falcon network, relay backbone (Collect data from inside Bitcoin network).\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cul\u003E\n\u003Cli\u003EEthereum findings\n\u003Cul\u003E\n\u003Cli\u003EEthereum PoW system incurs many uncle blocks (would be nice to reduce)\u003C\u002Fli\u003E\n\u003Cli\u003EEthereum network would benefit from a relay network\u003C\u002Fli\u003E\n\u003Cli\u003EEthereum mining ecosystem is more centralized than Bitcoin\u003C\u002Fli\u003E\n\u003Cli\u003EState of the art in an- and off-chain scaling?\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EBitcoin-NG &#8212; (best) protocol for on-chain scaling. Reassigning roles to blocks\n\u003Cul\u003E\n\u003Cli\u003EAssigning a leader to the key block that verifies transactions as they come in\u003C\u002Fli\u003E\n\u003Cli\u003EKey blocks are small and rare, micro blocks are small and frequent\u003C\u002Fli\u003E\n\u003Cli\u003ECritical part is in getting th incentives structure just right so the subsequent miner will extend the longest chain\u003C\u002Fli\u003E\n\u003Cli\u003ESet of constraints guide us to precise parameters\u003C\u002Fli\u003E\n\u003Cli\u003EBitcoin-NG has better fairness than Bitcoin as block size increases\u003C\u002Fli\u003E\n\u003Cli\u003ECan yield ~300tx\u002Fs. Not quite VISA\u002FGoogle scale\u003C\u002Fli\u003E\n\u003Cli\u003EByzCoin generalizes the NG idea to a coalition of leaders\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EScaling, Off-chain\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ELightning and Raiden\n\u003Cul\u003E\n\u003Cli\u003ETake load off blockchain to two parties that communicate in private and resolve back to the blockchain\u003C\u002Fli\u003E\n\u003Cli\u003EFundamental problem: the participants have access to old settlement transactions. They can push an old state, rewinding the channel\u003C\u002Fli\u003E\n\u003Cli\u003EEcosystem: requires constant monitoring of the chain (so parties don’t try settle early). Starts to look more like a bank\u003C\u002Fli\u003E\n\u003Cli\u003ESecurity: vulnerable to transaction malleability\u003C\u002Fli\u003E\n\u003Cli\u003EPerformance: require multiple round trips\u003C\u002Fli\u003E\n\u003Cli\u003ETeechan and Teechain. Inside every recent Intel chip is a TEE (trusted execution environment), something far better than a Trezor\u002FLedger. Also inside ARM and AMD. All memory is encrypted, if program is hacked, access to decryption keys is lost\u003C\u002Fli\u003E\n\u003Cli\u003ERemote attestation &#8212; prove to a remote host what code you are running\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ETeechan\n\u003Cul\u003E\n\u003Cli\u003ESecure, hardware based protocol\u003C\u002Fli\u003E\n\u003Cli\u003EFreeze the on-chain state of two contracts: Exchange keys (safe because executing in TEE, cannot get keys out). Use peer-to-peer state changes, off chain. Settle and update on chain state of two contracts.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ETeechain\n\u003Cul\u003E\n\u003Cli\u003EGeneralized Teechan to multi hop, atomic transactions. Implemented on Bitcoin, signed with SGX keys\u003C\u002Fli\u003E\n\u003Cli\u003E&gt;100ktx\u002Fs\u002Fchannel\u003C\u002Fli\u003E\n\u003Cli\u003E&lt;30ms latency UK to US\u003C\u002Fli\u003E\n\u003Cli\u003EWork underway for Ethereum\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ECorrectness\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EVerify smart contracts do what you think they should\u003C\u002Fli\u003E\n\u003Cli\u003ETypically done with the aid of a specification\u003C\u002Fli\u003E\n\u003Cli\u003EA rich field, many decades old\u003C\u002Fli\u003E\n\u003Cli\u003ESoftware verification as we know it falls short (so far focusses on safety and liveness); also needs game theoretic verification\u003C\u002Fli\u003E\n\u003Cli\u003ESafety: proving that a predicate is always true on all parts of execution: “sum totals of tokens &lt;N”, “token balances are conserved”\u003C\u002Fli\u003E\n\u003Cli\u003ELiveness: proving that eventually something good happens on every path “smart contract does not get stuck”\u003C\u002Fli\u003E\n\u003Cli\u003EGame theoretic properties:\n\u003Cul\u003E\n\u003Cli\u003E“this contract is fair to all participants”\u003C\u002Fli\u003E\n\u003Cli\u003E“this contract is truthful or incentive-compatible”\u003C\u002Fli\u003E\n\u003Cli\u003E“late voters in a DAO are not disadvantaged”\u003C\u002Fli\u003E\n\u003Cli\u003E“DAO++ is designed to be regret-free”\u003C\u002Fli\u003E\n\u003Cli\u003E“contract maximizes social utility\u002Foutcomes”\u003C\u002Fli\u003E\n\u003Cli\u003Etypically need to be coupled with models of utility. almost always need to be evaluated with respect to other execution paths\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EWe still need basic program verification\n\u003Cul\u003E\n\u003Cli\u003EWe still need oracles (virtual notary, town crier, Oraclize, Augur, …)\u003C\u002Fli\u003E\n\u003Cli\u003EWe will need escape hatches &#8212; crowd-sourced possible for use in decentralized settings\u003C\u002Fli\u003E\n\u003Cli\u003EBut we need to start tackling problems on the horizon &#8212; btw, the DAO suffered from multiple such problems that required human examination to find\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPrivacy\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPrivate data and public blockchains do not mix &#8212; all contract state is public. Contracts cannot hold or exercise secret keys (e.g. API keys, interact with AWS, exchanges)\u003C\u002Fli\u003E\n\u003Cli\u003EThere is private data we’d love to store\u003C\u002Fli\u003E\n\u003Cli\u003ECreDB &#8212; new database, implemented on secure hardware\n\u003Cul\u003E\n\u003Cli\u003ENot on-chain, but on network. NoSQL-like\u003C\u002Fli\u003E\n\u003Cli\u003EEidetic &#8212; remembers everything that ever happened\u003C\u002Fli\u003E\n\u003Cli\u003EBlockchain-driven &#8212; gets its instructions from the blockchain in encrypted form. Can store data, can query, can store methods\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EConclusions\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPlanetary scale decentralized computer that executes in tandem with integrity\u003C\u002Fli\u003E\n\u003Cli\u003EThere are exciting challenges ahead, we know at least the next few steps\u003C\u002Fli\u003E\n\u003Cli\u003EWith a science driven constructive community we are poised to tackle them and more\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Intro to Cryptoeconomics (Karl Floersch)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EWhen you have programmable incentives, you can program human behaviour\u003C\u002Fp\u003E\n\u003Cp\u003ECryptoeconomics\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EThe application of economics and cryptography to achieve information security goals\u003C\u002Fli\u003E\n\u003Cli\u003EDesigning Incentives. “You cannot reasonably about security of blockchain protocols without reasoning about economics” &#8212; Vitalik\u003C\u002Fli\u003E\n\u003Cli\u003ECryptography &#8212; hash functions, digital signatures, Merkle DAGs, zkSNARKS\u003C\u002Fli\u003E\n\u003Cli\u003EEconomics &#8212; tokens, voting rights, bribing attacker, auctions\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EGood outcomes &#8212; trusted execution, open access, fast finality, decentralized control, inexpensive\u003C\u002Fp\u003E\n\u003Cp\u003EBad outcomes &#8212; safety failure, censorship, etc\u003C\u002Fp\u003E\n\u003Cp\u003ECasper is just one of many crypto economic mechanisms, e.g. Automated market maker contract. Design a mechanism, analyze incentives, make a website &amp; logo, publish analysis &amp; website, observe behavior, record findings. Smart contract trading ETH to UNI.\u003C\u002Fp\u003E\n\u003Cp\u003EParticipation incentive\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EExchange creator:\n\u003Cul\u003E\n\u003Cli\u003E+Passive fee income (race to the bottom? can model out, play around with it. what tokens is it useful for? [don’t want to create market maker for a token that will plummet]).\u003C\u002Fli\u003E\n\u003Cli\u003E-Capital lockup.\u003C\u002Fli\u003E\n\u003Cli\u003E? Maintain 50\u002F50 hedge\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EToken buyers\n\u003Cul\u003E\n\u003Cli\u003E+Minimal transactions\u003C\u002Fli\u003E\n\u003Cli\u003E+Trustless exchange\u003C\u002Fli\u003E\n\u003Cli\u003E&#8211; exchange fee\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EToken arbitrageurs\n\u003Cul\u003E\n\u003Cli\u003E+ Low risk profit (how close will the price track other exchanges?)\u003C\u002Fli\u003E\n\u003Cli\u003E+ trustless exchange\u003C\u002Fli\u003E\n\u003Cli\u003E&#8211; exchange fee\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EIf assumptions hold true, the exchange will produce the following outcomes within these bounds… good outcomes? Good &#8212; easier exchange, trestles trades, liquidity for small trades. Bad &#8212; no KYC, bots get richer, miner front running\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EGoing live &#8212; code, open source, publish. Anyone can deploy a contract which can be trusted with millions of dollars. Can recreate financial systems and anyone can do it\u003C\u002Fp\u003E\n\u003Cp\u003ELearning from mistakes &#8212; miner front running\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EAssumptions were incorrect, forgot about miner front runners\n\u003Cul\u003E\n\u003Cli\u003ESlip in my transaction before it closes, sell for quick profit\u003C\u002Fli\u003E\n\u003Cli\u003E+super low risk profit\u003C\u002Fli\u003E\n\u003Cli\u003E&#8211; dev costs\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EDisincentivize &#8212; flat rate per block? trusted tx ordering oracle? just accept it as a \u003Cstrong\u003Eminor\u003C\u002Fstrong\u003E tax?\u003C\u002Fli\u003E\n\u003Cli\u003EToken arbitrageurs initially human, but are eventually replaced with bots\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EProgramming incentives\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESuperpowers for makers\u003C\u002Fli\u003E\n\u003Cli\u003EIncentives drive behavior\u003C\u002Fli\u003E\n\u003Cli\u003EProgram incentives which promote cooperation, equitability, not incentives which promote domination\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESolving big problems &#8212; Energy, financial tools (decentralized exchanges), reward content creators with more interesting incentives\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Casper the Friendly Ghost: A correct-by-construction blockchain (Vlad Zamfir)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EProcess for Casper the friendly finality gadget &#8212; taking existing consensus protocols and simplifying them, for consensus safety\u003C\u002Fp\u003E\n\u003Cp\u003ECasper the friendly ghost &#8212; derived to satisfy\u003C\u002Fp\u003E\n\u003Cp\u003E“Proof of work” blockchain consensus does not decide on one block at a time, more overhead\u003C\u002Fp\u003E\n\u003Cp\u003ECasper: Each block finalized with async BFT consensus safety. And it only requires O(1) per node\u003C\u002Fp\u003E\n\u003Cp\u003EAbstract consensus safety proof:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EWe need:\n\u003Cul\u003E\n\u003Cli\u003E“Protocol states”, “protocols tate transitions”; an “estimator” to define “estimate safety”\u003C\u002Fli\u003E\n\u003Cli\u003EProtocol states are elements in a set, and protocol state transitions are directed paths through protocol states\u003C\u002Fli\u003E\n\u003Cli\u003EAn estimator maps protocol states to estimates. In binary consensus it maps to 0 or 1\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EAn estimate is said to be safe if it is consistent to future protocol states\u003C\u002Fli\u003E\n\u003Cli\u003EIf two estimates are safe at two states, and they have a future in common, then they are also safe at that future\u003C\u002Fli\u003E\n\u003Cli\u003EKey intuition &#8212; we remove the states that have too many Byzantine faults, states have a common future because there are not more than N Byzantine faults\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EBinary Consensus\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EProtocol messages that are bits\u003C\u002Fli\u003E\n\u003Cli\u003EScore of an estimate is sum of estimators that have that estimate, Look at all recent validators\u003C\u002Fli\u003E\n\u003Cli\u003EDetecting Byzantine faults &#8212; attest to what they see from other nodes. Equivocation &#8212; find Byzantine faults by equivocations\u003C\u002Fli\u003E\n\u003Cli\u003EArrive at an binary Estimate safety\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ECasper the friendly ghost\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EBlocks have another block in the estimate spot.\u003C\u002Fli\u003E\n\u003Cli\u003EScore of a block is weight of validators whose latest messages have the block in their blockchains\u003C\u002Fli\u003E\n\u003Cli\u003EGreedy heaviest observed sub-tree\u003C\u002Fli\u003E\n\u003Cli\u003EProtocol states and state transitions are defined in the same way as before\u003C\u002Fli\u003E\n\u003Cli\u003EEstimate safety &#8212; For all future protocol states, this block is in the blockchain we will choose in all future states\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ENodes running either of these protocols will need to detect estimate safety in order to make decisions on safe estimates\u003C\u002Fp\u003E\n\u003Cp\u003EClique Oracle: Nodes in a clique can’t change each other&#8217;s estimates\u003C\u002Fp\u003E\n\u003Cp\u003EValidator rotation\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EDefine a block structure with weights mappings in the justification\u003C\u002Fli\u003E\n\u003Cli\u003EWe will score blocks according to the weights map in their parent\u002Fprev block\u003C\u002Fli\u003E\n\u003Cli\u003EBut none of the other definitions need to change, so done with addicting validator rotation to consensus safety\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EExperimental observations: blockchain\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EBlocks can contribute to the finality of many blocks; blocks will agree and disagree will other blocks; will determine how future safety turns out\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Panel: Casper and Consensus (Vitalik Buterin, Vlad Zamfir, Peter Czaban, Emin Gun Sirer, Elaine Shi)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ECasper principles: decentralization, Byzantine fault tolerance, economic security\u003C\u002Fp\u003E\n\u003Cp\u003EGoal of Casper-FFG, as simple as possible, as simple to graft onto PoW chains as possible while being safe under asynchroncity, BFT\u003C\u002Fp\u003E\n\u003Cp\u003EProof of stake increases security because you get finality that’s safe in asynchrony (vs PoW). Attacking nodes attack at a higher cost than PoW\u003C\u002Fp\u003E\n\u003Cp\u003EVitalik: Thought experiment: attacker spends $1b to buy ASICs, 51% attack. Can spawn camp. Developers will change the PoW algorithm so ASICs become useless. Attacker has lost $1b. All of good miners lost useful hardware as well\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EGet another $1b, corner market on GPUs. Launch another 51% attack, general purpose so developers have no countermove.\u003C\u002Fli\u003E\n\u003Cli\u003EHas to make cost of attack very high &#8212; survival through domination of hash power\u003C\u002Fli\u003E\n\u003Cli\u003EProof of stake attack.\n\u003Cul\u003E\n\u003Cli\u003EBuy $100m of Ether\u003C\u002Fli\u003E\n\u003Cli\u003EBreaks finality, censors transaction for a while &#8212; Worst case: community can coordinate hard fork. Legitimate because PoW people agree to changing algorithm, which is also a hard fork. Attacker loses money, community not affected. Eventually run out of money, price of Ether increases after multiple attacks.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPoW &#8212; at the mercy of hardware trends. &#8212; as people come with better ASIC tricks, heat\u002Fcooling, no knob to turn to adjust. PoS have ability to put independent individual knobs on individual participants in system\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Introducing the TrueBit Virtual Machine (Jason Teutsch)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ETake C\u002FC++ code, run verification code\u003C\u002Fp\u003E\n\u003Cp\u003EEthereum sacrificed computation speed for immutability + communication component\u003C\u002Fp\u003E\n\u003Cp\u003EScalability idea #1 &#8212; obliterate Ethereum’s gasLimit\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EgasLimit helps incentivize transaction verification\u003C\u002Fli\u003E\n\u003Cli\u003EA world without gasLimit &#8212; a heavy transaction with a massive transaction fee\u003C\u002Fli\u003E\n\u003Cli\u003EVerifier’s Dilemma &#8212; in the case of a heavy transaction, what should a rational miner do?\n\u003Cul\u003E\n\u003Cli\u003ESkipping verification affords an advantage in the mining race &#8212; therefore skip verification\u003C\u002Fli\u003E\n\u003Cli\u003EMining on the “wrong&#8221; chain means the other miners will ignore a found block. Therefore do the verification\u003C\u002Fli\u003E\n\u003Cli\u003EPrevents smart contracts from running for more than a fraction of a second\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETrueBit gives Ethereum a computational boost &#8212; do heavy work off chain\u003C\u002Fp\u003E\n\u003Cp\u003EProtocol goals:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EAnyone can offer a reward for performing a computational task\u003C\u002Fli\u003E\n\u003Cli\u003EAnyone can solve a task in exchange for a reward\u003C\u002Fli\u003E\n\u003Cli\u003EThe protocol guarantees correctness of solutions\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EConsists of an Ethereum smart contract and a off chain computation framework\u003C\u002Fp\u003E\n\u003Cp\u003EUnanimous consensus algorithm (unlike Ethereum which is majority)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EAnyone can challenge a computation by taking it to court &#8212; verification game\u003C\u002Fli\u003E\n\u003Cli\u003EJudges enforce a binary search to pinpoint the step where the disagreement occurs\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EScalability ideas #2 &amp; #3\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EHow can we ensure that verification actually occurs?\u003C\u002Fli\u003E\n\u003Cli\u003EIdea 2: offer rewards for checking coputations. Incentivizes participation, but doesn’t incentivize correctness\u003C\u002Fli\u003E\n\u003Cli\u003EIdea 3: Offer rewards for finding bugs. Incentivizes correctness, but doesn’t incentivize participation (where there are no bugs)\u003C\u002Fli\u003E\n\u003Cli\u003EVerifiers will stop paying attention if they don’t expect rewards\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EScalability idea #4: forced errors\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EOffer a bug bounty and provide expectation that bugs will exist\u003C\u002Fli\u003E\n\u003Cli\u003ETrueBit protocol occasionally pays “Solvers” for submitting incorrect solutions\u003C\u002Fli\u003E\n\u003Cli\u003EDispute resolution subroutine ensures correctness whenever “forced errors” are not in effect\u003C\u002Fli\u003E\n\u003Cli\u003EIdeally, this subroutine is never used\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThree properties of TVM:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ETasks must compile and execute identically on all machines\u003C\u002Fli\u003E\n\u003Cli\u003EA single computation step on the TVM runs comfortably within Ethereum’s gas limit\u003C\u002Fli\u003E\n\u003Cli\u003ESpace required to describe a TVM state change fits inside a single Ethereum transactions\u003C\u002Fli\u003E\n\u003Cli\u003EA Turing machine would be ideal but there’s no such compiler. Next best thing: go to WebAssembly steps, broken down into 16 sub steps\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Plasma (Joseph Poon)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EAt its core, Building a blockchain on top of a blockchain\u003C\u002Fp\u003E\n\u003Cp\u003EWrite a contract on Ethereum, taking a library and modifying it to suit your needs (e.g. social network, private blockchain that binds to public network &#8212; Ethereum becomes base chain for private chains, micropayments, decentralized exchange)\u003C\u002Fp\u003E\n\u003Cp\u003EInitialize Plasma blockchain\u003C\u002Fp\u003E\n\u003Cp\u003ELocalized computation &#8212; only periodic commitments\u003C\u002Fp\u003E\n\u003Cp\u003EUnique rules per Plasma blockchain\u003C\u002Fp\u003E\n\u003Cp\u003EDecentralized applications at scale\u003C\u002Fp\u003E\n\u003Cp\u003EPeriodic commitments to the root chain. Not really trusting them &#8212; periodically commit small (hundreds of bytes) hashes. Not proof of existence, actually enforceable\u003C\u002Fp\u003E\n\u003Cp\u003EFraud proof enforcement. Submit proof on Ethereum &#8212; Merkleized attestation and proof. Can represent information very compactly\u003C\u002Fp\u003E\n\u003Cp\u003ECore novelty in Plasma is around exits\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EExiting Byzantine behavior &#8212; predesign contracts so all Plasma blockchains allow for orderly exits\u003C\u002Fli\u003E\n\u003Cli\u003EData unavailability. Can’t prove when someone is withholding data. Exit in the event blocks are withheld\u003C\u002Fli\u003E\n\u003Cli\u003EWhen you discover blocks are being withheld (could be bad data, bad state transitions, can’t prove because no data), you exit to another Plasmas blockchain or the root blockchain as soon as possible\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EAllows computation with map reduce\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMap &#8212; blockchains doing computation\u003C\u002Fli\u003E\n\u003Cli\u003EReduce computations back down &#8212; return values\u003C\u002Fli\u003E\n\u003Cli\u003EReach computation scale\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EDesign goals\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EOne blockchain can encompass all worldwide blockchains\u003C\u002Fli\u003E\n\u003Cli\u003ETrust minimization\u003C\u002Fli\u003E\n\u003Cli\u003EPayment and ledger scalability\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETransaction Data Availability Problem\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ETransactions in a Plasma block &#8212; let’s say you wanted to create a simple payment in a Plasma block. Try to create a transaction similar to a standard payment on root chain Ethereum.\n\u003Cul\u003E\n\u003Cli\u003EPotential Problem: Cannot attest to this payment in the event of block withholding\u003C\u002Fli\u003E\n\u003Cli\u003EPotential Problem: If blocks are withheld it is unclear whether an unconfirmed transaction has spent funds or not. Difficult to prove double spends in a Plasma block and enforce it on Ethereum\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EAdding funds to Plasma block &#8212; same problem but when sending funds to a Plasma contract\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETwo-Phase Commit Mechanism &#8212; create transaction, sign and broadcast it\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPlasma block with payment gets signed by validators &#8212; Plasma block confirmed and ultimately committed on Ethereum. At this point the transaction is not usable, Alice can still recover her funds from the old state\n\u003Cul\u003E\n\u003Cli\u003EAlice commits to seeing the funds in a block &#8212; Alice signs a message confirming that she sees the block. Alice shares it with Bob or Plasma chain\u003C\u002Fli\u003E\n\u003Cli\u003EBob receives the funds and is treated as confirmed &#8212; Alice cannot take back\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EWhy do we do this? Alice needs to be sure she is certain her transaction occurred on the Plasma chain in order to do a withdrawal in the event of a chain halt or other byzantine behavior. If money was sent to Bob, Bob needs the data available. This ensures either Alice or Bob own the funds. 3 parties: Alice, Bob, and Plasma chain itself.\u003C\u002Fli\u003E\n\u003Cli\u003ELet’s say Alice tries to maliciously withdraw. The Plasma chain has not confirmed the commitment yet. Alice sends a transaction on Ethereum to withdraw her 1ETH from the Plasma Chain contract. She must put up a bond and wait some time. During that time Bob notices that Alice is trying to taking his money. Bob broadcasts a fraud proof. He can now take her bond and his money back\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EAttestation on information availability. Emerging theme when dealing with states when not everyone has information\u003C\u002Fp\u003E\n\u003Cp\u003EScaling the world computer. Root blockchain as the supreme court\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]ZoKrates – A Toolbox for zkSNARKs on Ethereum (Jacob Eberhardt)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EMotivation: Off-chain transaction processing, result is written back to chain and verified to be correct on chain\u003C\u002Fp\u003E\n\u003Cp\u003EBenefits of processing off chain\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EScalability: If verification is cheaper than execution, throughput can be increased. Block complexity gas limit does not apply (halting problem does not apply)\u003C\u002Fli\u003E\n\u003Cli\u003EConfidentiality: Private information can be used on external node without revealing to public blockchain\u003C\u002Fli\u003E\n\u003Cli\u003EApproaches: TrueBit, Non-interactive Zero-Knowledge Proofs (zkSNARKS)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003Ezero-knowledge Succint Non-interactive Arguments of Knowledge\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EShort and non interactive proofs\u003C\u002Fli\u003E\n\u003Cli\u003EZero knowledge\u003C\u002Fli\u003E\n\u003Cli\u003EVerification cost independent of computational complexity\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEthereum Byzantium zkSNARK precompiles &#8212; EC Add, Scalar multiplication, Pairing check\u003C\u002Fp\u003E\n\u003Cp\u003EZoKrates Vision\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EProvide usable abstraction and tooling for zkSNARKS\u003C\u002Fli\u003E\n\u003Cli\u003ESupport complete process: from program code to on-chain verification\u003C\u002Fli\u003E\n\u003Cli\u003ESeamlessly integrate with Ethereum\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EZoKrates &#8212; a toolbox for zkSNARKS\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EA high-level language\u003C\u002Fli\u003E\n\u003Cli\u003EA compiler, which transforms programs to provable constraint systems\u003C\u002Fli\u003E\n\u003Cli\u003ETools &#8212; Setup phase, witness computation, proof generation, Verification Smart Contract generation\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]A Modest Proposal for Ethereum 2.0 (Vitalik Buterin)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ELet’s look at Ethereum so far…\u003C\u002Fp\u003E\n\u003Cp\u003ESuccesses &#8212; it works! many applications, high adoption (&gt;500k\u002Fday == ~7 tx\u002Fs) &#8212; includes ERC20 dapps smart contracts, Byzantium (a whole bunch of privacy features). More than 20k nodes worldwide\u003C\u002Fp\u003E\n\u003Cp\u003EWhat are the challenges? Scalability &#8212; trilemma claims blockchain systems can at most have two of the three properties:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EDecentralization (defined as the system being able to run in a scenario where each participant only has access to O(c) resources, i.e. a regular laptop or small VPS\u003C\u002Fli\u003E\n\u003Cli\u003EScalability (defined as being able to process O(n) &gt; O(c) transactions)\u003C\u002Fli\u003E\n\u003Cli\u003ESecurity (defined as being secure against attackers with up to O(n) resources)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EScalability\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EEvery node processes every transaction\u003C\u002Fli\u003E\n\u003Cli\u003EThis means that the capacity of a blockchain is limited to the capacity of one node\u003C\u002Fli\u003E\n\u003Cli\u003ELimited by disk reads\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ELikely solution: sharding\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESpit blockchain state into N universes (“shards”)\u003C\u002Fli\u003E\n\u003Cli\u003EOnly allow asynchronous communication between shards\u003C\u002Fli\u003E\n\u003Cli\u003EEach client only processes a small portion of transactions\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EGovernance \u002F protocol evolution\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EHigh demand for protocol stability, hard forks making deep changes are hard. Long time to code, long time to test, high risk of consensus bugs\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EBut to get to Ethereum 2.0, deep changes are exactly what we need, so what do we do?\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EIntuition: “One blockchain, two systems”\u003C\u002Fli\u003E\n\u003Cli\u003EAdd validator manager contract. Runs proof of stake system that maintains consensus for 2 layer sharding system\n\u003Cul\u003E\n\u003Cli\u003EWould not maintain copy of all consensus rules.\u003C\u002Fli\u003E\n\u003Cli\u003EEnforce data in shards are available and data availability in the shard\u003C\u002Fli\u003E\n\u003Cli\u003EFirst a low risk thing to participate in. Get fairly significant portion of Ether stake participating, creating blocks in each shards periodically. Blocks in shards called “collations”\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E2 layer structure\n\u003Cul\u003E\n\u003Cli\u003ETop layer is blockchain\u003C\u002Fli\u003E\n\u003Cli\u003EEach shard is its own universe. Have validator manager contractor bridging them. Process moving Ether from main chain to shard and one shard to another\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EScalability Main shard O(C) &#8212; one node | new shards O(C^2)\u003C\u002Fli\u003E\n\u003Cli\u003EConsensus main shard PoW &#8211;&gt; Hybrid PoS &#8211;&gt; PoS | new shards PoS through on-chain contract\u003C\u002Fli\u003E\n\u003Cli\u003ESecurity Main shard Full | new shards 50% honest majority of on-chain PoS now, full security later\u003C\u002Fli\u003E\n\u003Cli\u003EGovernance main shard emphasize conservatism and strong immutability more than today | on-chain ETH voting governance through PoS, emphasize fast evolution now, conservatism later\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EImplementation roadmap\u002F Sharding roadmap\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EImplement as proof of stake sidechain\n\u003Cul\u003E\n\u003Cli\u003ECollation headers get verified and processed by on main chain validator manager contract\u003C\u002Fli\u003E\n\u003Cli\u003EBlock creation rights assigned by simple proof of stake\u003C\u002Fli\u003E\n\u003Cli\u003EClients randomly assigned\u003C\u002Fli\u003E\n\u003Cli\u003EOne way ETH convertability\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EAdd two way convertibility\u003C\u002Fli\u003E\n\u003Cli\u003EMove collation headers from contract position to uncle position\u003C\u002Fli\u003E\n\u003Cli\u003ETight coupling &#8212; reject blocks with invalid headers. Ideally would happen when things on sharding side are stabilized\u003C\u002Fli\u003E\n\u003Cli\u003EShards are creating new address space, not affect existing address space. Incomptatible\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EChanges to make:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EChanging Merkle trees from hexary -&gt; binary. 4x shorter Merkle proofs\u003C\u002Fli\u003E\n\u003Cli\u003EAccount\u002Fstate tree redesigns\u003C\u002Fli\u003E\n\u003Cli\u003EEVM upgrades: EVM 1.5, E-WASM\u003C\u002Fli\u003E\n\u003Cli\u003EParallelizability\u003C\u002Fli\u003E\n\u003Cli\u003EStateless clients\n\u003Cul\u003E\n\u003Cli\u003EConsensus nodes do not hold entire state, only state root\u003C\u002Fli\u003E\n\u003Cli\u003ETransaction senders attach Merkle branches (“witnesses”) proving state that they access\u003C\u002Fli\u003E\n\u003Cli\u003EBlocks get passed around with the witnesses\u003C\u002Fli\u003E\n\u003Cli\u003ESubstitute disk read with ~1kb bandwidth (assuming 10^9 accounts, optimized Merkle branch)\u003C\u002Fli\u003E\n\u003Cli\u003EMake it much easier to reshuffle validators when sharding\u003C\u002Fli\u003E\n\u003Cli\u003EAllow us to care less about state size\u003C\u002Fli\u003E\n\u003Cli\u003EMassively increase parallelizability. Allows us unlimited leeway along the traditional “big block” scaling route if we want it\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESplit ongoing development into two layers: Layer 1: safe and conservative (getting Casper rolled out),\u003C\u002Fp\u003E\n\u003Cp\u003ELayer 2: rapid development and experimentation. Get benefits of both at the same time in the short-medium term.\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Using Ethereum for Secure Decentralized Optimization (Eric Munsing)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ESolve hard math problems off chain &#8212; machine learning, market clearing, operation scheduling\u003C\u002Fp\u003E\n\u003Cp\u003ESmart contracts coordinate consensus on global optimum\u003C\u002Fp\u003E\n\u003Cp\u003EGuarantee security, feasibility, and optimality\u003C\u002Fp\u003E\n\u003Cp\u003EOptimization problems &#8212; convex optimization, decentralized optimization, fully-decentralized optimization\u003C\u002Fp\u003E\n\u003Cp\u003EUsing smart contracts for security\u003C\u002Fp\u003E\n\u003Cp\u003EConvex optimization: minimize\u002Fmaximize subject to constraints\u003C\u002Fp\u003E\n\u003Cp\u003EBreak big tasks into small pieces: solve local problems on distributed hardware, bring local solutions into consensus\u003C\u002Fp\u003E\n\u003Cp\u003ECreate analytically solvable sub-problems, break into a set of smaller problems, respect privacy of local information\u003C\u002Fp\u003E\n\u003Cp\u003EWeaknesses of aggregator-based consensus\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ETrust issues in market clearing, monopoly price distortion, single point of failure\u002Fattack\u003C\u002Fli\u003E\n\u003Cli\u003EAlternative: fully decentralized optimization. Consensus with neighbors who share variables\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Swarm team development update (Viktor Tron, Daniel Nagy, Aron Fischer, Louis Holbrook)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ENetwork of computers that share data with each other, p2p decentralized storage\u003C\u002Fp\u003E\n\u003Cp\u003ESame p2p connections as the Ethereum network, tightly integrated into Ethereum\u003C\u002Fp\u003E\n\u003Cp\u003EDecentralized store of app data\u003C\u002Fp\u003E\n\u003Cp\u003EType address into URL bar bzz:\u002F\u002Fsome-dapp-site.eth\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUse Ethereum ENS to turn name.eth into a hash\u003C\u002Fli\u003E\n\u003Cli\u003EUse hash to query peers for data\u003C\u002Fli\u003E\n\u003Cli\u003ERender Dapp\u002Fwebsite\u003C\u002Fli\u003E\n\u003Cli\u003EIntegrity protected, resilient, censorship free, server less, p2p web\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESwarm under the hood\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESplit file into 4k chunks, send to different places for storage.\u003C\u002Fli\u003E\n\u003Cli\u003EContent addressed: each chunk gets a hash as its “id”\u003C\u002Fli\u003E\n\u003Cli\u003EChunks stored at node with “closest” address\u003C\u002Fli\u003E\n\u003Cli\u003EData stored uniformly across the data\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESwarm payment infrastructure is modular, flexible, and extensible\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECan provide incentive structure for content delivery and content storage, but also many other services\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EStatus\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EIf you’ve tried swarm, you’ve been using Swarm PoC Client 0.2. Proof of concept. Shows basic idea works. Performance slow\u003C\u002Fli\u003E\n\u003Cli\u003ELearned a lot, rewriting parts of the system\u003C\u002Fli\u003E\n\u003Cli\u003EScope of the project has grown beyond just storage &#8212; direct node to node communication, live streaming\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESwarm is a devp2p network. Can use routed network to send messages between any two nodes connected by intermediary nodes\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EEthereuem Whisper is to serve the need of anonymity at cost of performance\u003C\u002Fli\u003E\n\u003Cli\u003EPSS (Postal Service over Swarm) is routed, so it knows the fastest way with minimum of network load, different purpose\u003C\u002Fli\u003E\n\u003Cli\u003EUses whisper (v5) for Topics, expiry, cryptography\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EFUSE integration and SWARM &#8212; Synchronize files and directories between own devices\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Scalable Responsive Dapps with Swarm and ENS (Daniel Nagy)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EThe challenges of scaling \u002F bottlenecks\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EThe blockchain\n\u003Cul\u003E\n\u003Cli\u003EInformation stored on every node\u003C\u002Fli\u003E\n\u003Cli\u003ERequires immediate full ordering of events\u003C\u002Fli\u003E\n\u003Cli\u003ERequires fast broadcast of transactions and blocks\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ENetwork links, network-wide broadcasts\u003C\u002Fli\u003E\n\u003Cli\u003EOvercoming storage bottlenecks &#8212; keep data in swarm, store root hash in ENS\u003C\u002Fli\u003E\n\u003Cli\u003EOvercoming transaction bottlenecks &#8212; Raiden style updates to ENS resolvers\u003C\u002Fli\u003E\n\u003Cli\u003EOvercoming broadcast bottlenecks &#8212; clever use of PSS with pub\u002Fsub\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEventual consistency on blockchain\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E15 minute block time x 12 confirmations ~= 3 minutes\u003C\u002Fli\u003E\n\u003Cli\u003EUpdates reach concerned nodes faster\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EUpdate structure requires clever design\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EJust sending a root hash is insufficient: concurrency and delay issues\u003C\u002Fli\u003E\n\u003Cli\u003EEndpoint aggregation is often preferred to complicated updates\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ERely on generic infrastructure, if possible\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EEnough redundancy even for unpopular\u002Fniche apps.\u003C\u002Fli\u003E\n\u003Cli\u003EMake sure data eventually reaches the blockchain: ETH &gt; LES &gt; BZZ &gt; PSS\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMake sure that important state is eventually committed. Think about incentives!\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUse deposits or other commitment to reduce provider churn\u003C\u002Fli\u003E\n\u003Cli\u003EOn-chain dispute resolution\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Designing Future-proof Smart Contract Systems (Jorge Izquierdo)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EAragon: decentralized organizations platform built on Ethereum\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUsable by nontechnical users\u003C\u002Fli\u003E\n\u003Cli\u003EAllow extendability of the system with third party on-chain modules\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe case against upgradeability\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EChanging the rules on a live contract\u003C\u002Fli\u003E\n\u003Cli\u003ETrust required on the entity that can upgrade\u003C\u002Fli\u003E\n\u003Cli\u003EFront-running attack with an upgrade\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EUpgradeable libraries\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPros: transparent for developer, allows to ‘modify’ the linked library\u003C\u002Fli\u003E\n\u003Cli\u003ECons: main contract ABI cannot be modified, data structures are fixed\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EAragonOS: Tiny kernel, upgradeable business logic on edges &#8211;&gt; apps\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Exploring the Ethereum Blockchain (Matthew Tan)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EEtherscan &#8212; Ethereum block explorer. 1m MAUs, 9b API calls\u002Fmo, launched 8\u002F2015\u003C\u002Fp\u003E\n\u003Cp\u003EEthereum blockchain. Genesis block &#8211; July 30th 2015\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E&gt;4.4m blocks, &gt;71m txns, &gt;37.5m “internal transactions” &#8212; message call that resulted in a value transfer, &gt;10k ERC20 token\u003C\u002Fli\u003E\n\u003Cli\u003EDevcon #1 11\u002F2015 &#8212; 8.5k txns\u002Fday.\u003C\u002Fli\u003E\n\u003Cli\u003EDevcon#2 9\u002F2016 46k txns\u002Fday\u003C\u002Fli\u003E\n\u003Cli\u003EDevcon #3 11\u002F2017 500k tx\u002Fday\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EChallenges in building an infrastructure level service\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EScalability, security, support, “just keeping up”, nodes management\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEthereum nodes management\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMultiple client implementations (Geth and Parity). Different feature sets + network robustness\u003C\u002Fli\u003E\n\u003Cli\u003ENode deployment strategies for public nodes:\n\u003Cul\u003E\n\u003Cli\u003EUse SSD drives\u003C\u002Fli\u003E\n\u003Cli\u003ECache settings\u003C\u002Fli\u003E\n\u003Cli\u003EMonitor node response\u003C\u002Fli\u003E\n\u003Cli\u003ELoad balancers with smaller multiple nodes\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EDeriving the “Ethereum user persona” with Google Analytics\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUS remains dominant user base.\u003C\u002Fli\u003E\n\u003Cli\u003EChina #2 in 2017\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]The Raiden Network (Augusto Hack, Jannik Luhn, Loredana Cirstea)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EScalability solution for Ethereum, up to 1m tx\u002Fs\u003C\u002Fp\u003E\n\u003Cp\u003ECurrently only on Linux (MacOS coming)\u003C\u002Fp\u003E\n\u003Cp\u003ENot an Ethereum node, separate process communicating with Ethereum node, also need Ethereum node running on machine\u003C\u002Fp\u003E\n\u003Cp\u003EAPI (for building applications on top of Raiden)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPUT \u002Fapi\u002F1\u002Fconnections\u002F&lt;token&gt;\n\u003Cul\u003E\n\u003Cli\u003EAutomatic channel management\u003C\u002Fli\u003E\n\u003Cli\u003ETell Raiden how much funds to use on channel\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EPUT \u002Fapi\u002F1\u002Fchannels\n\u003Cul\u003E\n\u003Cli\u003EManually opens a new channel. Manage it on your own\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EPATCH \u002Fapi\u002F1\u002Fchannels\u002F&lt;address&gt;\n\u003Cul\u003E\n\u003Cli\u003EChange the channel state. deposit\u002Fclose\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EPOST \u002Fapi\u002F1\u002Ftransfers\u002F&lt;token&gt;\u002F&lt;target&gt; (once connected to network)\n\u003Cul\u003E\n\u003Cli\u003EMake transfers, use identifiers\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EGET \u002Fapi\u002F1\u002Fevents\u002Ftokens\u002F&lt;address&gt;\n\u003Cul\u003E\n\u003Cli\u003EPolling for EventTransferReceivedSuccess, EventTransferSentSuccess, EventTransferSentFailed\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMicroraiden\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ERobust off chain payment channel framework\u003C\u002Fli\u003E\n\u003Cli\u003EEasy to use off the shelf, unidirectional, many to one, so don’t need to think about routing issues or fees for people who have routing channels open\u003C\u002Fli\u003E\n\u003Cli\u003EFast and free off chain\u003C\u002Fli\u003E\n\u003Cli\u003EAvailable now on Kovan testate, available on main net by end of month\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMicroraiden applications\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPaywalled content &#8212; pay per use, pay per view for static resources or streamed videos\u003C\u002Fli\u003E\n\u003Cli\u003EM2M services: utilities, data storage, data usage, API usage. Scheduled API queries, token field robots\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EHow does it work? off chain payments\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESender and receiver keep copies of channel data, block number, current balance. Receiver has last balance proof received from sender. Message signed by the sender container balance, address, block number and receiver’s address\u003C\u002Fli\u003E\n\u003Cli\u003EERC223 option of using less gas\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Towards a Permanent ENS Registrar (Nick Johnson)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EEthereum name service\u003C\u002Fp\u003E\n\u003Cp\u003ELaunched on May 4\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ETo date: 180,822 names auctioned, 168k ETH deposited\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EDispute resolution not initially built in. Decided to build in as a separate layer, so can implement blacklists\u003C\u002Fp\u003E\n\u003Cp\u003EPermanent registrar design &#8212; differing costs of capital\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUser &#8212; 1 ETH (total cost for indefinite use), Investor 5%\u002Fyear, Speculator 0\u003C\u002Fli\u003E\n\u003Cli\u003EConclusion: transition to rent based model &#8212; 1 ETH \u002F year, equalizes cost for everyone\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ERolling auctions &#8212; no more ‘open auction’, any name can be bid on at any time. Makes guessing the name a user is bidding on impossible. 48 hour bid period, 48 hour reveal\u003C\u002Fp\u003E\n\u003Cp\u003EDNSSEC Oracle &#8212; user proves to oracle; for any records it doesn’t know about it contains the record and a signature. Claim with text records to registrar, registrar queries oracle, oracle responds with answer. Registrar sends setSubnodeOwner to ENS\u003C\u002Fp\u003E\n\u003Cp\u003EStarting with .xyz domains, 3\u002F4 of domains compatible with algorithm\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Intro to Solidity (Hudson Jameson)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EHigh-level language for Ethereum contracts\u003C\u002Fp\u003E\n\u003Cp\u003EIt looks like Javascript (with types)\u003C\u002Fp\u003E\n\u003Cp\u003EContracts look like classes\u003C\u002Fp\u003E\n\u003Cp\u003ECode is compiled to the EVM, once deployed to the EVM, code is completely isolated and cannot reach outside of the EVM. It’s deployed and run on every node in the Ethereum network.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECannot have outside sources of information (like sports scores) unless you explicitly include it\u003C\u002Fli\u003E\n\u003Cli\u003ETrusted data feeds \u002F oracles\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEasy to write contracts, hard to make sure they are secure\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EContracts standards are beginning to emerge\u003C\u002Fli\u003E\n\u003Cli\u003EERC20 &#8212; interface for tokens to interoperate with others on Ethereum blockchain\u003C\u002Fli\u003E\n\u003Cli\u003EConsensys has smart contract best practices writeup\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETools:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMetamask (online plugin for browser. Acts as a bridge between browser and Ethereum network)\u003C\u002Fli\u003E\n\u003Cli\u003ERemix (online Solidity IDE &#8212; debugging, static analysis, call functions, etc)\u003C\u002Fli\u003E\n\u003Cli\u003EEtherscan (block explorer)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMore tools:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESolgraph (contracts talking to other contracts is hard to. tells you inputs and outputs of contract), solidity repl, Solium (linter for Solidity), evmdis (EVM disassembler), Truffle, Populus (Dapp framework), Embark, Ethereum package management\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EQuestions:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EWhat do you think is the biggest problem of Solidity?\n\u003Cul\u003E\n\u003Cli\u003EIt is a young language, and like all young languages, it’s missing a lot of features \u002F advanced tools that programmers are used to\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EQuestions about safety of Solidity, money that’s been lost. It’s an experiment and evolving\u003C\u002Fli\u003E\n\u003Cli\u003EWhat upcoming feature are you most excited about?\n\u003Cul\u003E\n\u003Cli\u003ENew features to get cryptographic primitives into EVM &#8212; zkSNARKS\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Enigma: Building an Ethereum-assisted Decentralized Data Marketplace (Guy Zyskind)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ELaunched from MIT in 2015\u003C\u002Fp\u003E\n\u003Cp\u003EDecentralized computation platform with better privacy\u003C\u002Fp\u003E\n\u003Cp\u003EData is everywhere &#8212; the challenge is building a marketplace where data providers create supply and data consumers create demand.\u003C\u002Fp\u003E\n\u003Cp\u003ECatalyst &#8212; the first App on the Enigma protocol\u003C\u002Fp\u003E\n\u003Cp\u003EData marketplace protocol\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EEthereum smart contracts handle dataset registration, and remuneration\u003C\u002Fli\u003E\n\u003Cli\u003ERouting, data storage and processing is done completely off chain\u003C\u002Fli\u003E\n\u003Cli\u003EOnly occasional payments and disputes need to touch the chain\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ERegistration (off chain)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EWhen a data provider wants to register a data set, they send a request to the off chain network with metadata where the dataset lives\u003C\u002Fli\u003E\n\u003Cli\u003EData provider deposits ENG to serve as collateral\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EIncentives and data discovery\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EValue of data &#8212; data sets are denominated with ENG tokens\u003C\u002Fli\u003E\n\u003Cli\u003EWork &#8212; storage and computational work is rewarded through fees paid from the earning data curator to the workers\u003C\u002Fli\u003E\n\u003Cli\u003EDiscovery and ranking &#8212; the system associates rank of a dataset with the stake put on it (rank &lt;&lt;- subscribers x price + C x deposit\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EHeavy lifting happens off chain. Global consensus is expensive\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EShard data into logical segments\u003C\u002Fli\u003E\n\u003Cli\u003EFor each segment, select a random node (or a quorum) to store the data and run subsequent computations over it\n\u003Cul\u003E\n\u003Cli\u003EUsing pseudo-random verifiable secret sharing\u003C\u002Fli\u003E\n\u003Cli\u003EUsing threshold signatures (e.g. DFINITY)\u003C\u002Fli\u003E\n\u003Cli\u003EPublic random becaons\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EOutsourcing private computation\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMethods: blockchain, partial encryption, FHE, zkSNARKS, sMPC, Secure Hardware\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMulti-party computation\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EIn the real world, we can’t rely on one trusted machine\u003C\u002Fli\u003E\n\u003Cli\u003EMPC shows that for at most t&lt;n bad actors, data can remain confidential even in use, and the result is correct\u003C\u002Fli\u003E\n\u003Cli\u003Eg. Multiplication needs computation between the nodes\u003C\u002Fli\u003E\n\u003Cli\u003EWith addition and multiplication, we can securely store\u002Fcompute any circuit &#8211;&gt; we can construct a secure VM\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed][zk] &#8212; Introduction to zkSNARKs (Christian Reitwiessner)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EWhy zkSNARKs and why they are important: blockchains scale better if they only verify, not compute.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EzkSNARKs: verification magnitudes faster than computation of zkSNARKs\u003C\u002Fli\u003E\n\u003Cli\u003EIn blockchains everything is public &#8211;&gt; zkSNARKs are “zero knowledge”\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E2 parties: prover (tx sender), verifier (blockchain)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EProver wants to convince verifier that some statement is true without revealing why it is true (zero knowledge)\n\u003Cul\u003E\n\u003Cli\u003EGiven message is valid transaction\u003C\u002Fli\u003E\n\u003Cli\u003EThere is some w such that f(x,w) = y for fixed f\u003C\u002Fli\u003E\n\u003Cli\u003Eg. Mini Sudoku (4&#215;4) board is solvable &#8212; Size of puzzle is not relevant. Need: table, paper, opaque tape, dice\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EProver has secret solution to Mini Sudoku puzzle\n\u003Cul\u003E\n\u003Cli\u003EStep 1: Prover shuffles numbers, replace each number with a different one (with dice). Shuffled solution is still a solution, but initially given numbers are different\u003C\u002Fli\u003E\n\u003Cli\u003EStep 2: Prover writes shuffled puzzle on a piece of paper and covers each number with piece of tape. Prover puts paper on table for verifier to see\u003C\u002Fli\u003E\n\u003Cli\u003EStep 3: Verifier chooses one of: Reveal certain row, column, sub square, or reveal initially filled cells and shuffling\u003C\u002Fli\u003E\n\u003Cli\u003EStep 4: Prover removes tape on cells\u003C\u002Fli\u003E\n\u003Cli\u003EStep 5: Verifier checks numbers and shuffling against initially filled cells\u003C\u002Fli\u003E\n\u003Cli\u003EProver did not reveal any private information apart from the shuffling chosen\u003C\u002Fli\u003E\n\u003Cli\u003ERepeat steps 1-5 until Verifier is convinced\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ERound 2, covered shuffled solution\n\u003Cul\u003E\n\u003Cli\u003EStill, prover is not able to cheat (up to certain probability &#8212; because verifier does not look at complete solution), because of commitment to solution (paper and tape). Probability of cheating decreases exponentially with number of rounds\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EStill some problems with Mini Sudoku algorithm:\n\u003Cul\u003E\n\u003Cli\u003EDoes not work for generic computations. But can take an arbitrary problem in computation and transform it into the Sudoku problem (reduction). Solved problem. But lots of engineering work to make it efficient\u003C\u002Fli\u003E\n\u003Cli\u003EMany rounds of interactions &#8212; Especially problematic for blockchain. Reason: single error can be hidden in any cell (why you need many rounds). Motivation: find a game where a single error can be found in one round. Can be done with polynomials\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EUse polynomials to make error visible almost everywhere\n\u003Cul\u003E\n\u003Cli\u003EChanging a coefficient makes a polynomial function at every point\u003C\u002Fli\u003E\n\u003Cli\u003ETheorem: two different polynomials of degree up to n can coincide in at most n points. n is tiny compared to the number of possible evaluation point\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EHow do SNARKs work?\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMap computation to polynomial equations. Prover knows a (secret only known to prover) w such that for all x: a(x) * w(x) = b(x) * c(x)\u003C\u002Fli\u003E\n\u003Cli\u003EVerifier chooses secret evaluation point\u003C\u002Fli\u003E\n\u003Cli\u003EProver evaluates polynomials…using homomorphic encryption\u003C\u002Fli\u003E\n\u003Cli\u003EVerifier checks equality\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EHomomorphic encryption is computation on encrypted data (known function \u002F program, perform computation on inputs, result in encrypted output)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EArbitrary computation not yet practical, but “pairings” can do arbitrary sums and a single multiplication at the end. a(x) * w(x) = b(x) * c(x) works if done separately for each power of x. Allows prover to evaluate polynomial at encrypted point and check if outputs are equal\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETrusted Setup\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EReduced to 2-round protocol, but would like no interaction\u003C\u002Fli\u003E\n\u003Cli\u003ERandomly generate x, encrypt to [x], send [x] to prover, evaluate polynomial, check equality\u003C\u002Fli\u003E\n\u003Cli\u003EEquality can be checked on encrypted form\u003C\u002Fli\u003E\n\u003Cli\u003ENot required to know x, only [x] , and can be reused\u003C\u002Fli\u003E\n\u003Cli\u003ETrusted setup: generate [x] in a distributed process a la [x] = [a] + [b] + [c] + [d] (= [a + b + c + d]). Distributed to improve security &#8212; need all secretes to be published to break encryption. x = a + b + c + d can only be created if a, b, c, d are known\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EZero knowledge is achieved by adding the same random number to both sides\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EInteresting thing in SNARKs is they allow speed up in verification\u003C\u002Fli\u003E\n\u003Cli\u003EZero knowledge is a triviality to add to protocol, comes for free\u003C\u002Fli\u003E\n\u003Cli\u003EMost of the work in the protocol is in the speedup\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETiny proof: 8 group elements\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EBecause random number is unencrypted, prover cannot cheat, so you achieve zero knowledge\u003C\u002Fli\u003E\n\u003Cli\u003EVerification: 5 pairing checks plus some elliptic curve arithmetic\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E [toc-embed][zk] &#8212; Democratizing zk-SNARKs: Improved setup, performance and security (Sean Bowe)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EzkSNARKs in production software. zcash brought zkSNARKs to production last year. Very expensive &#8212; only people to production so far.\u003C\u002Fp\u003E\n\u003Cp\u003EEngineering intensive, auditing is complex\u003C\u002Fp\u003E\n\u003Cp\u003EzkSNARK challenges: curve security, performance, trust\u003C\u002Fp\u003E\n\u003Cp\u003EBN128\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EOriginally targeted 128-bit security, now closer to 110 bits\u003C\u002Fli\u003E\n\u003Cli\u003EImplemented in zcash and Ethereum\u003C\u002Fli\u003E\n\u003Cli\u003ENot a very rigid construction; not particularly optimized for pairing performance\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EDesigning a new curve BLS12-381\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMoving to next version of zcash\u003C\u002Fli\u003E\n\u003Cli\u003ETargets closer to 128-bit security with minimal performance overhead\u003C\u002Fli\u003E\n\u003Cli\u003EImplemented in Rust library called ‘pairing’\u003C\u002Fli\u003E\n\u003Cli\u003EVery rigid and optimized construction with extensive review; appears in a new paper (BGM17)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPerformance improvements &#8212; newer ones use less than 8 group elements\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EProving system performance\u003C\u002Fli\u003E\n\u003Cli\u003EStreamed proving: Public parameters of zkSNARKs are loaded from disk as computation is performed when constructing a proof. Led to 100x memory usage during proving\u003C\u002Fli\u003E\n\u003Cli\u003EJubjub curve\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EProving systems\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EState of the art proving systems are based on Jens Groth’s 2016 pairing-based SNARK &#8212; 3 group elements\u003C\u002Fli\u003E\n\u003Cli\u003EImproved papers followed &#8212; subversion resistant SNARKs, snarky signatures\u003C\u002Fli\u003E\n\u003Cli\u003EGroth’s original construction performs the best. Clear path toward non-malleability and reduced assumptions, without added proving costs\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EJubjub curve\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESpecial “embedded” elliptic curve optimized for use in zkSNARKs built on top of BLS12-381\u003C\u002Fli\u003E\n\u003Cli\u003EConstruct efficient cryptographic primitives: Collision-resistant hash functions, Commitment schemes, Authentication\u003C\u002Fli\u003E\n\u003Cli\u003EUse SHA256 for everything in zcash, but not necessarily efficient. New crypto primitives are algebraic primitives so more efficient (5-10x)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETrusted setup\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EBiggest complaint about zkSNARKs\u003C\u002Fli\u003E\n\u003Cli\u003ESTARKs are trustless (and quantum resistant) but still on academic horizon. Still large proofs. So probably deal with SNARKs for next few years\u003C\u002Fli\u003E\n\u003Cli\u003EZcash and other projects need to perform these setups and making them trustworthy is difficult\u003C\u002Fli\u003E\n\u003Cli\u003EWe have a new paper that addresses this problem for zkSNARKs today\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMultiparty computation\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EzkSNARK parameters can be setup via multiparty computation\u003C\u002Fli\u003E\n\u003Cli\u003E6 people get together, only one participant needs to be honest (all have to be compromised to compromise the final result &#8212; construct false proofs)\u003C\u002Fli\u003E\n\u003Cli\u003EThe more participants the less likely all are compromised or secretly colluding\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EZcash’s original MPC\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECommitment round round robin across MPC group\u003C\u002Fli\u003E\n\u003Cli\u003EExpensive FFT\u003C\u002Fli\u003E\n\u003Cli\u003EThen 2 more random coefficient rounds\u003C\u002Fli\u003E\n\u003Cli\u003EDisadvantages:\n\u003Cul\u003E\n\u003Cli\u003ECouldn’t scale to large number of participants\u003C\u002Fli\u003E\n\u003Cli\u003ELess flexibility for each participant (software, hardware, OS)\u003C\u002Fli\u003E\n\u003Cli\u003ECoordination was difficult because participants had to be selected in advance, could not drop out\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ENew MPC just published\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EEliminates pre-commitment round, scales to an unbounded number of participants, much cheaper per circuit\u003C\u002Fli\u003E\n\u003Cli\u003EPhase 1 (Powers of Tau)\n\u003Cul\u003E\n\u003Cli\u003ECommunical ceremony for all zkSNARK circuits\u003C\u002Fli\u003E\n\u003Cli\u003EExpensive but scales to hundreds\u002Fthousands of participants\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EPhase 2\n\u003Cul\u003E\n\u003Cli\u003EStatement-specific zkSNARK MPC\u003C\u002Fli\u003E\n\u003Cli\u003EMuch cheaper\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed][zk] &#8212; Scalable, Transparent and Post-quantum Secure Computational Integrity, with Applications to Cryptocurrencies (Eli Ben-Sasson)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EInteractive Oracle Proofs (IOP) &#8212; Mathematically clean model but unrealistic\u003C\u002Fp\u003E\n\u003Cp\u003EScalable Transparent IOP of Knowledge (STIK) &#8212; IOP with near optimal complexity, Probably sound, no crypto but still unrealistic\u003C\u002Fp\u003E\n\u003Cp\u003EScalable Transparent Argument of Knowledge (STARK)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ERealization of STIK\u003C\u002Fli\u003E\n\u003Cli\u003EZK optional (doubles prover time)\u003C\u002Fli\u003E\n\u003Cli\u003Erequires crypto primitives\u002Fassumptions\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EBob (Prover) wishes to prove to Alice (Verifier) in ZK:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EI know private input w, such that running computation C on w and public input x reaches output y in T steps\u003C\u002Fli\u003E\n\u003Cli\u003Eg. zcash JoinSplit, proof of solvency, smart contract\u003C\u002Fli\u003E\n\u003Cli\u003EIOP &#8212; Informal\n\u003Cul\u003E\n\u003Cli\u003EMulti-round interactive protocol between P and V\u003C\u002Fli\u003E\n\u003Cli\u003EP sends USB, V sends randomness, etc\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EUnrealistic model but mathematically clean &#8212; Every language in model (NEXP) has a fully scalable, transparent, IOP of knowledge with perfect ZK\n\u003Cul\u003E\n\u003Cli\u003EDouble scalable &#8212; prover time is quasi-linear Tlog^O(1)(T)\n\u003Cul\u003E\n\u003Cli\u003EVerifier time is exponentially fast log^O(1)(T)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ETransparent: V only uses public randomness\u003C\u002Fli\u003E\n\u003Cli\u003EIOP of knowledge &#8212; w can be extracted from USB sticks\u003C\u002Fli\u003E\n\u003Cli\u003EPerfect ZK: strongest form of ZK &#8212; Assumes V limits # of queries\u003C\u002Fli\u003E\n\u003Cli\u003ELast two points contradictory, can compromise ZK\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESTARK (Scalable transparent argument of knowledge)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECrypto based realizations of STIKS are called STARKs: two options\n\u003Cul\u003E\n\u003Cli\u003EInteractive (iSTARK): P sends root of Merkle hash instead of USB, V responds with public randomness (Kilian92)\u003C\u002Fli\u003E\n\u003Cli\u003ENoninteractive (nSTARK): P uses root of Merkle hash as V’s randomness (Mic00,BCS16)\u003C\u002Fli\u003E\n\u003Cli\u003EOpen Research Question: are nSTARKs invariably SNARKs?\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EFirst STARK without ZK: called SCI presented at Eurocrypt 2016\u003C\u002Fli\u003E\n\u003Cli\u003EFirst zkSTARK [BBHR17]\n\u003Cul\u003E\n\u003Cli\u003EPoC code ready, paper not yet\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPractice: zkSTARK benchmark &#8212; forensic DNA profile search\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EFBI has DNA profile DB D\u003C\u002Fli\u003E\n\u003Cli\u003EKnows hash(D) &#8212; Davies-Meyer- AES160\u003C\u002Fli\u003E\n\u003Cli\u003EFBI reports Andy’s DNA profile match result, along with zkSTARK proof\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EArithmetization: use of low-degree polynomials to argue about computation\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EGoes back to Godel’s Incompleteness theorem (1930s)\u003C\u002Fli\u003E\n\u003Cli\u003EUsed by Razborov to prove circuit flower bounds (1980s)\u003C\u002Fli\u003E\n\u003Cli\u003EModified by Baibai and Fortnow to interactive proof systems\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPolynomials P(X) = Sigma(i&lt;=d)a_i*X^i, degree (d) is maximal non-zero term\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EFunction f : S &#8211;&gt; F is called “degree d” if it is evaluation of degree d polynomial: for all x_0 in S, f(x) = P(X)\u003C\u002Fli\u003E\n\u003Cli\u003EFact: two distinct polynomials of degree d intersect at &lt;=d points (e.g. two distinct lines intersect at &lt;= 1 point)\u003C\u002Fli\u003E\n\u003Cli\u003ESo: two distinct functions of degree d evaluated at 100 * d points are 99%-far in relative hamming distance\u003C\u002Fli\u003E\n\u003Cli\u003ECorollary: space of low degree functions forms a linear error correcting code, called the Reed-Soloman (RS) code\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESuccinct computational integrity and privacy\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EGiven (i) program C, (ii) input x_in, (iii) time bound T. Bob claims C(x_in, x_aux) = x_out after T steps, (a_aux is auxiliary private input).\u003C\u002Fli\u003E\n\u003Cli\u003EThree goals:\n\u003Cul\u003E\n\u003Cli\u003EIntegrity: Can we trust Bob’s output? Can he prove it’s correct?\u003C\u002Fli\u003E\n\u003Cli\u003EPrivacy: Will the proof leak Bob’s x_aux (medical \u002F financial info)?\u003C\u002Fli\u003E\n\u003Cli\u003ESuccinctness: Can the proof be verified in time O(T)?\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EBob claim 1: “have list with 10^6 integers, all are in {1,…,10}\n\u003Cul\u003E\n\u003Cli\u003EProblem: Can alice check this with 2 queries to file and 99% certainty? No, has to check all million points.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EBob claim 2: “I have encoded the list as a degree-10^6 function f (low-degree extension), evaluated on 10^9 points?\n\u003Cul\u003E\n\u003Cli\u003EProblem: Can Alice check now with 2 queries to f and 99% certainty? No, not enough information because still need to read 10^6 points\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EBob: “What more do you need to be convinced claim 2 is true?”\n\u003Cul\u003E\n\u003Cli\u003EAlice: “evaluate one more polynomial g of degree 10^7-10^6, then query 1 random point in each of f and g, based on answers will verify claim 2 is true with 99% certainty\u003C\u002Fli\u003E\n\u003Cli\u003ELet C(X) = (X-1)(X-2)…(X-10) be the constrained polynomial of degree 10 that vanishes exactly on 1,…10\u003C\u002Fli\u003E\n\u003Cli\u003ELet D(X) be the domain polynomial of degree 10^6 that vanishes on the domain of interest {1…10^6}\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EAlice’s test:\n\u003Cul\u003E\n\u003Cli\u003EPick random x_0 in {1…10^9}\u003C\u002Fli\u003E\n\u003Cli\u003EQuery f(x_0) and g(x_0), let alpha and beta be answers\u003C\u002Fli\u003E\n\u003Cli\u003EAcceptable Claim 2 as true iff\u003C\u002Fli\u003E\n\u003Cli\u003EC(alpha) = beta * D(x_0)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ECompleteness &#8212; suppose Bob honest\n\u003Cul\u003E\n\u003Cli\u003ELet P(X) be the interpolant of f\u003C\u002Fli\u003E\n\u003Cli\u003EThen C(P(X)) (new polynomial) vanishes on x_0 in {1…10^6}\u003C\u002Fli\u003E\n\u003Cli\u003EFact: Q(X) vanishes on x_0 iff some other polynomial Q’(X) (one degree less) such that Q(X) = (X &#8211; x_0)(Q’(X)\u003C\u002Fli\u003E\n\u003Cli\u003ECorollary: Q(X) = C(P(X)) vanishes on domain {1…10^6} only if there exists Q’(X) such that degree of Q’ = degree(Q) &#8211; deg(D) &lt;= 10^7 &#8211; 10^6\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ESoundness &#8212; suppose Bob cheats, say f(1) = 11\n\u003Cul\u003E\n\u003Cli\u003ELet P(X) be the interpolant of f\u003C\u002Fli\u003E\n\u003Cli\u003EThen C(P(X)) does not vanish on all of x_o in {1…10^6}\u003C\u002Fli\u003E\n\u003Cli\u003EFor any polynomial Q’(X) the product Q’(X)D(X) does vanish on all x_0 in {1…10^6} because D(x_0) = 0\u003C\u002Fli\u003E\n\u003Cli\u003ESo for any Q’(X) of degree 10^7-10^6 the polynomial Q’(X)D(X) differs from C(P(x)) of degree 10^7\u003C\u002Fli\u003E\n\u003Cli\u003EThe evaluations of C({(X)) and Q’(X)D(X) disagree on 10^9-10^7 points out of 10^9 points\u003C\u002Fli\u003E\n\u003Cli\u003ESo for random x_0, test fails with probability 99%\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]EtherDelta: Off-chain Order Book with On-chain Settlement (Zack Coburn)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ESend funds into a smart contract\u003C\u002Fp\u003E\n\u003Cp\u003EOff-chain orderbook\u003C\u002Fp\u003E\n\u003Cp\u003EOrder parameters tightly packed, hashed, signed\u003C\u002Fp\u003E\n\u003Cp\u003EOrder has an expiry block number\u003C\u002Fp\u003E\n\u003Cp\u003ETo trade, submit order and signature\u003C\u002Fp\u003E\n\u003Cp\u003ECost &#8212; placing an order is free (no gas, no trading fee); because not actually making a transaction\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EOther operations involves a gas fee\u003C\u002Fli\u003E\n\u003Cli\u003ETaking liquidity involves a trading fee (Etherdelta’s business model)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E90k addresses that have traded with smart contracts\u003C\u002Fp\u003E\n\u003Cp\u003E30k DAUs, 3.4m transactions\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]0x: An Open protocol for Trustless, Low Friction Exchange of ERC20 Tokens (Will Warren)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EBackground and timeline &#8212; started work over a year ago, released white paper in Feb\u003C\u002Fp\u003E\n\u003Cp\u003EMotivation: the world’s value is becoming tokenized (currency, traditional assets, digital goods)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EValue will be tokenized and moved into a financial market like the Ethereum blockchain\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EExchange ecosystem &#8211; fractured\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EEach app must bootstrap liquidity\u003C\u002Fli\u003E\n\u003Cli\u003EEach app uses custom smart contracts &#8211;&gt; no interoperability\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E&#8230;Should be structured as modular building blocks, and open standards win in the long run\u003C\u002Fp\u003E\n\u003Cp\u003EExisting work:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EOn chain order books are expensive, bloat the blockchain, high latency\u003C\u002Fli\u003E\n\u003Cli\u003EAutomated Market Makers &#8212; low throughput, front running, gameable\u003C\u002Fli\u003E\n\u003Cli\u003EState channels &#8212; 3+ txs, security deposit, challenge period\n\u003Cul\u003E\n\u003Cli\u003EOff blockchain, aggregate series of state changes and resolve on blockchain\u003C\u002Fli\u003E\n\u003Cli\u003EGreat for day trading, but has friction for one time use &#8212; have to move on a channel, put down security deposit (makes sure everyone is behaving honestly), and a challenge period when moving off. 2When you move onto a state channel you isolate yourself from interesting smart contracts\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EOff-chain order relay, on-chain settlement\n\u003Cul\u003E\n\u003Cli\u003EStandard order schema + smart contract system for settlement\u003C\u002Fli\u003E\n\u003Cli\u003EArbitrary transport layer and message passing semantics\u003C\u002Fli\u003E\n\u003Cli\u003EAnyone can relay orders and charge trading fees &#8212; keep 100% of fees the charge\u003C\u002Fli\u003E\n\u003Cli\u003ERelayer strategies &#8212; Can use an open order book strategy (like EtherDelta), can have a centralized matching strategy, someone acts as a reserve manager and bid\u002Fasks for trading pair\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EWhy create an open standard?\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECan create really great developer tools &#8212; lower barrier to entry for developers and others who want to create decentralized exchanges &#8212; highly competitive one fees and UX, diversity that have different niches\u003C\u002Fli\u003E\n\u003Cli\u003EIf every decentralized exchange talks to each other, there’s network effects &#8212; they talk to each other and benefit each other\u003C\u002Fli\u003E\n\u003Cli\u003Edapps can be customers of relayers like Kin Alpha (9\u002F25)\n\u003Cul\u003E\n\u003Cli\u003ECreated by single developer in spare time over few weeks\u003C\u002Fli\u003E\n\u003Cli\u003ERadar Relay (10\u002F10\u002F2017)\u003C\u002Fli\u003E\n\u003Cli\u003EParadex (launch Q4 2017) &#8212; centralized matching strategy\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EExchange module for the EVM\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E0x allows smart contracts to natively execute trades in a single line of Solidity: exchange.fill(…order, value)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EGovernance\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E0x is an open system with a variety of stakeholders, all of which benefit from network effects\u003C\u002Fli\u003E\n\u003Cli\u003EOpen system must remain future proof &#8212; Token voting for future upgrades to protocol\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EDecentralized application stack\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUnbundling -&gt; specialized networks with distinct incentives and tokens\u003C\u002Fli\u003E\n\u003Cli\u003EExternal Data &#8212; oracle, inject real-world data into blockchain | Augur\u003C\u002Fli\u003E\n\u003Cli\u003EComputation &#8212; scalable computation. Not feasible in EVM | TrueBit\u003C\u002Fli\u003E\n\u003Cli\u003EFile Storage &#8212; scalable data storage. Too expensive in EVM | Filecoin, Swarm\u003C\u002Fli\u003E\n\u003Cli\u003EDispatcher &#8212; Snow\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EExample App stack &#8212; 1. retrieve data, 2. computation. 3 injection result C(D). 4. process result P(C(D))\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EToken abstraction: As end user of decentralized application, instead of holding a variety of tokens, can hold onto tokenized fiat. Hold and pass into 0x orders &#8211;&gt; dApp will exchange with 0x\u003C\u002Fli\u003E\n\u003Cli\u003Ev2\n\u003Cul\u003E\n\u003Cli\u003EOrder generation by smart contracts\u003C\u002Fli\u003E\n\u003Cli\u003EAtomic order matching\u003C\u002Fli\u003E\n\u003Cli\u003EFee splitting between relayers\u003C\u002Fli\u003E\n\u003Cli\u003EProtocol optimizations\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the enduring accuracy of the information or its appropriateness for a given situation.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments and certain publicly traded cryptocurrencies\u002F digital assets for which the issuer has not provided permission for a16z to disclose publicly) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n",post_title:"Field Notes: Devcon3 — Ethereum Developer’s Conference",post_excerpt:a,post_status:G,comment_status:u,ping_status:u,post_password:a,post_name:"devcon3-notes",to_ping:a,pinged:a,post_modified:kZ,post_modified_gmt:kZ,post_content_filtered:a,post_parent:b,guid:"http:\u002F\u002Fcrypto.test\u002Ffield-notes-devcon3-ethereum-developers-conference\u002F",menu_order:b,post_type:L,post_mime_type:a,comment_count:x,filter:d,taxonomies:[{term_id:k_,name:fE,slug:"cap-michael-wee",term_group:b,term_taxonomy_id:k_,taxonomy:z,description:"Michael Wee Michael Wee michael-wee 2121 ",parent:b,count:c,filter:d},{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:dM,name:ew,slug:ex,term_group:b,term_taxonomy_id:dM,taxonomy:f,description:a,parent:b,count:ae,filter:d},{term_id:F,name:D,slug:D,term_group:b,term_taxonomy_id:F,taxonomy:B,description:a,parent:b,count:ag,filter:d}],acf:{custom_title:a,redirect_author_links_to_the_post:h,content:[{acf_fc_layout:M,paragraph:"\u003Cp\u003E\u003Cem\u003EEditor&#8217;s Note: These notes, based on talks at the Ethereum Foundation&#8217;s \u003Ca href=\"https:\u002F\u002Fethereumfoundation.org\u002Fdevcon3\u002Fagenda\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ethird annual developer&#8217;s conference\u003C\u002Fa\u003E earlier this month, were shared internally over email, as part of our ongoing sharing of ideas and learning inside a16z. They&#8217;ve now been reposted here, unedited, as a resource for those interested in ethereum technology, research, development, and more. For more about the Ethereum Foundation and resources, \u003Ca href=\"https:\u002F\u002Fethereum.org\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Evisit their site\u003C\u002Fa\u003E. For our own podcasts and writings, go \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fcategory\u002Fblockchain-cryptocurrencies-bitcoin-ethereum\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ehere\u003C\u002Fa\u003E. \u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Ethereum in 25 Minutes (Vitalik Buterin)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EWhy ethereum?\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESeeming public consensus since 2013 that blockchains are useful for… stuff. Not just money! Asset issuance, etc\u003C\u002Fli\u003E\n\u003Cli\u003EProblem: most existing blockchain protocols were designed like a calculator &#8212; can do one thing well.\n\u003Cul\u003E\n\u003Cli\u003EPeople were starting to create protocols that worked like a Swiss army knife. Come up with 25 different blockchain applications, protocols. But breaks down when 26th application comes around\u003C\u002Fli\u003E\n\u003Cli\u003EWhy not make a protocol that works like a smartphone? Instead of supporting small suite of applications, support a programming language which gives you the ability to create applications. Anyone can write code, package it, and you have an app. Anyone can download the app, use it and run it\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe concept &#8212; Ethereum is a blockchain with a few additions. There are two types of accounts:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUser accounts (controlled by private keys). If transaction included in a block, it gets executed\u003C\u002Fli\u003E\n\u003Cli\u003EContracts (controlled by code): If thing A happens, send coins to person X. If you send coins into the account, the code is the only thing that can move coins around. Digital assets controlled by computer program. Can be used to represent arbitrarily complex business logic on the blockchain (e.g. on blockchain voting scheme, ENS (name service), issuer backed assets, etc)\u003C\u002Fli\u003E\n\u003Cli\u003EAnyone can create an application with any rules by defining it as a contract\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EState vs history. State == “current” information. Accounts to balances (how much Ether), nonce (counter for replay protection), contract code and contract storage (mini database that any contract on blockchain can use). History == things that happened. Transactions, receipts. Currently, all “full” nodes store state, some store history, and some do not store history\u003C\u002Fp\u003E\n\u003Cp\u003ECode execution: Every transaction has a TO address it sends to (unless it’s creating a contract) . The TO address’s code runs. Code can: send ETH to other contracts, read\u002Fwrite storage, call other contracts\u003C\u002Fp\u003E\n\u003Cp\u003EGas &#8212; Halting problem: cannot tell whether or not a program will run infinitely. Solution: charge fee per computational step (“gas”). Special gas fees applied to operations that take up storage. Not a currency (can’t transfer or hold), but a unit of measurement\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EGas limit &#8212; Counterpart to the block size limit in bitcoin, set by miners voting on it. Currently at 6.7m\u003C\u002Fli\u003E\n\u003Cli\u003ETransactions contain:\n\u003Cul\u003E\n\u003Cli\u003Enonce (anti-replay attack) &#8212; Send 10 ETH to Bob, prevents Bob from including it in the blockchain 100 times\u003C\u002Fli\u003E\n\u003Cli\u003Egasprice (amount of ether per unit gas)\u003C\u002Fli\u003E\n\u003Cli\u003Estartgas (max gas consumable)\u003C\u002Fli\u003E\n\u003Cli\u003Eto (Destination address)\u003C\u002Fli\u003E\n\u003Cli\u003Evalue (amount of ETH to send)\u003C\u002Fli\u003E\n\u003Cli\u003Edata (readable by contract code)\u003C\u002Fli\u003E\n\u003Cli\u003Ev, r, s (ECDSA signature values)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ELogs: Append-only, not readable by contracts. Bloom filter protocol to allow easier searching by topic. Put in Merkle tree so efficient light client access to event records (domain name changed, etc)\u003C\u002Fp\u003E\n\u003Cp\u003EEVM: Stack, Memory (temporary array of data VM can access), Storage (contract’s database), Environment variables (block number, timestamp), Logs, Sub-calling\u003C\u002Fp\u003E\n\u003Cp\u003EHigh level languages (most of the time won’t be writing in EVM code): Viper, Solidity, LLL, Bamboo\u003C\u002Fp\u003E\n\u003Cp\u003EThe ABI\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EFunction calls are compiled into transaction data\u003C\u002Fli\u003E\n\u003Cli\u003EFirst 4 bytes: function ID\u003C\u002Fli\u003E\n\u003Cli\u003ENext 64 bytes: first argument (32 byte), second argument\u003C\u002Fli\u003E\n\u003Cli\u003ECreate transaction, broadcast to network.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMerkle trees are singlehandedly responsible for making light clients possible. Allows for efficiently verifiable proofs that a transaction was included in a block (or verify that a piece of data included in a larger piece of data). Branch of hashes that allow you to check membership. State tree &#8212; Merkle tree of entire Ethereum state &#8212; contract code, storage, transactions, etc. Root hash goes into the block header &#8212; called the state root\u003C\u002Fp\u003E\n\u003Cp\u003ENew in Byzantium (hard fork live Oct 16) &#8212; Privacy features: Ring signatures, zk-snarks, big number exponentiation (think: RSA)\u003C\u002Fp\u003E\n\u003Cp\u003EFuture directions\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECasper\u003C\u002Fli\u003E\n\u003Cli\u003ESharding\u003C\u002Fli\u003E\n\u003Cli\u003EEVM and other protocol upgrades\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Introduction to Casper Implementation (Chang-Wu Chen)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EEthereum&#8217;s next generation Proof of Stake, Deposit-based proof of stake consensus protocol. Put ETH into contract to become validator.\u003C\u002Fp\u003E\n\u003Cp\u003EByzantine fault tolerant (BFT) style Proof of Stake. If more than 2\u002F3 validators follow protocol, then no conflicting blocks will be finalized.\u003C\u002Fp\u003E\n\u003Cp\u003ETwo versions of Casper in internal research team:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECasper the Friendly Finality Gadget (Casper-FFG), designed by Vitalik\u003C\u002Fli\u003E\n\u003Cli\u003ECasper the Friendly Ghost: Correct by Construction (Casper-CBC), designed by Vlad\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EHow does Casper work?\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EAdvantages: Energy efficiency (don’t need hardware for mining). Reduces the risk of centralization. Can only get 1 dollar’s worth of benefit per dollar vs PoW &#8212; cheaper cost when you have high computational power. Economic finality (security)\u003C\u002Fli\u003E\n\u003Cli\u003EBFT-based (Byzantine Fault Tolerance). If more than 2\u002F3 validators follow protocol, then no conflicting blocks will be finalized. It also means if the majority is less than 2\u002F3, the system will get stuck if no additional action is taken\u003C\u002Fli\u003E\n\u003Cli\u003EChallenges: Goal: an ever-growing canonical chain. In PoW, a single miner can make progress over time. In PoS, system can get stuck if validators misbehave. Keep in mind that validators could malfunction or misbehave: Accountable safety, Plausible liveness\u003C\u002Fli\u003E\n\u003Cli\u003EAny ETH holder can become a validator (a fixed amount of ETH) by simply depositing ETH into the Casper smart contract. Validator’s job to reach a consensus via vote. Validator’s vote weight is proportional to the total deposit size\u003C\u002Fli\u003E\n\u003Cli\u003EReward: if the checkpoint is getting finalized, then the validator gets the reward\u003C\u002Fli\u003E\n\u003Cli\u003EHybrid Casper\n\u003Cul\u003E\n\u003Cli\u003ELayering PoS on top of PoW &#8212; check points are coming from PoW\u003C\u002Fli\u003E\n\u003Cli\u003EEvery 100 blocks (epoch) will have a checkpoint that validators will vote for\u003C\u002Fli\u003E\n\u003Cli\u003EIncentivize miners to migrate to PoS\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EVote message &#8212; A vote has four parameters: epoch number, checkpoint hash, epoch source, checkpoint hash source\u003C\u002Fli\u003E\n\u003Cli\u003ESupermajority link &#8212; An ordered pair of checkpoints with target and source (a, b), such that at least 2\u002F3 of validators (by deposit) have published votes with source a and target b\u003C\u002Fli\u003E\n\u003Cli\u003EJustified checkpoint &#8212; The genesis is always justified and finalized. If a chain has accepted votes from 2\u002F3rds of validators for some checkpoint C that all use as a source the same ancestor C’, and C’ is justified, then C is justified\u003C\u002Fli\u003E\n\u003Cli\u003EFinalized checkpoint &#8212; A checkpoint C is finalized if it is justified and has a direct child C’ that is justified\u003C\u002Fli\u003E\n\u003Cli\u003EAccountable safety &#8212; At least 1\u002F3 of total deposits will be slashed if two conflicting checkpoints are finalized\u003C\u002Fli\u003E\n\u003Cli\u003EAvoid double vote &#8212; Don’t contradict yourself within the same epoch. Avoid surround vote &#8212; make sure targets in the DAGs are consistent with your previous vote\u003C\u002Fli\u003E\n\u003Cli\u003EPlausible liveness &#8212; Supermajority links can always be added to produce new finalized checkpoints, provided there exist children extending the finalized chain\u003C\u002Fli\u003E\n\u003Cli\u003EStatus\n\u003Cul\u003E\n\u003Cli\u003ECasper contract: Manage dynamic validator sets, vote records in each epoch, slash conditions, rewards and penalties\u003C\u002Fli\u003E\n\u003Cli\u003EProof of concept: Casper-FFG contract, testing language, run on testate to evaluate the correctness, no particular release date\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Presenting Parity: A Light Client for a Heavy Chain (Robert Habermeier)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EClassifications of Ethereum clients\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EFull nodes verify all blocks and transactions\u003C\u002Fli\u003E\n\u003Cli\u003ELight clients verify block headers, but don’t verify transactions\u003C\u002Fli\u003E\n\u003Cli\u003EThin client &#8212; isn’t checking consensus process, but has someone else do checking and then fetch data about the chain\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESecurity guarantees of a light client\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EChecks validity of headers, but not validity of state transitions (transaction execution, block reward, etc)\u003C\u002Fli\u003E\n\u003Cli\u003EWhat kinds of attacks does this leave us open to? Targeted attacks toward individuals (not able to do this on the whole network), by sending them fake headers\u003C\u002Fli\u003E\n\u003Cli\u003EWhen doing large transactions would want security of a full node\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E1. Backreferencing &#8212; We want not only homogeneous requests to be responded to in a specific packet (e.g. account balance at block A, data at block A, etc), minimizes round trips\u003C\u002Fp\u003E\n\u003Cp\u003E2. State proofs\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ETransaction execution (for gas estimation or etc_call) requires an unpredictable subset of the state trie\u003C\u002Fli\u003E\n\u003Cli\u003ENaive requesting from network leads tumor round trips and duplicate info\u003C\u002Fli\u003E\n\u003Cli\u003ERequest an entire transaction proof from a peer\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E3. Request credits\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EServing nodes give peers “credits” that can be used to make requests\u003C\u002Fli\u003E\n\u003Cli\u003ECredits recharge slowly over time\u003C\u002Fli\u003E\n\u003Cli\u003EDifferent requests have different costs: determined by server\u003C\u002Fli\u003E\n\u003Cli\u003EServers gather data on request serving times and adapt costs\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E4. Pub\u002Fsub\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EQuerying for data like events or contract states changing can be wasteful\u003C\u002Fli\u003E\n\u003Cli\u003EFull node peers know better than we do when something has changed\u003C\u002Fli\u003E\n\u003Cli\u003ESubscribing to changes let us keep track better\u003C\u002Fli\u003E\n\u003Cli\u003ECaveat: catching out peers who don’t publish when they’re supposed to\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ECanonical Hash Tries &#8212; This is how we avoid storing most headers on the light client\u003C\u002Fp\u003E\n\u003Cp\u003EBlock Pruning on Full Nodes\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EWe already use DHT-style routing in the network protocols\u003C\u002Fli\u003E\n\u003Cli\u003EK-buckets are sybil resistant\u003C\u002Fli\u003E\n\u003Cli\u003EMake Node IDs assign responsibilities for batches of N historical blocks\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Challenges Ahead for Smart Contracts (Emin Gun Sirer)\u003C\u002Fstrong\u003E\u003Cstrong\u003E \u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EEthereum today &#8212; “blockchain” is a word that needs no article, definite or indefinite\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECryptocurrencies are a new asset class, worth $100b\u003C\u002Fli\u003E\n\u003Cli\u003EEthereum has emerged as a platform for new projects &#8212; $1.4b traditional VC money invested in startups as of Jan 2017. More than $2b projected in ICOs this year\u003C\u002Fli\u003E\n\u003Cli\u003EStrong foundation: EVM, Solidity, Dapps. No downtime since launch\u003C\u002Fli\u003E\n\u003Cli\u003EMultiple implementations of EVM: Parity, Gets\u003C\u002Fli\u003E\n\u003Cli\u003ESupportive, constructive, science-driven community (worth its weight in any currency, actual value proposition)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESignificance\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EWe are witnessing the emergence of a new class of systems: A new take on eliminating trust, Trustworthiness comes through audibility and transparency\u003C\u002Fli\u003E\n\u003Cli\u003EAs well as the emergence of a new class of financial instruments, instruments that are executable\u003C\u002Fli\u003E\n\u003Cli\u003EAnd a new form of social organization: Crypto-backed corporations, trusts, partnerships\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EChallenges ahead for Ethereum\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EScale &#8212; How do we pack more transactions\u002Fs without impacting decentralization?\u003C\u002Fli\u003E\n\u003Cli\u003ECorrectness &#8212; how do we make sure that contracts do what we think they do?\u003C\u002Fli\u003E\n\u003Cli\u003EPrivacy &#8212; how do we couple confidential, private data with smart contracts?\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EScale\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EBlockchain operation &#8212; create interlinked blocks, append to ledger\u003C\u002Fli\u003E\n\u003Cli\u003EMakes it infeasible to modify the past, as long as attacker does not control majority hash power\u003C\u002Fli\u003E\n\u003Cli\u003EThe Block Size dilemma\n\u003Cul\u003E\n\u003Cli\u003EThe Bitcoin community is having a civil war over the maximum size of a block\u003C\u002Fli\u003E\n\u003Cli\u003EEthereum: Blocks cannot exceed 1MB, are issued every 14s. Throughput: 7-25tx\u002Fs (Bay bridge probably processes ~7 tx\u002Fs in traffic). Latency: 14s\u003C\u002Fli\u003E\n\u003Cli\u003ESimply increasing the block size is not a long term option. Very large blocks can lead to centralization\u003C\u002Fli\u003E\n\u003Cli\u003EScience of consensus protocols (vs. &#8220;Design by gut”) &#8212; New metrics for probabilistic consensus protocols: Mining power utilization. Fairness (even to small miners). Consensus delay (want it to be low). Time to win and Time to prune (latency of consensus process from the point of view of a miner).\u003C\u002Fli\u003E\n\u003Cli\u003EApparatus for measurement and evaluation &#8212; Miniature world, a 1:1 replica (of crypto world in basement of Cornell CS department). Falcon network, relay backbone (Collect data from inside Bitcoin network).\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cul\u003E\n\u003Cli\u003EEthereum findings\n\u003Cul\u003E\n\u003Cli\u003EEthereum PoW system incurs many uncle blocks (would be nice to reduce)\u003C\u002Fli\u003E\n\u003Cli\u003EEthereum network would benefit from a relay network\u003C\u002Fli\u003E\n\u003Cli\u003EEthereum mining ecosystem is more centralized than Bitcoin\u003C\u002Fli\u003E\n\u003Cli\u003EState of the art in an- and off-chain scaling?\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EBitcoin-NG &#8212; (best) protocol for on-chain scaling. Reassigning roles to blocks\n\u003Cul\u003E\n\u003Cli\u003EAssigning a leader to the key block that verifies transactions as they come in\u003C\u002Fli\u003E\n\u003Cli\u003EKey blocks are small and rare, micro blocks are small and frequent\u003C\u002Fli\u003E\n\u003Cli\u003ECritical part is in getting th incentives structure just right so the subsequent miner will extend the longest chain\u003C\u002Fli\u003E\n\u003Cli\u003ESet of constraints guide us to precise parameters\u003C\u002Fli\u003E\n\u003Cli\u003EBitcoin-NG has better fairness than Bitcoin as block size increases\u003C\u002Fli\u003E\n\u003Cli\u003ECan yield ~300tx\u002Fs. Not quite VISA\u002FGoogle scale\u003C\u002Fli\u003E\n\u003Cli\u003EByzCoin generalizes the NG idea to a coalition of leaders\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EScaling, Off-chain\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ELightning and Raiden\n\u003Cul\u003E\n\u003Cli\u003ETake load off blockchain to two parties that communicate in private and resolve back to the blockchain\u003C\u002Fli\u003E\n\u003Cli\u003EFundamental problem: the participants have access to old settlement transactions. They can push an old state, rewinding the channel\u003C\u002Fli\u003E\n\u003Cli\u003EEcosystem: requires constant monitoring of the chain (so parties don’t try settle early). Starts to look more like a bank\u003C\u002Fli\u003E\n\u003Cli\u003ESecurity: vulnerable to transaction malleability\u003C\u002Fli\u003E\n\u003Cli\u003EPerformance: require multiple round trips\u003C\u002Fli\u003E\n\u003Cli\u003ETeechan and Teechain. Inside every recent Intel chip is a TEE (trusted execution environment), something far better than a Trezor\u002FLedger. Also inside ARM and AMD. All memory is encrypted, if program is hacked, access to decryption keys is lost\u003C\u002Fli\u003E\n\u003Cli\u003ERemote attestation &#8212; prove to a remote host what code you are running\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ETeechan\n\u003Cul\u003E\n\u003Cli\u003ESecure, hardware based protocol\u003C\u002Fli\u003E\n\u003Cli\u003EFreeze the on-chain state of two contracts: Exchange keys (safe because executing in TEE, cannot get keys out). Use peer-to-peer state changes, off chain. Settle and update on chain state of two contracts.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ETeechain\n\u003Cul\u003E\n\u003Cli\u003EGeneralized Teechan to multi hop, atomic transactions. Implemented on Bitcoin, signed with SGX keys\u003C\u002Fli\u003E\n\u003Cli\u003E&gt;100ktx\u002Fs\u002Fchannel\u003C\u002Fli\u003E\n\u003Cli\u003E&lt;30ms latency UK to US\u003C\u002Fli\u003E\n\u003Cli\u003EWork underway for Ethereum\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ECorrectness\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EVerify smart contracts do what you think they should\u003C\u002Fli\u003E\n\u003Cli\u003ETypically done with the aid of a specification\u003C\u002Fli\u003E\n\u003Cli\u003EA rich field, many decades old\u003C\u002Fli\u003E\n\u003Cli\u003ESoftware verification as we know it falls short (so far focusses on safety and liveness); also needs game theoretic verification\u003C\u002Fli\u003E\n\u003Cli\u003ESafety: proving that a predicate is always true on all parts of execution: “sum totals of tokens &lt;N”, “token balances are conserved”\u003C\u002Fli\u003E\n\u003Cli\u003ELiveness: proving that eventually something good happens on every path “smart contract does not get stuck”\u003C\u002Fli\u003E\n\u003Cli\u003EGame theoretic properties:\n\u003Cul\u003E\n\u003Cli\u003E“this contract is fair to all participants”\u003C\u002Fli\u003E\n\u003Cli\u003E“this contract is truthful or incentive-compatible”\u003C\u002Fli\u003E\n\u003Cli\u003E“late voters in a DAO are not disadvantaged”\u003C\u002Fli\u003E\n\u003Cli\u003E“DAO++ is designed to be regret-free”\u003C\u002Fli\u003E\n\u003Cli\u003E“contract maximizes social utility\u002Foutcomes”\u003C\u002Fli\u003E\n\u003Cli\u003Etypically need to be coupled with models of utility. almost always need to be evaluated with respect to other execution paths\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EWe still need basic program verification\n\u003Cul\u003E\n\u003Cli\u003EWe still need oracles (virtual notary, town crier, Oraclize, Augur, …)\u003C\u002Fli\u003E\n\u003Cli\u003EWe will need escape hatches &#8212; crowd-sourced possible for use in decentralized settings\u003C\u002Fli\u003E\n\u003Cli\u003EBut we need to start tackling problems on the horizon &#8212; btw, the DAO suffered from multiple such problems that required human examination to find\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPrivacy\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPrivate data and public blockchains do not mix &#8212; all contract state is public. Contracts cannot hold or exercise secret keys (e.g. API keys, interact with AWS, exchanges)\u003C\u002Fli\u003E\n\u003Cli\u003EThere is private data we’d love to store\u003C\u002Fli\u003E\n\u003Cli\u003ECreDB &#8212; new database, implemented on secure hardware\n\u003Cul\u003E\n\u003Cli\u003ENot on-chain, but on network. NoSQL-like\u003C\u002Fli\u003E\n\u003Cli\u003EEidetic &#8212; remembers everything that ever happened\u003C\u002Fli\u003E\n\u003Cli\u003EBlockchain-driven &#8212; gets its instructions from the blockchain in encrypted form. Can store data, can query, can store methods\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EConclusions\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPlanetary scale decentralized computer that executes in tandem with integrity\u003C\u002Fli\u003E\n\u003Cli\u003EThere are exciting challenges ahead, we know at least the next few steps\u003C\u002Fli\u003E\n\u003Cli\u003EWith a science driven constructive community we are poised to tackle them and more\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Intro to Cryptoeconomics (Karl Floersch)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EWhen you have programmable incentives, you can program human behaviour\u003C\u002Fp\u003E\n\u003Cp\u003ECryptoeconomics\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EThe application of economics and cryptography to achieve information security goals\u003C\u002Fli\u003E\n\u003Cli\u003EDesigning Incentives. “You cannot reasonably about security of blockchain protocols without reasoning about economics” &#8212; Vitalik\u003C\u002Fli\u003E\n\u003Cli\u003ECryptography &#8212; hash functions, digital signatures, Merkle DAGs, zkSNARKS\u003C\u002Fli\u003E\n\u003Cli\u003EEconomics &#8212; tokens, voting rights, bribing attacker, auctions\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EGood outcomes &#8212; trusted execution, open access, fast finality, decentralized control, inexpensive\u003C\u002Fp\u003E\n\u003Cp\u003EBad outcomes &#8212; safety failure, censorship, etc\u003C\u002Fp\u003E\n\u003Cp\u003ECasper is just one of many crypto economic mechanisms, e.g. Automated market maker contract. Design a mechanism, analyze incentives, make a website &amp; logo, publish analysis &amp; website, observe behavior, record findings. Smart contract trading ETH to UNI.\u003C\u002Fp\u003E\n\u003Cp\u003EParticipation incentive\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EExchange creator:\n\u003Cul\u003E\n\u003Cli\u003E+Passive fee income (race to the bottom? can model out, play around with it. what tokens is it useful for? [don’t want to create market maker for a token that will plummet]).\u003C\u002Fli\u003E\n\u003Cli\u003E-Capital lockup.\u003C\u002Fli\u003E\n\u003Cli\u003E? Maintain 50\u002F50 hedge\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EToken buyers\n\u003Cul\u003E\n\u003Cli\u003E+Minimal transactions\u003C\u002Fli\u003E\n\u003Cli\u003E+Trustless exchange\u003C\u002Fli\u003E\n\u003Cli\u003E&#8211; exchange fee\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EToken arbitrageurs\n\u003Cul\u003E\n\u003Cli\u003E+ Low risk profit (how close will the price track other exchanges?)\u003C\u002Fli\u003E\n\u003Cli\u003E+ trustless exchange\u003C\u002Fli\u003E\n\u003Cli\u003E&#8211; exchange fee\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EIf assumptions hold true, the exchange will produce the following outcomes within these bounds… good outcomes? Good &#8212; easier exchange, trestles trades, liquidity for small trades. Bad &#8212; no KYC, bots get richer, miner front running\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EGoing live &#8212; code, open source, publish. Anyone can deploy a contract which can be trusted with millions of dollars. Can recreate financial systems and anyone can do it\u003C\u002Fp\u003E\n\u003Cp\u003ELearning from mistakes &#8212; miner front running\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EAssumptions were incorrect, forgot about miner front runners\n\u003Cul\u003E\n\u003Cli\u003ESlip in my transaction before it closes, sell for quick profit\u003C\u002Fli\u003E\n\u003Cli\u003E+super low risk profit\u003C\u002Fli\u003E\n\u003Cli\u003E&#8211; dev costs\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EDisincentivize &#8212; flat rate per block? trusted tx ordering oracle? just accept it as a \u003Cstrong\u003Eminor\u003C\u002Fstrong\u003E tax?\u003C\u002Fli\u003E\n\u003Cli\u003EToken arbitrageurs initially human, but are eventually replaced with bots\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EProgramming incentives\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESuperpowers for makers\u003C\u002Fli\u003E\n\u003Cli\u003EIncentives drive behavior\u003C\u002Fli\u003E\n\u003Cli\u003EProgram incentives which promote cooperation, equitability, not incentives which promote domination\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESolving big problems &#8212; Energy, financial tools (decentralized exchanges), reward content creators with more interesting incentives\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Casper the Friendly Ghost: A correct-by-construction blockchain (Vlad Zamfir)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EProcess for Casper the friendly finality gadget &#8212; taking existing consensus protocols and simplifying them, for consensus safety\u003C\u002Fp\u003E\n\u003Cp\u003ECasper the friendly ghost &#8212; derived to satisfy\u003C\u002Fp\u003E\n\u003Cp\u003E“Proof of work” blockchain consensus does not decide on one block at a time, more overhead\u003C\u002Fp\u003E\n\u003Cp\u003ECasper: Each block finalized with async BFT consensus safety. And it only requires O(1) per node\u003C\u002Fp\u003E\n\u003Cp\u003EAbstract consensus safety proof:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EWe need:\n\u003Cul\u003E\n\u003Cli\u003E“Protocol states”, “protocols tate transitions”; an “estimator” to define “estimate safety”\u003C\u002Fli\u003E\n\u003Cli\u003EProtocol states are elements in a set, and protocol state transitions are directed paths through protocol states\u003C\u002Fli\u003E\n\u003Cli\u003EAn estimator maps protocol states to estimates. In binary consensus it maps to 0 or 1\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EAn estimate is said to be safe if it is consistent to future protocol states\u003C\u002Fli\u003E\n\u003Cli\u003EIf two estimates are safe at two states, and they have a future in common, then they are also safe at that future\u003C\u002Fli\u003E\n\u003Cli\u003EKey intuition &#8212; we remove the states that have too many Byzantine faults, states have a common future because there are not more than N Byzantine faults\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EBinary Consensus\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EProtocol messages that are bits\u003C\u002Fli\u003E\n\u003Cli\u003EScore of an estimate is sum of estimators that have that estimate, Look at all recent validators\u003C\u002Fli\u003E\n\u003Cli\u003EDetecting Byzantine faults &#8212; attest to what they see from other nodes. Equivocation &#8212; find Byzantine faults by equivocations\u003C\u002Fli\u003E\n\u003Cli\u003EArrive at an binary Estimate safety\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ECasper the friendly ghost\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EBlocks have another block in the estimate spot.\u003C\u002Fli\u003E\n\u003Cli\u003EScore of a block is weight of validators whose latest messages have the block in their blockchains\u003C\u002Fli\u003E\n\u003Cli\u003EGreedy heaviest observed sub-tree\u003C\u002Fli\u003E\n\u003Cli\u003EProtocol states and state transitions are defined in the same way as before\u003C\u002Fli\u003E\n\u003Cli\u003EEstimate safety &#8212; For all future protocol states, this block is in the blockchain we will choose in all future states\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ENodes running either of these protocols will need to detect estimate safety in order to make decisions on safe estimates\u003C\u002Fp\u003E\n\u003Cp\u003EClique Oracle: Nodes in a clique can’t change each other&#8217;s estimates\u003C\u002Fp\u003E\n\u003Cp\u003EValidator rotation\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EDefine a block structure with weights mappings in the justification\u003C\u002Fli\u003E\n\u003Cli\u003EWe will score blocks according to the weights map in their parent\u002Fprev block\u003C\u002Fli\u003E\n\u003Cli\u003EBut none of the other definitions need to change, so done with addicting validator rotation to consensus safety\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EExperimental observations: blockchain\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EBlocks can contribute to the finality of many blocks; blocks will agree and disagree will other blocks; will determine how future safety turns out\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Panel: Casper and Consensus (Vitalik Buterin, Vlad Zamfir, Peter Czaban, Emin Gun Sirer, Elaine Shi)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ECasper principles: decentralization, Byzantine fault tolerance, economic security\u003C\u002Fp\u003E\n\u003Cp\u003EGoal of Casper-FFG, as simple as possible, as simple to graft onto PoW chains as possible while being safe under asynchroncity, BFT\u003C\u002Fp\u003E\n\u003Cp\u003EProof of stake increases security because you get finality that’s safe in asynchrony (vs PoW). Attacking nodes attack at a higher cost than PoW\u003C\u002Fp\u003E\n\u003Cp\u003EVitalik: Thought experiment: attacker spends $1b to buy ASICs, 51% attack. Can spawn camp. Developers will change the PoW algorithm so ASICs become useless. Attacker has lost $1b. All of good miners lost useful hardware as well\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EGet another $1b, corner market on GPUs. Launch another 51% attack, general purpose so developers have no countermove.\u003C\u002Fli\u003E\n\u003Cli\u003EHas to make cost of attack very high &#8212; survival through domination of hash power\u003C\u002Fli\u003E\n\u003Cli\u003EProof of stake attack.\n\u003Cul\u003E\n\u003Cli\u003EBuy $100m of Ether\u003C\u002Fli\u003E\n\u003Cli\u003EBreaks finality, censors transaction for a while &#8212; Worst case: community can coordinate hard fork. Legitimate because PoW people agree to changing algorithm, which is also a hard fork. Attacker loses money, community not affected. Eventually run out of money, price of Ether increases after multiple attacks.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPoW &#8212; at the mercy of hardware trends. &#8212; as people come with better ASIC tricks, heat\u002Fcooling, no knob to turn to adjust. PoS have ability to put independent individual knobs on individual participants in system\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Introducing the TrueBit Virtual Machine (Jason Teutsch)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ETake C\u002FC++ code, run verification code\u003C\u002Fp\u003E\n\u003Cp\u003EEthereum sacrificed computation speed for immutability + communication component\u003C\u002Fp\u003E\n\u003Cp\u003EScalability idea #1 &#8212; obliterate Ethereum’s gasLimit\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EgasLimit helps incentivize transaction verification\u003C\u002Fli\u003E\n\u003Cli\u003EA world without gasLimit &#8212; a heavy transaction with a massive transaction fee\u003C\u002Fli\u003E\n\u003Cli\u003EVerifier’s Dilemma &#8212; in the case of a heavy transaction, what should a rational miner do?\n\u003Cul\u003E\n\u003Cli\u003ESkipping verification affords an advantage in the mining race &#8212; therefore skip verification\u003C\u002Fli\u003E\n\u003Cli\u003EMining on the “wrong&#8221; chain means the other miners will ignore a found block. Therefore do the verification\u003C\u002Fli\u003E\n\u003Cli\u003EPrevents smart contracts from running for more than a fraction of a second\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETrueBit gives Ethereum a computational boost &#8212; do heavy work off chain\u003C\u002Fp\u003E\n\u003Cp\u003EProtocol goals:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EAnyone can offer a reward for performing a computational task\u003C\u002Fli\u003E\n\u003Cli\u003EAnyone can solve a task in exchange for a reward\u003C\u002Fli\u003E\n\u003Cli\u003EThe protocol guarantees correctness of solutions\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EConsists of an Ethereum smart contract and a off chain computation framework\u003C\u002Fp\u003E\n\u003Cp\u003EUnanimous consensus algorithm (unlike Ethereum which is majority)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EAnyone can challenge a computation by taking it to court &#8212; verification game\u003C\u002Fli\u003E\n\u003Cli\u003EJudges enforce a binary search to pinpoint the step where the disagreement occurs\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EScalability ideas #2 &amp; #3\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EHow can we ensure that verification actually occurs?\u003C\u002Fli\u003E\n\u003Cli\u003EIdea 2: offer rewards for checking coputations. Incentivizes participation, but doesn’t incentivize correctness\u003C\u002Fli\u003E\n\u003Cli\u003EIdea 3: Offer rewards for finding bugs. Incentivizes correctness, but doesn’t incentivize participation (where there are no bugs)\u003C\u002Fli\u003E\n\u003Cli\u003EVerifiers will stop paying attention if they don’t expect rewards\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EScalability idea #4: forced errors\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EOffer a bug bounty and provide expectation that bugs will exist\u003C\u002Fli\u003E\n\u003Cli\u003ETrueBit protocol occasionally pays “Solvers” for submitting incorrect solutions\u003C\u002Fli\u003E\n\u003Cli\u003EDispute resolution subroutine ensures correctness whenever “forced errors” are not in effect\u003C\u002Fli\u003E\n\u003Cli\u003EIdeally, this subroutine is never used\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThree properties of TVM:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ETasks must compile and execute identically on all machines\u003C\u002Fli\u003E\n\u003Cli\u003EA single computation step on the TVM runs comfortably within Ethereum’s gas limit\u003C\u002Fli\u003E\n\u003Cli\u003ESpace required to describe a TVM state change fits inside a single Ethereum transactions\u003C\u002Fli\u003E\n\u003Cli\u003EA Turing machine would be ideal but there’s no such compiler. Next best thing: go to WebAssembly steps, broken down into 16 sub steps\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Plasma (Joseph Poon)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EAt its core, Building a blockchain on top of a blockchain\u003C\u002Fp\u003E\n\u003Cp\u003EWrite a contract on Ethereum, taking a library and modifying it to suit your needs (e.g. social network, private blockchain that binds to public network &#8212; Ethereum becomes base chain for private chains, micropayments, decentralized exchange)\u003C\u002Fp\u003E\n\u003Cp\u003EInitialize Plasma blockchain\u003C\u002Fp\u003E\n\u003Cp\u003ELocalized computation &#8212; only periodic commitments\u003C\u002Fp\u003E\n\u003Cp\u003EUnique rules per Plasma blockchain\u003C\u002Fp\u003E\n\u003Cp\u003EDecentralized applications at scale\u003C\u002Fp\u003E\n\u003Cp\u003EPeriodic commitments to the root chain. Not really trusting them &#8212; periodically commit small (hundreds of bytes) hashes. Not proof of existence, actually enforceable\u003C\u002Fp\u003E\n\u003Cp\u003EFraud proof enforcement. Submit proof on Ethereum &#8212; Merkleized attestation and proof. Can represent information very compactly\u003C\u002Fp\u003E\n\u003Cp\u003ECore novelty in Plasma is around exits\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EExiting Byzantine behavior &#8212; predesign contracts so all Plasma blockchains allow for orderly exits\u003C\u002Fli\u003E\n\u003Cli\u003EData unavailability. Can’t prove when someone is withholding data. Exit in the event blocks are withheld\u003C\u002Fli\u003E\n\u003Cli\u003EWhen you discover blocks are being withheld (could be bad data, bad state transitions, can’t prove because no data), you exit to another Plasmas blockchain or the root blockchain as soon as possible\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EAllows computation with map reduce\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMap &#8212; blockchains doing computation\u003C\u002Fli\u003E\n\u003Cli\u003EReduce computations back down &#8212; return values\u003C\u002Fli\u003E\n\u003Cli\u003EReach computation scale\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EDesign goals\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EOne blockchain can encompass all worldwide blockchains\u003C\u002Fli\u003E\n\u003Cli\u003ETrust minimization\u003C\u002Fli\u003E\n\u003Cli\u003EPayment and ledger scalability\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETransaction Data Availability Problem\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ETransactions in a Plasma block &#8212; let’s say you wanted to create a simple payment in a Plasma block. Try to create a transaction similar to a standard payment on root chain Ethereum.\n\u003Cul\u003E\n\u003Cli\u003EPotential Problem: Cannot attest to this payment in the event of block withholding\u003C\u002Fli\u003E\n\u003Cli\u003EPotential Problem: If blocks are withheld it is unclear whether an unconfirmed transaction has spent funds or not. Difficult to prove double spends in a Plasma block and enforce it on Ethereum\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EAdding funds to Plasma block &#8212; same problem but when sending funds to a Plasma contract\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETwo-Phase Commit Mechanism &#8212; create transaction, sign and broadcast it\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPlasma block with payment gets signed by validators &#8212; Plasma block confirmed and ultimately committed on Ethereum. At this point the transaction is not usable, Alice can still recover her funds from the old state\n\u003Cul\u003E\n\u003Cli\u003EAlice commits to seeing the funds in a block &#8212; Alice signs a message confirming that she sees the block. Alice shares it with Bob or Plasma chain\u003C\u002Fli\u003E\n\u003Cli\u003EBob receives the funds and is treated as confirmed &#8212; Alice cannot take back\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EWhy do we do this? Alice needs to be sure she is certain her transaction occurred on the Plasma chain in order to do a withdrawal in the event of a chain halt or other byzantine behavior. If money was sent to Bob, Bob needs the data available. This ensures either Alice or Bob own the funds. 3 parties: Alice, Bob, and Plasma chain itself.\u003C\u002Fli\u003E\n\u003Cli\u003ELet’s say Alice tries to maliciously withdraw. The Plasma chain has not confirmed the commitment yet. Alice sends a transaction on Ethereum to withdraw her 1ETH from the Plasma Chain contract. She must put up a bond and wait some time. During that time Bob notices that Alice is trying to taking his money. Bob broadcasts a fraud proof. He can now take her bond and his money back\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EAttestation on information availability. Emerging theme when dealing with states when not everyone has information\u003C\u002Fp\u003E\n\u003Cp\u003EScaling the world computer. Root blockchain as the supreme court\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]ZoKrates – A Toolbox for zkSNARKs on Ethereum (Jacob Eberhardt)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EMotivation: Off-chain transaction processing, result is written back to chain and verified to be correct on chain\u003C\u002Fp\u003E\n\u003Cp\u003EBenefits of processing off chain\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EScalability: If verification is cheaper than execution, throughput can be increased. Block complexity gas limit does not apply (halting problem does not apply)\u003C\u002Fli\u003E\n\u003Cli\u003EConfidentiality: Private information can be used on external node without revealing to public blockchain\u003C\u002Fli\u003E\n\u003Cli\u003EApproaches: TrueBit, Non-interactive Zero-Knowledge Proofs (zkSNARKS)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003Ezero-knowledge Succint Non-interactive Arguments of Knowledge\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EShort and non interactive proofs\u003C\u002Fli\u003E\n\u003Cli\u003EZero knowledge\u003C\u002Fli\u003E\n\u003Cli\u003EVerification cost independent of computational complexity\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEthereum Byzantium zkSNARK precompiles &#8212; EC Add, Scalar multiplication, Pairing check\u003C\u002Fp\u003E\n\u003Cp\u003EZoKrates Vision\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EProvide usable abstraction and tooling for zkSNARKS\u003C\u002Fli\u003E\n\u003Cli\u003ESupport complete process: from program code to on-chain verification\u003C\u002Fli\u003E\n\u003Cli\u003ESeamlessly integrate with Ethereum\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EZoKrates &#8212; a toolbox for zkSNARKS\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EA high-level language\u003C\u002Fli\u003E\n\u003Cli\u003EA compiler, which transforms programs to provable constraint systems\u003C\u002Fli\u003E\n\u003Cli\u003ETools &#8212; Setup phase, witness computation, proof generation, Verification Smart Contract generation\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]A Modest Proposal for Ethereum 2.0 (Vitalik Buterin)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ELet’s look at Ethereum so far…\u003C\u002Fp\u003E\n\u003Cp\u003ESuccesses &#8212; it works! many applications, high adoption (&gt;500k\u002Fday == ~7 tx\u002Fs) &#8212; includes ERC20 dapps smart contracts, Byzantium (a whole bunch of privacy features). More than 20k nodes worldwide\u003C\u002Fp\u003E\n\u003Cp\u003EWhat are the challenges? Scalability &#8212; trilemma claims blockchain systems can at most have two of the three properties:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EDecentralization (defined as the system being able to run in a scenario where each participant only has access to O(c) resources, i.e. a regular laptop or small VPS\u003C\u002Fli\u003E\n\u003Cli\u003EScalability (defined as being able to process O(n) &gt; O(c) transactions)\u003C\u002Fli\u003E\n\u003Cli\u003ESecurity (defined as being secure against attackers with up to O(n) resources)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EScalability\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EEvery node processes every transaction\u003C\u002Fli\u003E\n\u003Cli\u003EThis means that the capacity of a blockchain is limited to the capacity of one node\u003C\u002Fli\u003E\n\u003Cli\u003ELimited by disk reads\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ELikely solution: sharding\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESpit blockchain state into N universes (“shards”)\u003C\u002Fli\u003E\n\u003Cli\u003EOnly allow asynchronous communication between shards\u003C\u002Fli\u003E\n\u003Cli\u003EEach client only processes a small portion of transactions\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EGovernance \u002F protocol evolution\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EHigh demand for protocol stability, hard forks making deep changes are hard. Long time to code, long time to test, high risk of consensus bugs\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EBut to get to Ethereum 2.0, deep changes are exactly what we need, so what do we do?\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EIntuition: “One blockchain, two systems”\u003C\u002Fli\u003E\n\u003Cli\u003EAdd validator manager contract. Runs proof of stake system that maintains consensus for 2 layer sharding system\n\u003Cul\u003E\n\u003Cli\u003EWould not maintain copy of all consensus rules.\u003C\u002Fli\u003E\n\u003Cli\u003EEnforce data in shards are available and data availability in the shard\u003C\u002Fli\u003E\n\u003Cli\u003EFirst a low risk thing to participate in. Get fairly significant portion of Ether stake participating, creating blocks in each shards periodically. Blocks in shards called “collations”\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E2 layer structure\n\u003Cul\u003E\n\u003Cli\u003ETop layer is blockchain\u003C\u002Fli\u003E\n\u003Cli\u003EEach shard is its own universe. Have validator manager contractor bridging them. Process moving Ether from main chain to shard and one shard to another\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EScalability Main shard O(C) &#8212; one node | new shards O(C^2)\u003C\u002Fli\u003E\n\u003Cli\u003EConsensus main shard PoW &#8211;&gt; Hybrid PoS &#8211;&gt; PoS | new shards PoS through on-chain contract\u003C\u002Fli\u003E\n\u003Cli\u003ESecurity Main shard Full | new shards 50% honest majority of on-chain PoS now, full security later\u003C\u002Fli\u003E\n\u003Cli\u003EGovernance main shard emphasize conservatism and strong immutability more than today | on-chain ETH voting governance through PoS, emphasize fast evolution now, conservatism later\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EImplementation roadmap\u002F Sharding roadmap\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EImplement as proof of stake sidechain\n\u003Cul\u003E\n\u003Cli\u003ECollation headers get verified and processed by on main chain validator manager contract\u003C\u002Fli\u003E\n\u003Cli\u003EBlock creation rights assigned by simple proof of stake\u003C\u002Fli\u003E\n\u003Cli\u003EClients randomly assigned\u003C\u002Fli\u003E\n\u003Cli\u003EOne way ETH convertability\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EAdd two way convertibility\u003C\u002Fli\u003E\n\u003Cli\u003EMove collation headers from contract position to uncle position\u003C\u002Fli\u003E\n\u003Cli\u003ETight coupling &#8212; reject blocks with invalid headers. Ideally would happen when things on sharding side are stabilized\u003C\u002Fli\u003E\n\u003Cli\u003EShards are creating new address space, not affect existing address space. Incomptatible\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EChanges to make:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EChanging Merkle trees from hexary -&gt; binary. 4x shorter Merkle proofs\u003C\u002Fli\u003E\n\u003Cli\u003EAccount\u002Fstate tree redesigns\u003C\u002Fli\u003E\n\u003Cli\u003EEVM upgrades: EVM 1.5, E-WASM\u003C\u002Fli\u003E\n\u003Cli\u003EParallelizability\u003C\u002Fli\u003E\n\u003Cli\u003EStateless clients\n\u003Cul\u003E\n\u003Cli\u003EConsensus nodes do not hold entire state, only state root\u003C\u002Fli\u003E\n\u003Cli\u003ETransaction senders attach Merkle branches (“witnesses”) proving state that they access\u003C\u002Fli\u003E\n\u003Cli\u003EBlocks get passed around with the witnesses\u003C\u002Fli\u003E\n\u003Cli\u003ESubstitute disk read with ~1kb bandwidth (assuming 10^9 accounts, optimized Merkle branch)\u003C\u002Fli\u003E\n\u003Cli\u003EMake it much easier to reshuffle validators when sharding\u003C\u002Fli\u003E\n\u003Cli\u003EAllow us to care less about state size\u003C\u002Fli\u003E\n\u003Cli\u003EMassively increase parallelizability. Allows us unlimited leeway along the traditional “big block” scaling route if we want it\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESplit ongoing development into two layers: Layer 1: safe and conservative (getting Casper rolled out),\u003C\u002Fp\u003E\n\u003Cp\u003ELayer 2: rapid development and experimentation. Get benefits of both at the same time in the short-medium term.\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Using Ethereum for Secure Decentralized Optimization (Eric Munsing)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ESolve hard math problems off chain &#8212; machine learning, market clearing, operation scheduling\u003C\u002Fp\u003E\n\u003Cp\u003ESmart contracts coordinate consensus on global optimum\u003C\u002Fp\u003E\n\u003Cp\u003EGuarantee security, feasibility, and optimality\u003C\u002Fp\u003E\n\u003Cp\u003EOptimization problems &#8212; convex optimization, decentralized optimization, fully-decentralized optimization\u003C\u002Fp\u003E\n\u003Cp\u003EUsing smart contracts for security\u003C\u002Fp\u003E\n\u003Cp\u003EConvex optimization: minimize\u002Fmaximize subject to constraints\u003C\u002Fp\u003E\n\u003Cp\u003EBreak big tasks into small pieces: solve local problems on distributed hardware, bring local solutions into consensus\u003C\u002Fp\u003E\n\u003Cp\u003ECreate analytically solvable sub-problems, break into a set of smaller problems, respect privacy of local information\u003C\u002Fp\u003E\n\u003Cp\u003EWeaknesses of aggregator-based consensus\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ETrust issues in market clearing, monopoly price distortion, single point of failure\u002Fattack\u003C\u002Fli\u003E\n\u003Cli\u003EAlternative: fully decentralized optimization. Consensus with neighbors who share variables\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Swarm team development update (Viktor Tron, Daniel Nagy, Aron Fischer, Louis Holbrook)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ENetwork of computers that share data with each other, p2p decentralized storage\u003C\u002Fp\u003E\n\u003Cp\u003ESame p2p connections as the Ethereum network, tightly integrated into Ethereum\u003C\u002Fp\u003E\n\u003Cp\u003EDecentralized store of app data\u003C\u002Fp\u003E\n\u003Cp\u003EType address into URL bar bzz:\u002F\u002Fsome-dapp-site.eth\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUse Ethereum ENS to turn name.eth into a hash\u003C\u002Fli\u003E\n\u003Cli\u003EUse hash to query peers for data\u003C\u002Fli\u003E\n\u003Cli\u003ERender Dapp\u002Fwebsite\u003C\u002Fli\u003E\n\u003Cli\u003EIntegrity protected, resilient, censorship free, server less, p2p web\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESwarm under the hood\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESplit file into 4k chunks, send to different places for storage.\u003C\u002Fli\u003E\n\u003Cli\u003EContent addressed: each chunk gets a hash as its “id”\u003C\u002Fli\u003E\n\u003Cli\u003EChunks stored at node with “closest” address\u003C\u002Fli\u003E\n\u003Cli\u003EData stored uniformly across the data\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESwarm payment infrastructure is modular, flexible, and extensible\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECan provide incentive structure for content delivery and content storage, but also many other services\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EStatus\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EIf you’ve tried swarm, you’ve been using Swarm PoC Client 0.2. Proof of concept. Shows basic idea works. Performance slow\u003C\u002Fli\u003E\n\u003Cli\u003ELearned a lot, rewriting parts of the system\u003C\u002Fli\u003E\n\u003Cli\u003EScope of the project has grown beyond just storage &#8212; direct node to node communication, live streaming\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESwarm is a devp2p network. Can use routed network to send messages between any two nodes connected by intermediary nodes\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EEthereuem Whisper is to serve the need of anonymity at cost of performance\u003C\u002Fli\u003E\n\u003Cli\u003EPSS (Postal Service over Swarm) is routed, so it knows the fastest way with minimum of network load, different purpose\u003C\u002Fli\u003E\n\u003Cli\u003EUses whisper (v5) for Topics, expiry, cryptography\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EFUSE integration and SWARM &#8212; Synchronize files and directories between own devices\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Scalable Responsive Dapps with Swarm and ENS (Daniel Nagy)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EThe challenges of scaling \u002F bottlenecks\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EThe blockchain\n\u003Cul\u003E\n\u003Cli\u003EInformation stored on every node\u003C\u002Fli\u003E\n\u003Cli\u003ERequires immediate full ordering of events\u003C\u002Fli\u003E\n\u003Cli\u003ERequires fast broadcast of transactions and blocks\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ENetwork links, network-wide broadcasts\u003C\u002Fli\u003E\n\u003Cli\u003EOvercoming storage bottlenecks &#8212; keep data in swarm, store root hash in ENS\u003C\u002Fli\u003E\n\u003Cli\u003EOvercoming transaction bottlenecks &#8212; Raiden style updates to ENS resolvers\u003C\u002Fli\u003E\n\u003Cli\u003EOvercoming broadcast bottlenecks &#8212; clever use of PSS with pub\u002Fsub\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEventual consistency on blockchain\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E15 minute block time x 12 confirmations ~= 3 minutes\u003C\u002Fli\u003E\n\u003Cli\u003EUpdates reach concerned nodes faster\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EUpdate structure requires clever design\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EJust sending a root hash is insufficient: concurrency and delay issues\u003C\u002Fli\u003E\n\u003Cli\u003EEndpoint aggregation is often preferred to complicated updates\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ERely on generic infrastructure, if possible\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EEnough redundancy even for unpopular\u002Fniche apps.\u003C\u002Fli\u003E\n\u003Cli\u003EMake sure data eventually reaches the blockchain: ETH &gt; LES &gt; BZZ &gt; PSS\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMake sure that important state is eventually committed. Think about incentives!\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUse deposits or other commitment to reduce provider churn\u003C\u002Fli\u003E\n\u003Cli\u003EOn-chain dispute resolution\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Designing Future-proof Smart Contract Systems (Jorge Izquierdo)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EAragon: decentralized organizations platform built on Ethereum\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUsable by nontechnical users\u003C\u002Fli\u003E\n\u003Cli\u003EAllow extendability of the system with third party on-chain modules\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe case against upgradeability\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EChanging the rules on a live contract\u003C\u002Fli\u003E\n\u003Cli\u003ETrust required on the entity that can upgrade\u003C\u002Fli\u003E\n\u003Cli\u003EFront-running attack with an upgrade\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EUpgradeable libraries\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPros: transparent for developer, allows to ‘modify’ the linked library\u003C\u002Fli\u003E\n\u003Cli\u003ECons: main contract ABI cannot be modified, data structures are fixed\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EAragonOS: Tiny kernel, upgradeable business logic on edges &#8211;&gt; apps\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Exploring the Ethereum Blockchain (Matthew Tan)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EEtherscan &#8212; Ethereum block explorer. 1m MAUs, 9b API calls\u002Fmo, launched 8\u002F2015\u003C\u002Fp\u003E\n\u003Cp\u003EEthereum blockchain. Genesis block &#8211; July 30th 2015\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E&gt;4.4m blocks, &gt;71m txns, &gt;37.5m “internal transactions” &#8212; message call that resulted in a value transfer, &gt;10k ERC20 token\u003C\u002Fli\u003E\n\u003Cli\u003EDevcon #1 11\u002F2015 &#8212; 8.5k txns\u002Fday.\u003C\u002Fli\u003E\n\u003Cli\u003EDevcon#2 9\u002F2016 46k txns\u002Fday\u003C\u002Fli\u003E\n\u003Cli\u003EDevcon #3 11\u002F2017 500k tx\u002Fday\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EChallenges in building an infrastructure level service\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EScalability, security, support, “just keeping up”, nodes management\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEthereum nodes management\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMultiple client implementations (Geth and Parity). Different feature sets + network robustness\u003C\u002Fli\u003E\n\u003Cli\u003ENode deployment strategies for public nodes:\n\u003Cul\u003E\n\u003Cli\u003EUse SSD drives\u003C\u002Fli\u003E\n\u003Cli\u003ECache settings\u003C\u002Fli\u003E\n\u003Cli\u003EMonitor node response\u003C\u002Fli\u003E\n\u003Cli\u003ELoad balancers with smaller multiple nodes\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EDeriving the “Ethereum user persona” with Google Analytics\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUS remains dominant user base.\u003C\u002Fli\u003E\n\u003Cli\u003EChina #2 in 2017\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]The Raiden Network (Augusto Hack, Jannik Luhn, Loredana Cirstea)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EScalability solution for Ethereum, up to 1m tx\u002Fs\u003C\u002Fp\u003E\n\u003Cp\u003ECurrently only on Linux (MacOS coming)\u003C\u002Fp\u003E\n\u003Cp\u003ENot an Ethereum node, separate process communicating with Ethereum node, also need Ethereum node running on machine\u003C\u002Fp\u003E\n\u003Cp\u003EAPI (for building applications on top of Raiden)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPUT \u002Fapi\u002F1\u002Fconnections\u002F&lt;token&gt;\n\u003Cul\u003E\n\u003Cli\u003EAutomatic channel management\u003C\u002Fli\u003E\n\u003Cli\u003ETell Raiden how much funds to use on channel\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EPUT \u002Fapi\u002F1\u002Fchannels\n\u003Cul\u003E\n\u003Cli\u003EManually opens a new channel. Manage it on your own\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EPATCH \u002Fapi\u002F1\u002Fchannels\u002F&lt;address&gt;\n\u003Cul\u003E\n\u003Cli\u003EChange the channel state. deposit\u002Fclose\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EPOST \u002Fapi\u002F1\u002Ftransfers\u002F&lt;token&gt;\u002F&lt;target&gt; (once connected to network)\n\u003Cul\u003E\n\u003Cli\u003EMake transfers, use identifiers\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EGET \u002Fapi\u002F1\u002Fevents\u002Ftokens\u002F&lt;address&gt;\n\u003Cul\u003E\n\u003Cli\u003EPolling for EventTransferReceivedSuccess, EventTransferSentSuccess, EventTransferSentFailed\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMicroraiden\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ERobust off chain payment channel framework\u003C\u002Fli\u003E\n\u003Cli\u003EEasy to use off the shelf, unidirectional, many to one, so don’t need to think about routing issues or fees for people who have routing channels open\u003C\u002Fli\u003E\n\u003Cli\u003EFast and free off chain\u003C\u002Fli\u003E\n\u003Cli\u003EAvailable now on Kovan testate, available on main net by end of month\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMicroraiden applications\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EPaywalled content &#8212; pay per use, pay per view for static resources or streamed videos\u003C\u002Fli\u003E\n\u003Cli\u003EM2M services: utilities, data storage, data usage, API usage. Scheduled API queries, token field robots\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EHow does it work? off chain payments\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESender and receiver keep copies of channel data, block number, current balance. Receiver has last balance proof received from sender. Message signed by the sender container balance, address, block number and receiver’s address\u003C\u002Fli\u003E\n\u003Cli\u003EERC223 option of using less gas\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Towards a Permanent ENS Registrar (Nick Johnson)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EEthereum name service\u003C\u002Fp\u003E\n\u003Cp\u003ELaunched on May 4\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ETo date: 180,822 names auctioned, 168k ETH deposited\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EDispute resolution not initially built in. Decided to build in as a separate layer, so can implement blacklists\u003C\u002Fp\u003E\n\u003Cp\u003EPermanent registrar design &#8212; differing costs of capital\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUser &#8212; 1 ETH (total cost for indefinite use), Investor 5%\u002Fyear, Speculator 0\u003C\u002Fli\u003E\n\u003Cli\u003EConclusion: transition to rent based model &#8212; 1 ETH \u002F year, equalizes cost for everyone\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ERolling auctions &#8212; no more ‘open auction’, any name can be bid on at any time. Makes guessing the name a user is bidding on impossible. 48 hour bid period, 48 hour reveal\u003C\u002Fp\u003E\n\u003Cp\u003EDNSSEC Oracle &#8212; user proves to oracle; for any records it doesn’t know about it contains the record and a signature. Claim with text records to registrar, registrar queries oracle, oracle responds with answer. Registrar sends setSubnodeOwner to ENS\u003C\u002Fp\u003E\n\u003Cp\u003EStarting with .xyz domains, 3\u002F4 of domains compatible with algorithm\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Intro to Solidity (Hudson Jameson)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EHigh-level language for Ethereum contracts\u003C\u002Fp\u003E\n\u003Cp\u003EIt looks like Javascript (with types)\u003C\u002Fp\u003E\n\u003Cp\u003EContracts look like classes\u003C\u002Fp\u003E\n\u003Cp\u003ECode is compiled to the EVM, once deployed to the EVM, code is completely isolated and cannot reach outside of the EVM. It’s deployed and run on every node in the Ethereum network.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECannot have outside sources of information (like sports scores) unless you explicitly include it\u003C\u002Fli\u003E\n\u003Cli\u003ETrusted data feeds \u002F oracles\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEasy to write contracts, hard to make sure they are secure\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EContracts standards are beginning to emerge\u003C\u002Fli\u003E\n\u003Cli\u003EERC20 &#8212; interface for tokens to interoperate with others on Ethereum blockchain\u003C\u002Fli\u003E\n\u003Cli\u003EConsensys has smart contract best practices writeup\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETools:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMetamask (online plugin for browser. Acts as a bridge between browser and Ethereum network)\u003C\u002Fli\u003E\n\u003Cli\u003ERemix (online Solidity IDE &#8212; debugging, static analysis, call functions, etc)\u003C\u002Fli\u003E\n\u003Cli\u003EEtherscan (block explorer)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMore tools:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESolgraph (contracts talking to other contracts is hard to. tells you inputs and outputs of contract), solidity repl, Solium (linter for Solidity), evmdis (EVM disassembler), Truffle, Populus (Dapp framework), Embark, Ethereum package management\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EQuestions:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EWhat do you think is the biggest problem of Solidity?\n\u003Cul\u003E\n\u003Cli\u003EIt is a young language, and like all young languages, it’s missing a lot of features \u002F advanced tools that programmers are used to\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EQuestions about safety of Solidity, money that’s been lost. It’s an experiment and evolving\u003C\u002Fli\u003E\n\u003Cli\u003EWhat upcoming feature are you most excited about?\n\u003Cul\u003E\n\u003Cli\u003ENew features to get cryptographic primitives into EVM &#8212; zkSNARKS\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]Enigma: Building an Ethereum-assisted Decentralized Data Marketplace (Guy Zyskind)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ELaunched from MIT in 2015\u003C\u002Fp\u003E\n\u003Cp\u003EDecentralized computation platform with better privacy\u003C\u002Fp\u003E\n\u003Cp\u003EData is everywhere &#8212; the challenge is building a marketplace where data providers create supply and data consumers create demand.\u003C\u002Fp\u003E\n\u003Cp\u003ECatalyst &#8212; the first App on the Enigma protocol\u003C\u002Fp\u003E\n\u003Cp\u003EData marketplace protocol\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EEthereum smart contracts handle dataset registration, and remuneration\u003C\u002Fli\u003E\n\u003Cli\u003ERouting, data storage and processing is done completely off chain\u003C\u002Fli\u003E\n\u003Cli\u003EOnly occasional payments and disputes need to touch the chain\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ERegistration (off chain)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EWhen a data provider wants to register a data set, they send a request to the off chain network with metadata where the dataset lives\u003C\u002Fli\u003E\n\u003Cli\u003EData provider deposits ENG to serve as collateral\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EIncentives and data discovery\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EValue of data &#8212; data sets are denominated with ENG tokens\u003C\u002Fli\u003E\n\u003Cli\u003EWork &#8212; storage and computational work is rewarded through fees paid from the earning data curator to the workers\u003C\u002Fli\u003E\n\u003Cli\u003EDiscovery and ranking &#8212; the system associates rank of a dataset with the stake put on it (rank &lt;&lt;- subscribers x price + C x deposit\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EHeavy lifting happens off chain. Global consensus is expensive\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EShard data into logical segments\u003C\u002Fli\u003E\n\u003Cli\u003EFor each segment, select a random node (or a quorum) to store the data and run subsequent computations over it\n\u003Cul\u003E\n\u003Cli\u003EUsing pseudo-random verifiable secret sharing\u003C\u002Fli\u003E\n\u003Cli\u003EUsing threshold signatures (e.g. DFINITY)\u003C\u002Fli\u003E\n\u003Cli\u003EPublic random becaons\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EOutsourcing private computation\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMethods: blockchain, partial encryption, FHE, zkSNARKS, sMPC, Secure Hardware\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMulti-party computation\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EIn the real world, we can’t rely on one trusted machine\u003C\u002Fli\u003E\n\u003Cli\u003EMPC shows that for at most t&lt;n bad actors, data can remain confidential even in use, and the result is correct\u003C\u002Fli\u003E\n\u003Cli\u003Eg. Multiplication needs computation between the nodes\u003C\u002Fli\u003E\n\u003Cli\u003EWith addition and multiplication, we can securely store\u002Fcompute any circuit &#8211;&gt; we can construct a secure VM\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed][zk] &#8212; Introduction to zkSNARKs (Christian Reitwiessner)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EWhy zkSNARKs and why they are important: blockchains scale better if they only verify, not compute.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EzkSNARKs: verification magnitudes faster than computation of zkSNARKs\u003C\u002Fli\u003E\n\u003Cli\u003EIn blockchains everything is public &#8211;&gt; zkSNARKs are “zero knowledge”\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E2 parties: prover (tx sender), verifier (blockchain)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EProver wants to convince verifier that some statement is true without revealing why it is true (zero knowledge)\n\u003Cul\u003E\n\u003Cli\u003EGiven message is valid transaction\u003C\u002Fli\u003E\n\u003Cli\u003EThere is some w such that f(x,w) = y for fixed f\u003C\u002Fli\u003E\n\u003Cli\u003Eg. Mini Sudoku (4&#215;4) board is solvable &#8212; Size of puzzle is not relevant. Need: table, paper, opaque tape, dice\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EProver has secret solution to Mini Sudoku puzzle\n\u003Cul\u003E\n\u003Cli\u003EStep 1: Prover shuffles numbers, replace each number with a different one (with dice). Shuffled solution is still a solution, but initially given numbers are different\u003C\u002Fli\u003E\n\u003Cli\u003EStep 2: Prover writes shuffled puzzle on a piece of paper and covers each number with piece of tape. Prover puts paper on table for verifier to see\u003C\u002Fli\u003E\n\u003Cli\u003EStep 3: Verifier chooses one of: Reveal certain row, column, sub square, or reveal initially filled cells and shuffling\u003C\u002Fli\u003E\n\u003Cli\u003EStep 4: Prover removes tape on cells\u003C\u002Fli\u003E\n\u003Cli\u003EStep 5: Verifier checks numbers and shuffling against initially filled cells\u003C\u002Fli\u003E\n\u003Cli\u003EProver did not reveal any private information apart from the shuffling chosen\u003C\u002Fli\u003E\n\u003Cli\u003ERepeat steps 1-5 until Verifier is convinced\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ERound 2, covered shuffled solution\n\u003Cul\u003E\n\u003Cli\u003EStill, prover is not able to cheat (up to certain probability &#8212; because verifier does not look at complete solution), because of commitment to solution (paper and tape). Probability of cheating decreases exponentially with number of rounds\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EStill some problems with Mini Sudoku algorithm:\n\u003Cul\u003E\n\u003Cli\u003EDoes not work for generic computations. But can take an arbitrary problem in computation and transform it into the Sudoku problem (reduction). Solved problem. But lots of engineering work to make it efficient\u003C\u002Fli\u003E\n\u003Cli\u003EMany rounds of interactions &#8212; Especially problematic for blockchain. Reason: single error can be hidden in any cell (why you need many rounds). Motivation: find a game where a single error can be found in one round. Can be done with polynomials\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EUse polynomials to make error visible almost everywhere\n\u003Cul\u003E\n\u003Cli\u003EChanging a coefficient makes a polynomial function at every point\u003C\u002Fli\u003E\n\u003Cli\u003ETheorem: two different polynomials of degree up to n can coincide in at most n points. n is tiny compared to the number of possible evaluation point\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EHow do SNARKs work?\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMap computation to polynomial equations. Prover knows a (secret only known to prover) w such that for all x: a(x) * w(x) = b(x) * c(x)\u003C\u002Fli\u003E\n\u003Cli\u003EVerifier chooses secret evaluation point\u003C\u002Fli\u003E\n\u003Cli\u003EProver evaluates polynomials…using homomorphic encryption\u003C\u002Fli\u003E\n\u003Cli\u003EVerifier checks equality\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EHomomorphic encryption is computation on encrypted data (known function \u002F program, perform computation on inputs, result in encrypted output)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EArbitrary computation not yet practical, but “pairings” can do arbitrary sums and a single multiplication at the end. a(x) * w(x) = b(x) * c(x) works if done separately for each power of x. Allows prover to evaluate polynomial at encrypted point and check if outputs are equal\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETrusted Setup\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EReduced to 2-round protocol, but would like no interaction\u003C\u002Fli\u003E\n\u003Cli\u003ERandomly generate x, encrypt to [x], send [x] to prover, evaluate polynomial, check equality\u003C\u002Fli\u003E\n\u003Cli\u003EEquality can be checked on encrypted form\u003C\u002Fli\u003E\n\u003Cli\u003ENot required to know x, only [x] , and can be reused\u003C\u002Fli\u003E\n\u003Cli\u003ETrusted setup: generate [x] in a distributed process a la [x] = [a] + [b] + [c] + [d] (= [a + b + c + d]). Distributed to improve security &#8212; need all secretes to be published to break encryption. x = a + b + c + d can only be created if a, b, c, d are known\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EZero knowledge is achieved by adding the same random number to both sides\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EInteresting thing in SNARKs is they allow speed up in verification\u003C\u002Fli\u003E\n\u003Cli\u003EZero knowledge is a triviality to add to protocol, comes for free\u003C\u002Fli\u003E\n\u003Cli\u003EMost of the work in the protocol is in the speedup\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETiny proof: 8 group elements\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EBecause random number is unencrypted, prover cannot cheat, so you achieve zero knowledge\u003C\u002Fli\u003E\n\u003Cli\u003EVerification: 5 pairing checks plus some elliptic curve arithmetic\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E [toc-embed][zk] &#8212; Democratizing zk-SNARKs: Improved setup, performance and security (Sean Bowe)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EzkSNARKs in production software. zcash brought zkSNARKs to production last year. Very expensive &#8212; only people to production so far.\u003C\u002Fp\u003E\n\u003Cp\u003EEngineering intensive, auditing is complex\u003C\u002Fp\u003E\n\u003Cp\u003EzkSNARK challenges: curve security, performance, trust\u003C\u002Fp\u003E\n\u003Cp\u003EBN128\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EOriginally targeted 128-bit security, now closer to 110 bits\u003C\u002Fli\u003E\n\u003Cli\u003EImplemented in zcash and Ethereum\u003C\u002Fli\u003E\n\u003Cli\u003ENot a very rigid construction; not particularly optimized for pairing performance\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EDesigning a new curve BLS12-381\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EMoving to next version of zcash\u003C\u002Fli\u003E\n\u003Cli\u003ETargets closer to 128-bit security with minimal performance overhead\u003C\u002Fli\u003E\n\u003Cli\u003EImplemented in Rust library called ‘pairing’\u003C\u002Fli\u003E\n\u003Cli\u003EVery rigid and optimized construction with extensive review; appears in a new paper (BGM17)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPerformance improvements &#8212; newer ones use less than 8 group elements\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EProving system performance\u003C\u002Fli\u003E\n\u003Cli\u003EStreamed proving: Public parameters of zkSNARKs are loaded from disk as computation is performed when constructing a proof. Led to 100x memory usage during proving\u003C\u002Fli\u003E\n\u003Cli\u003EJubjub curve\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EProving systems\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EState of the art proving systems are based on Jens Groth’s 2016 pairing-based SNARK &#8212; 3 group elements\u003C\u002Fli\u003E\n\u003Cli\u003EImproved papers followed &#8212; subversion resistant SNARKs, snarky signatures\u003C\u002Fli\u003E\n\u003Cli\u003EGroth’s original construction performs the best. Clear path toward non-malleability and reduced assumptions, without added proving costs\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EJubjub curve\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESpecial “embedded” elliptic curve optimized for use in zkSNARKs built on top of BLS12-381\u003C\u002Fli\u003E\n\u003Cli\u003EConstruct efficient cryptographic primitives: Collision-resistant hash functions, Commitment schemes, Authentication\u003C\u002Fli\u003E\n\u003Cli\u003EUse SHA256 for everything in zcash, but not necessarily efficient. New crypto primitives are algebraic primitives so more efficient (5-10x)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETrusted setup\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EBiggest complaint about zkSNARKs\u003C\u002Fli\u003E\n\u003Cli\u003ESTARKs are trustless (and quantum resistant) but still on academic horizon. Still large proofs. So probably deal with SNARKs for next few years\u003C\u002Fli\u003E\n\u003Cli\u003EZcash and other projects need to perform these setups and making them trustworthy is difficult\u003C\u002Fli\u003E\n\u003Cli\u003EWe have a new paper that addresses this problem for zkSNARKs today\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EMultiparty computation\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EzkSNARK parameters can be setup via multiparty computation\u003C\u002Fli\u003E\n\u003Cli\u003E6 people get together, only one participant needs to be honest (all have to be compromised to compromise the final result &#8212; construct false proofs)\u003C\u002Fli\u003E\n\u003Cli\u003EThe more participants the less likely all are compromised or secretly colluding\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EZcash’s original MPC\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECommitment round round robin across MPC group\u003C\u002Fli\u003E\n\u003Cli\u003EExpensive FFT\u003C\u002Fli\u003E\n\u003Cli\u003EThen 2 more random coefficient rounds\u003C\u002Fli\u003E\n\u003Cli\u003EDisadvantages:\n\u003Cul\u003E\n\u003Cli\u003ECouldn’t scale to large number of participants\u003C\u002Fli\u003E\n\u003Cli\u003ELess flexibility for each participant (software, hardware, OS)\u003C\u002Fli\u003E\n\u003Cli\u003ECoordination was difficult because participants had to be selected in advance, could not drop out\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ENew MPC just published\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EEliminates pre-commitment round, scales to an unbounded number of participants, much cheaper per circuit\u003C\u002Fli\u003E\n\u003Cli\u003EPhase 1 (Powers of Tau)\n\u003Cul\u003E\n\u003Cli\u003ECommunical ceremony for all zkSNARK circuits\u003C\u002Fli\u003E\n\u003Cli\u003EExpensive but scales to hundreds\u002Fthousands of participants\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EPhase 2\n\u003Cul\u003E\n\u003Cli\u003EStatement-specific zkSNARK MPC\u003C\u002Fli\u003E\n\u003Cli\u003EMuch cheaper\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed][zk] &#8212; Scalable, Transparent and Post-quantum Secure Computational Integrity, with Applications to Cryptocurrencies (Eli Ben-Sasson)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EInteractive Oracle Proofs (IOP) &#8212; Mathematically clean model but unrealistic\u003C\u002Fp\u003E\n\u003Cp\u003EScalable Transparent IOP of Knowledge (STIK) &#8212; IOP with near optimal complexity, Probably sound, no crypto but still unrealistic\u003C\u002Fp\u003E\n\u003Cp\u003EScalable Transparent Argument of Knowledge (STARK)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ERealization of STIK\u003C\u002Fli\u003E\n\u003Cli\u003EZK optional (doubles prover time)\u003C\u002Fli\u003E\n\u003Cli\u003Erequires crypto primitives\u002Fassumptions\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EBob (Prover) wishes to prove to Alice (Verifier) in ZK:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EI know private input w, such that running computation C on w and public input x reaches output y in T steps\u003C\u002Fli\u003E\n\u003Cli\u003Eg. zcash JoinSplit, proof of solvency, smart contract\u003C\u002Fli\u003E\n\u003Cli\u003EIOP &#8212; Informal\n\u003Cul\u003E\n\u003Cli\u003EMulti-round interactive protocol between P and V\u003C\u002Fli\u003E\n\u003Cli\u003EP sends USB, V sends randomness, etc\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EUnrealistic model but mathematically clean &#8212; Every language in model (NEXP) has a fully scalable, transparent, IOP of knowledge with perfect ZK\n\u003Cul\u003E\n\u003Cli\u003EDouble scalable &#8212; prover time is quasi-linear Tlog^O(1)(T)\n\u003Cul\u003E\n\u003Cli\u003EVerifier time is exponentially fast log^O(1)(T)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ETransparent: V only uses public randomness\u003C\u002Fli\u003E\n\u003Cli\u003EIOP of knowledge &#8212; w can be extracted from USB sticks\u003C\u002Fli\u003E\n\u003Cli\u003EPerfect ZK: strongest form of ZK &#8212; Assumes V limits # of queries\u003C\u002Fli\u003E\n\u003Cli\u003ELast two points contradictory, can compromise ZK\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESTARK (Scalable transparent argument of knowledge)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECrypto based realizations of STIKS are called STARKs: two options\n\u003Cul\u003E\n\u003Cli\u003EInteractive (iSTARK): P sends root of Merkle hash instead of USB, V responds with public randomness (Kilian92)\u003C\u002Fli\u003E\n\u003Cli\u003ENoninteractive (nSTARK): P uses root of Merkle hash as V’s randomness (Mic00,BCS16)\u003C\u002Fli\u003E\n\u003Cli\u003EOpen Research Question: are nSTARKs invariably SNARKs?\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EFirst STARK without ZK: called SCI presented at Eurocrypt 2016\u003C\u002Fli\u003E\n\u003Cli\u003EFirst zkSTARK [BBHR17]\n\u003Cul\u003E\n\u003Cli\u003EPoC code ready, paper not yet\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPractice: zkSTARK benchmark &#8212; forensic DNA profile search\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EFBI has DNA profile DB D\u003C\u002Fli\u003E\n\u003Cli\u003EKnows hash(D) &#8212; Davies-Meyer- AES160\u003C\u002Fli\u003E\n\u003Cli\u003EFBI reports Andy’s DNA profile match result, along with zkSTARK proof\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EArithmetization: use of low-degree polynomials to argue about computation\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EGoes back to Godel’s Incompleteness theorem (1930s)\u003C\u002Fli\u003E\n\u003Cli\u003EUsed by Razborov to prove circuit flower bounds (1980s)\u003C\u002Fli\u003E\n\u003Cli\u003EModified by Baibai and Fortnow to interactive proof systems\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPolynomials P(X) = Sigma(i&lt;=d)a_i*X^i, degree (d) is maximal non-zero term\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EFunction f : S &#8211;&gt; F is called “degree d” if it is evaluation of degree d polynomial: for all x_0 in S, f(x) = P(X)\u003C\u002Fli\u003E\n\u003Cli\u003EFact: two distinct polynomials of degree d intersect at &lt;=d points (e.g. two distinct lines intersect at &lt;= 1 point)\u003C\u002Fli\u003E\n\u003Cli\u003ESo: two distinct functions of degree d evaluated at 100 * d points are 99%-far in relative hamming distance\u003C\u002Fli\u003E\n\u003Cli\u003ECorollary: space of low degree functions forms a linear error correcting code, called the Reed-Soloman (RS) code\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESuccinct computational integrity and privacy\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EGiven (i) program C, (ii) input x_in, (iii) time bound T. Bob claims C(x_in, x_aux) = x_out after T steps, (a_aux is auxiliary private input).\u003C\u002Fli\u003E\n\u003Cli\u003EThree goals:\n\u003Cul\u003E\n\u003Cli\u003EIntegrity: Can we trust Bob’s output? Can he prove it’s correct?\u003C\u002Fli\u003E\n\u003Cli\u003EPrivacy: Will the proof leak Bob’s x_aux (medical \u002F financial info)?\u003C\u002Fli\u003E\n\u003Cli\u003ESuccinctness: Can the proof be verified in time O(T)?\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EBob claim 1: “have list with 10^6 integers, all are in {1,…,10}\n\u003Cul\u003E\n\u003Cli\u003EProblem: Can alice check this with 2 queries to file and 99% certainty? No, has to check all million points.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EBob claim 2: “I have encoded the list as a degree-10^6 function f (low-degree extension), evaluated on 10^9 points?\n\u003Cul\u003E\n\u003Cli\u003EProblem: Can Alice check now with 2 queries to f and 99% certainty? No, not enough information because still need to read 10^6 points\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EBob: “What more do you need to be convinced claim 2 is true?”\n\u003Cul\u003E\n\u003Cli\u003EAlice: “evaluate one more polynomial g of degree 10^7-10^6, then query 1 random point in each of f and g, based on answers will verify claim 2 is true with 99% certainty\u003C\u002Fli\u003E\n\u003Cli\u003ELet C(X) = (X-1)(X-2)…(X-10) be the constrained polynomial of degree 10 that vanishes exactly on 1,…10\u003C\u002Fli\u003E\n\u003Cli\u003ELet D(X) be the domain polynomial of degree 10^6 that vanishes on the domain of interest {1…10^6}\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EAlice’s test:\n\u003Cul\u003E\n\u003Cli\u003EPick random x_0 in {1…10^9}\u003C\u002Fli\u003E\n\u003Cli\u003EQuery f(x_0) and g(x_0), let alpha and beta be answers\u003C\u002Fli\u003E\n\u003Cli\u003EAcceptable Claim 2 as true iff\u003C\u002Fli\u003E\n\u003Cli\u003EC(alpha) = beta * D(x_0)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ECompleteness &#8212; suppose Bob honest\n\u003Cul\u003E\n\u003Cli\u003ELet P(X) be the interpolant of f\u003C\u002Fli\u003E\n\u003Cli\u003EThen C(P(X)) (new polynomial) vanishes on x_0 in {1…10^6}\u003C\u002Fli\u003E\n\u003Cli\u003EFact: Q(X) vanishes on x_0 iff some other polynomial Q’(X) (one degree less) such that Q(X) = (X &#8211; x_0)(Q’(X)\u003C\u002Fli\u003E\n\u003Cli\u003ECorollary: Q(X) = C(P(X)) vanishes on domain {1…10^6} only if there exists Q’(X) such that degree of Q’ = degree(Q) &#8211; deg(D) &lt;= 10^7 &#8211; 10^6\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003ESoundness &#8212; suppose Bob cheats, say f(1) = 11\n\u003Cul\u003E\n\u003Cli\u003ELet P(X) be the interpolant of f\u003C\u002Fli\u003E\n\u003Cli\u003EThen C(P(X)) does not vanish on all of x_o in {1…10^6}\u003C\u002Fli\u003E\n\u003Cli\u003EFor any polynomial Q’(X) the product Q’(X)D(X) does vanish on all x_0 in {1…10^6} because D(x_0) = 0\u003C\u002Fli\u003E\n\u003Cli\u003ESo for any Q’(X) of degree 10^7-10^6 the polynomial Q’(X)D(X) differs from C(P(x)) of degree 10^7\u003C\u002Fli\u003E\n\u003Cli\u003EThe evaluations of C({(X)) and Q’(X)D(X) disagree on 10^9-10^7 points out of 10^9 points\u003C\u002Fli\u003E\n\u003Cli\u003ESo for random x_0, test fails with probability 99%\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]EtherDelta: Off-chain Order Book with On-chain Settlement (Zack Coburn)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003ESend funds into a smart contract\u003C\u002Fp\u003E\n\u003Cp\u003EOff-chain orderbook\u003C\u002Fp\u003E\n\u003Cp\u003EOrder parameters tightly packed, hashed, signed\u003C\u002Fp\u003E\n\u003Cp\u003EOrder has an expiry block number\u003C\u002Fp\u003E\n\u003Cp\u003ETo trade, submit order and signature\u003C\u002Fp\u003E\n\u003Cp\u003ECost &#8212; placing an order is free (no gas, no trading fee); because not actually making a transaction\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EOther operations involves a gas fee\u003C\u002Fli\u003E\n\u003Cli\u003ETaking liquidity involves a trading fee (Etherdelta’s business model)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E90k addresses that have traded with smart contracts\u003C\u002Fp\u003E\n\u003Cp\u003E30k DAUs, 3.4m transactions\u003C\u002Fp\u003E\n\u003Ch5\u003E\u003Cstrong\u003E[toc-embed]0x: An Open protocol for Trustless, Low Friction Exchange of ERC20 Tokens (Will Warren)\u003C\u002Fstrong\u003E\u003C\u002Fh5\u003E\n\u003Cp\u003EBackground and timeline &#8212; started work over a year ago, released white paper in Feb\u003C\u002Fp\u003E\n\u003Cp\u003EMotivation: the world’s value is becoming tokenized (currency, traditional assets, digital goods)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EValue will be tokenized and moved into a financial market like the Ethereum blockchain\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EExchange ecosystem &#8211; fractured\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EEach app must bootstrap liquidity\u003C\u002Fli\u003E\n\u003Cli\u003EEach app uses custom smart contracts &#8211;&gt; no interoperability\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E&#8230;Should be structured as modular building blocks, and open standards win in the long run\u003C\u002Fp\u003E\n\u003Cp\u003EExisting work:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EOn chain order books are expensive, bloat the blockchain, high latency\u003C\u002Fli\u003E\n\u003Cli\u003EAutomated Market Makers &#8212; low throughput, front running, gameable\u003C\u002Fli\u003E\n\u003Cli\u003EState channels &#8212; 3+ txs, security deposit, challenge period\n\u003Cul\u003E\n\u003Cli\u003EOff blockchain, aggregate series of state changes and resolve on blockchain\u003C\u002Fli\u003E\n\u003Cli\u003EGreat for day trading, but has friction for one time use &#8212; have to move on a channel, put down security deposit (makes sure everyone is behaving honestly), and a challenge period when moving off. 2When you move onto a state channel you isolate yourself from interesting smart contracts\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EOff-chain order relay, on-chain settlement\n\u003Cul\u003E\n\u003Cli\u003EStandard order schema + smart contract system for settlement\u003C\u002Fli\u003E\n\u003Cli\u003EArbitrary transport layer and message passing semantics\u003C\u002Fli\u003E\n\u003Cli\u003EAnyone can relay orders and charge trading fees &#8212; keep 100% of fees the charge\u003C\u002Fli\u003E\n\u003Cli\u003ERelayer strategies &#8212; Can use an open order book strategy (like EtherDelta), can have a centralized matching strategy, someone acts as a reserve manager and bid\u002Fasks for trading pair\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EWhy create an open standard?\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECan create really great developer tools &#8212; lower barrier to entry for developers and others who want to create decentralized exchanges &#8212; highly competitive one fees and UX, diversity that have different niches\u003C\u002Fli\u003E\n\u003Cli\u003EIf every decentralized exchange talks to each other, there’s network effects &#8212; they talk to each other and benefit each other\u003C\u002Fli\u003E\n\u003Cli\u003Edapps can be customers of relayers like Kin Alpha (9\u002F25)\n\u003Cul\u003E\n\u003Cli\u003ECreated by single developer in spare time over few weeks\u003C\u002Fli\u003E\n\u003Cli\u003ERadar Relay (10\u002F10\u002F2017)\u003C\u002Fli\u003E\n\u003Cli\u003EParadex (launch Q4 2017) &#8212; centralized matching strategy\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EExchange module for the EVM\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E0x allows smart contracts to natively execute trades in a single line of Solidity: exchange.fill(…order, value)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EGovernance\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E0x is an open system with a variety of stakeholders, all of which benefit from network effects\u003C\u002Fli\u003E\n\u003Cli\u003EOpen system must remain future proof &#8212; Token voting for future upgrades to protocol\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EDecentralized application stack\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUnbundling -&gt; specialized networks with distinct incentives and tokens\u003C\u002Fli\u003E\n\u003Cli\u003EExternal Data &#8212; oracle, inject real-world data into blockchain | Augur\u003C\u002Fli\u003E\n\u003Cli\u003EComputation &#8212; scalable computation. Not feasible in EVM | TrueBit\u003C\u002Fli\u003E\n\u003Cli\u003EFile Storage &#8212; scalable data storage. Too expensive in EVM | Filecoin, Swarm\u003C\u002Fli\u003E\n\u003Cli\u003EDispatcher &#8212; Snow\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EExample App stack &#8212; 1. retrieve data, 2. computation. 3 injection result C(D). 4. process result P(C(D))\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EToken abstraction: As end user of decentralized application, instead of holding a variety of tokens, can hold onto tokenized fiat. Hold and pass into 0x orders &#8211;&gt; dApp will exchange with 0x\u003C\u002Fli\u003E\n\u003Cli\u003Ev2\n\u003Cul\u003E\n\u003Cli\u003EOrder generation by smart contracts\u003C\u002Fli\u003E\n\u003Cli\u003EAtomic order matching\u003C\u002Fli\u003E\n\u003Cli\u003EFee splitting between relayers\u003C\u002Fli\u003E\n\u003Cli\u003EProtocol optimizations\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the enduring accuracy of the information or its appropriateness for a given situation.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments and certain publicly traded cryptocurrencies\u002F digital assets for which the issuer has not provided permission for a16z to disclose publicly) is available at \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F\u003C\u002Fa\u003E.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fa\u003E for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n"}],related_posts:N,post_redirector:h,format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d}},tags:[{term_id:i,name:r,slug:s,term_group:b,term_taxonomy_id:i,taxonomy:f,description:a,parent:b,count:t,filter:d},{term_id:dM,name:ew,slug:ex,term_group:b,term_taxonomy_id:dM,taxonomy:f,description:a,parent:b,count:ae,filter:d}],post_thumbnail:a,post_thumbnail_small:a,post_images:[],authors:[{ID:"2121",display_name:"Michael Wee",first_name:"Michael",last_name:"Wee",user_login:fE,user_email:a,linked_account:a,website:a,description:"\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fmichael-wee-a2089519\"\u003ELinkedIn\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n",user_nicename:fE,type:A,nickname:a}],meta_desc:a,seo:{title_tag:k$,meta_description:a,canonical:la,robots:{index:O,follow:P,"max-snippet":Q,"max-image-preview":R,"max-video-preview":S},open_graph_locale:T,open_graph_type:l,open_graph_title:k$,open_graph_description:"Editor&#8217;s Note: These notes, based on talks at the Ethereum Foundation&#8217;s third annual developer&#8217;s conference earlier this month, were shared internally over email, as part of our ongoing sharing of ideas and learning inside a16z. They&#8217;ve now been reposted here, unedited, as a resource for those interested in ethereum technology, research, development, and more. For more about... Read More",open_graph_url:la,open_graph_images:[],open_graph_site_name:U,estimated_reading_time_minutes:aJ,twitter_card:V,twitter_title:a,twitter_description:a,twitter_image:a,open_graph_article_published_time:"2017-11-24T00:00:00+00:00"},format:{term_id:j,name:v,slug:l,term_group:b,term_taxonomy_id:j,taxonomy:k,description:a,parent:b,count:w,filter:d},template:a,disclosure:h}],termFeaturedPosts:[]},"PostOneCol:0":{},"PostOneCol:1":{},"PostOneCol:2":{},"PostOneCol:3":{},"PostOneCol:4":{},"PostOneCol:5":{},"PostOneCol:6":{},"PostOneCol:7":{},"PostOneCol:8":{},"PostOneCol:9":{},"PostOneCol:10":{},"PostOneCol:11":{},"PostOneCol:12":{},"PostOneCol:13":{},"PostOneCol:14":{},"PostOneCol:15":{},"PostOneCol:16":{},"PostOneCol:17":{},"PostOneCol:18":{},"PostOneCol:19":{},"PostOneCol:20":{},"PostOneCol:21":{},"PostOneCol:22":{},"A16zFooter:0":{toggleDropdown:h,general_content:fF,footer_menu:fH,socials:fI,streamings:fJ,puzzle:h,puzzleEnabled:e,puzzleCode1:fN,puzzleCode2:fO}},mutations:[]}}("",0,1,"raw",true,"post_tag",null,false,1855,1882,"format","article","inherit","image","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-includes\u002Fimages\u002Fmedia\u002Fdefault.png","image\u002Fsvg+xml","svg+xml","Ethereum","ethereum",23,"open","articles",482,"0","videos","author","guest-author","category",1889,"research","29",1734,"publish",208,"video","podcast",2123,"post","paragraph","auto","index","follow","max-snippet:-1","max-image-preview:large","max-video-preview:-1","en_US","a16z crypto","summary_large_image","security",1800,1831,1732,1793,150,"consensus",1883,"valeria-nikolaenko","closed",12,1787,193,300,"17",1024,4,"cryptography","rollups","full",1842,"image\u002Fjpeg",17,1735,2122,253,1911,1791,1792,1790,"proof of stake","proof-of-stake","scaling &amp; throughput","scaling","danksharding","gas","podcasts",25,"tech trends","tech-trends",236,42,43,3,6,7,"noah-citron",65,"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fafriex.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Faxal.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fbello.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcapsule.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fchainpatrol.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FCollar_Wordmark_Yellow-Michael-Moulton.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Flogo_nooutline_width60-1-Elisabeth-Duijnstee.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fdiscove.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Fethxy-dark-J-Eth.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fid.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Ffancraze.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Ffine.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fflashbot.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fformless.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Ffrens.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Ffuul.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fgandalf.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fgoldfinch.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fiyk.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fkiki.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Fmagicblock_white-1-Andrea-Fortugno.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fmbd.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fmentaport.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fmir.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fnarval.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FNEBRA_logo_1-Shumo-Chu.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FFrame-27-Rishav-Mukherji.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FNodeKit-Logo-Atomic-Abyss-1-Nick-Preszler.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fnotion-finance.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FOpenTrade-logo-2-David-Sutter.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fphantom.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fpimlico.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FPlaymint_Logo_Export_Colour_Black-Luke-Gibson.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fprimev.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FRoux_logo_castiron-Lisa-Grimm.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fshield.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Fsiren_Logo_black-1-Andrei-Anisimov.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fskylab.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Ftransparent-Kaito-Yanai.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fspring.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fstackr.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fteller-1.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Flogo_black.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Ftriangle-labs.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Flogo-1-Michelle-Latzer.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fweb3analytics.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fzero-dev.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FzkSpin-Logo-Justin-Zhang.svg","2024-10-10 03:10:31","announcements",1868,1080,26,1925,1863,"nav_menu_item","data availability","data-availabililty","open source","open-source","The Merge series","the-merge-series","14",1200,630,756000,28,11,"code &amp; engineering","code-engineering",1841,369,"2024-10-10 03:10:30","economics","governance","helios","investments","pricing",247,"robert-hackett",60,"Robert","cap-valeria-nikolaenko","Valeria Nikolaenko Valeria Nikolaenko valeria-nikolaenko 1251 ","1251","Valeria Nikolaenko","Valeria","Nikolaenko","https:\u002F\u002Fvalerini.com\u002F%20","\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EValeria Nikolaenko is a Research Partner at a16z crypto, where she advises portfolio companies on research endeavors. Additionally, she works on research projects that focus on cryptography and blockchain security for the benefit of the web3 community. She has worked on topics such as long-range attacks in PoS consensus protocols, signature schemes, post-quantum security, and multi-party computation.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EPrior to joining a16z crypto, Valeria was a Research Scientist at the Diem blockchain. Before that she completed her PhD in Cryptography at Stanford University under advisorship of Professor Dan Boneh, and did a cycling expedition crossing the South America continent.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EValeria enjoys sailing, bike-touring and cross-country skiing.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n","ben-fisch","miranda-christ","joseph-bonneau",33,"dan-boneh",31,"ali-yahya","tim-roughgarden",8,"policy","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fblockus.png",428,1785,"page","post_type","Page","12","glossaries &amp; terminology","glossaries-terminology","15",1733,"decentralization","zero knowledge","zkps-zero-knowledge-proofs-systems-more","2024-08-28 07:31:42","2024-08-28 07:31:43","2024-08-28 07:31:44","2024-08-28 07:32:35","2024-08-28 07:32:36","2024-08-28 07:32:37","2024-08-28 07:32:38","2024-08-28 07:32:39","6",2,"1","custom","2024-10-10 10:10:31",1860,1866,40,359,24,1916,"Robert Hackett",1920,2073600,"13",766,90,235,1415,2093,1856,1779,939,501,1812,1910,1783,1828,2064,1822,1847,1845,1839,2012,2028,1816,1846,"company building","company-building",196,36,"afriex","axal","bello","blockus","image\u002Fpng","capsule","id","flashbot","gandalf","iyk","mbd","mentaport","mir","narval","primev","shield","skylab","spring","stackr","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcta-backgrtound.png",1312,623,"2024-10-10 10:10:30","auction design","auction-design","BFT","bfts-byzantine-fault-tolerance","community building","community-management","crypto basics","crypto-basics-explainers-primers-101","DeFi","defi","field notes","field-notes","founder stories","founder-stories","light clients","light-client","MPC (multi-party computation)","mpc-multi-party-computation","NFTs","nfts-non-fungible-tokens-digital-tokens","op-eds","op-ed-opinion-arguments","proposer-builder separation","proposer-builder-separation","SNARKs","snarks","VDFs","vdfs-verifiable-delay-functions","pranav-garimidi","How Ethereum might address short-term censorship, or acting on enshrined latency advantages using FOCIL or multi-proposer schemes","scott-walker","People commonly refer to Ethereum (ETH) ETPs as ETFs, but there's a big difference between the two that has major implications for crypto.","16","jesse-pollak","cap-noah-citron","Noah Citron Noah Citron noah-citron 1245 ",10,"1245","Noah Citron","Noah","Citron","wp_capabilities","administrator","Coinbase's Jesse Pollak, founder of Base, discusses \"layer 2” rollups, Ethereum scaling, EIP-4844, and more on web3 with a16z podcast.","joachim-neu","The first flexible consensus protocol that allows optimal safety--liveness tradeoffs for all clients simultaneously","luca-zanolini","Presenting RLMD-GHOST, a synchronous consensus protocol that ensures dynamic availability while maintaining safety during asynchrony","This workshop spans two 1.5 hr sessions and focuses on the economic challenges of shared sequencing.","On the impossibility of stateless blockchains",16,"Stateless blockchains - which would make it easier to run an Ethereum node - have long been a goal. New work shows they're impossible.","Ben Fisch (Yale and Espresso Systems) explains the basics of CAPE and shows how creators of digital assets may configure a viewing policy.","An explainer on data availability sampling and danksharding—relevant to Ethereum blockchain scaling—from the web3 with a16z crypto podcast.","Data availability sampling and danksharding: An overview and a proposal for improvements","Strategies for randomized leader election in consensus protocols, which aims to select who will determine the next block to be appended to the blockchain.","Introducing Helios, a Rust-based Ethereum light client that provides fully trustless access to Ethereum, without using a full node.","daejun-park","ERC4626 property tests for fuzzing and symbolic execution to help vault builders detect standard violations","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fproof_of_merge-phase-2.jpg","After The Merge, Ethereum is a far superior blockchain featuring greater energy efficiency, security, decentralization, and more.","tim-beiko","sonal-chokshi","Sonal","scott-kominers","We offer some guidance for builders from our vantage point of auction theory and mechanism design in practice — especially in the unique context of blockchains.","sam-ragsdale","We're open-sourcing code for a perpetual powers-of-tau trusted setup ceremony that generates cryptographic parameters, all run on-chain.","sreeram-kannan","daren-matsuoka","porter-smith","chris-dixon","michael-wee",{},"Enter email address",Array(5),Array(6),Array(7),"policy &amp; regulation",158,1801,"WTUVKUCXZLYAD\u003Cbr \u002F\u003EGGCMUGJX","AGO + TO = 404",11889,"2024-08-28 07:23:50",11891,"2024-08-28 07:24:22",11890,"2024-08-28 07:24:09",11892,"2024-08-28 07:24:41","png",400,11893,"2024-08-28 07:24:55",11894,"chainpatrol","2024-08-28 07:25:09",12010,"2024-09-03 23:22:08",12009,"2024-09-03 23:18:44",11895,"discove","2024-08-28 07:25:23",12011,"2024-09-03 23:23:25",11896,"2024-08-28 07:25:59",11897,"fancraze","2024-08-28 07:26:17",11899,"fine","2024-08-28 07:27:51",11900,"2024-08-28 07:28:30",11898,"formless","2024-08-28 07:26:37",11901,"frens","2024-08-28 07:28:57",11902,"fuul","2024-08-28 07:29:31",11903,"2024-08-28 07:29:48",11904,"2024-08-28 07:30:10",11906,"2024-08-28 07:30:35","kiki",11905,"2024-08-28 07:30:29",12012,"2024-09-03 23:28:51",11907,11908,11909,11910,12013,"2024-09-03 23:30:15",12014,"2024-09-03 23:31:13",12015,"2024-09-03 23:31:59",11911,"notion-finance",12016,"2024-09-03 23:33:28","phantom",11912,"pimlico",11913,12017,11879,11914,12018,11915,12019,"2024-09-03 23:36:41",11916,12020,"2024-09-03 23:37:29",11917,11918,"teller",11919,12021,"logo_black","2024-09-03 23:40:11",11920,"triangle-labs",12022,"2024-09-03 23:41:18",11921,"web3analytics",11922,"zero-dev",12023,"2024-09-03 23:42:11",11924,"cta-backgrtound","2024-08-28 07:35:56",4821,"2023-02-23 07:58:29","about",4822,"portfolio",3770,"posts","Custom Link",4823,6202,4820,"accelerator",10280,"crypto index",{},"airdrops","banking","bitcoin","compensation","composability","custody","cypherpunk","debanking","gaming","gov","history","infrastructure","lockups","metaverse","playbooks","privacy","programming","roundups","royalties","rulemaking","slashing","solana","stablecoins","tokens","voting","wallets","listicles","2024-11-11 12:07:46","2024-11-11 20:07:46","A look down Ethereum’s roadmap: The cases for FOCIL and multi-proposer schemes",179,"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fethereum-roadmap-focil-and-multi-proposers\u002F",267,34,"Scott","Why Ethereum ETPs (vs. ETFs) are so significant, & more FAQs - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Feth-etf-etp-faq\u002F","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FETH-FAQ_X-FB-2.jpg",2031,"cap-robert-hackett","Robert Hackett Robert Hackett robert-hackett 1357 ",41,"1357","Hackett","http:\u002F\u002Fwww.roberthackett.com","\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003ERobert Hackett is an Operating Partner and Head of Content and Editorial for a16z crypto, helping to build a media operation centered on web3. He writes, edits, and helps steer various projects.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\r\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EPrior to joining a16z crypto, Robert was a senior writer and tech editor at\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ffortune.com\u002Fauthor\u002Frobert-hackett\u002F\"\u003E\u003Cspan style=\"font-weight: 400\"\u003E Fortune\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400\"\u003E where he also chaired conferences and created\u003C\u002Fspan\u003E \u003Cspan style=\"font-weight: 400\"\u003Ethe first crypto-focused franchise at a mainstream publication. Before that, he worked at Nautilus Magazine, TED Conferences, and Johnson &amp; Johnson.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\r\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003ERobert has received national recognition for his work, including at the 2021 EPPY Awards, 2018 Larry Birger Young Business Journalist Awards, 2017 SABEW Best in Business Awards, and 2016 Gerald Loeb Awards. In 2016, he wrote one of the earliest mainstream magazine profiles of Vitalik Buterin, creator of Ethereum. Earlier, Robert attended Columbia Journalism School and before that, Cornell University, where he studied chemistry &amp; chemical biology and English with minors in history and science &amp; technology studies.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\r\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003ERobert lives with his wife in New York where he is always trying to learn new skills (mandarin), hone old ones (music-making), and keep others in check (gaming).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\r\n","$P$B2Y2KfDKiMwQVq1RuVvcnL4UJIjDKm\u002F","robert","rhackett@a16z.com","2023-02-08 20:57:16",15,"Layer 2, rollups, and building onchain (with Base) - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Fpodcast\u002Flayer-2-rollups-base-building-onchain-jesse-pollak\u002F","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F05\u002Fweb3_Episodes_1200x630FB_X_ep41.jpg","Understanding Dencun, the biggest upgrade to Ethereum since The Merge - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Funderstanding-dencun-upgrade-protodanksharding-surge-merge\u002F",1988,"Optimal flexible consensus and its application to Ethereum - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Fvideos\u002Foptimal-flexible-consensus-and-its-application-to-ethereum\u002F",1987,"Recent latest message driven GHOST - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Fvideos\u002Frecent-latest-message-driven-ghost\u002F","cap-ben-fisch","Ben Fisch   ben-fisch 1764 ","1764","Ben Fisch","Rollup Sequencer Economics: Open Questions - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Fvideos\u002Frollup-sequencer-economics-questions-2\u002F","2023-08-24 07:58:39","2023-08-24 14:58:39","cap-miranda-christ","Miranda Christ   miranda-christ 1088 ","cap-joseph-bonneau","Joseph Bonneau Joseph Bonneau joseph-bonneau 1233 ","1088","Miranda Christ","1233","Joseph Bonneau","Joseph","Bonneau","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fon-the-impossibility-of-stateless-blockchains\u002F","Configurable Asset Privacy & Proof-Carrying Disclosures | a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Fvideos\u002Fconfigurable-asset-privacy-and-proof-carrying-disclosures\u002F","Of data availability & danksharding","cap-dan-boneh","Dan Boneh Dan Boneh dan-boneh 2413 ","2413","Dan Boneh","Dan","Boneh","\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fcrypto.stanford.edu\u002F~dabo\u002F\" target=\"_blank\" rel=\"noopener\"\u003EApplied Crypto Group at Stanford University\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fseclab.stanford.edu\u002F\" target=\"_blank\" rel=\"noopener\"\u003ECo-director of Stanford Computer Security Lab\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fonline.stanford.edu\u002Finstructors\u002Fdan-boneh\" target=\"_blank\" rel=\"noopener\"\u003EProfessor of Computer Science and Electrical Engineering\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.linkedin.com\u002Fpub\u002Fdan-boneh\u002F20\u002F990\u002F8b5\" target=\"_blank\" rel=\"noopener\"\u003ELinkedIn\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n","Of data availability & danksharding - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Fpodcast\u002Fdata-availability-danksharding-web3-with-a16z-podcast\u002F","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fan-overview-of-danksharding-and-a-proposal-for-improvement-of-das\u002F","2022-11-30 00:00:00","Leader Election from Randomness Beacons - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fleader-election-from-randomness-beacons-and-other-strategies\u002F",1166400,"2022-11-07 00:00:00","\u003Cp\u003EOne of the main reasons we use blockchains is trustlessness. This property promises to allow us self-sovereign access to our wealth and data. For the most part, blockchains like Ethereum have delivered on this promise — our assets are truly ours.\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, there are concessions we&#8217;ve made for the sake of convenience. One such area is in our use of centralized RPC (remote procedure call) servers. Users typically access Ethereum through centralized providers like Alchemy. These companies run high-performance nodes on cloud servers so that others can easily access chain data. When a wallet queries its token balances or checks whether a pending transaction has been included in a block, it almost always does so through one of these centralized providers.\u003C\u002Fp\u003E\n\u003Cp\u003EThe trouble with the existing system is that users need to trust the providers, and there is no way to verify the correctness of their queries.\u003C\u002Fp\u003E\n\u003Cp\u003EEnter \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fhelios\"\u003EHelios\u003C\u002Fa\u003E, a Rust-based Ethereum light client we developed that provides fully trustless access to Ethereum. Helios — which uses Ethereum’s light client protocol, made possible by the \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fethereum-the-merge-pos-security-decentralization-process-community-people\"\u003Erecent switch\u003C\u002Fa\u003E to \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fproof-of-stake-blockchain-design-consensus-sybil-long-range-attacks-more\"\u003Eproof of stake\u003C\u002Fa\u003E — converts data from an untrusted centralized RPC provider into a verifiably safe, local RPC. Helios works together with centralized RPCs to make it possible to verify their authenticity without running a full node.\u003C\u002Fp\u003E\n\u003Cp\u003EThe tradeoff between portability and decentralization is a common pain point, but our client – which we’ve made available to the public to build on and more – syncs in around two seconds, requires no storage, and allows users to access secure chain data from any device (including mobile phones and browser extensions). But what are the potential pitfalls of relying on centralized infrastructure? We cover how they might play out in this post, walk through our design decisions, and also outline a few ideas for others to contribute to the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fhelios\"\u003Ecodebase\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E[toc-embed]The pitfalls of centralized infrastructure: theoretical creatures in Ethereum’s “dark forest”\u003C\u002Fh2\u003E\n\u003Cp\u003EA (theoretical) creature lurks in the \u003Ca href=\"https:\u002F\u002Fwww.paradigm.xyz\u002F2020\u002F08\u002Fethereum-is-a-dark-forest\"\u003Edark forest\u003C\u002Fa\u003E. This one doesn’t hunt for its prey in the Ethereum mempool, but instead sets its traps by mimicking centralized infrastructure that we’ve come to rely on. The users who get caught in this trap don’t make any mistakes: They visit their favorite decentralized exchange, set a reasonable slippage tolerance, and buy and sell tokens as usual… They do everything right, but still fall victim to a new kind of sandwich attack, a trap meticulously set at the very entrance to Ethereum’s dark forest: RPC providers.\u003C\u002Fp\u003E\n\u003Cp\u003EBefore we elaborate, let’s look at how trades work on decentralized exchanges. When users send a swap transaction, they provide several parameters to the smart contract — which tokens to swap, the swap amount, and most importantly, the minimum number of tokens a user must receive for the transaction to go through. This last parameter specifies that the swap must satisfy a “minimum output,” or revert. This is often known as “slippage tolerance,” as it effectively sets the maximum price change that can occur between when the transaction is sent to the mempool and when it is included in a block. If this parameter is set too low, the user accepts the possibility of receiving fewer tokens. This situation can also lead to a sandwich attack, where an attacker effectively sandwiches the bid between two malicious swaps. The swaps drive up the spot price and forces the user’s trade to execute at a less favorable price. The attacker then sells immediately to collect a small profit.\u003C\u002Fp\u003E\n\u003Cp\u003ESo long as this minimum output parameter is set near the fair value, you are safe from sandwich attacks. But what if your RPC provider doesn’t provide an accurate price quote from the decentralized exchange smart contract? A user can then be tricked into signing a swap transaction with a lower minimum output parameter, and, to make matters worse, sends the transaction straight to the malicious RPC provider. Instead of broadcasting this transaction to the public mempool, where dozens of bots compete to perform the sandwich attack, the provider can withhold it and send the attack transaction bundle directly to Flashbots, securing the profits for themselves.\u003C\u002Fp\u003E\n\u003Cp\u003EThe root cause of this attack is trusting somebody else to fetch the state of the blockchain. Experienced users have traditionally solved this problem by running their own Ethereum nodes — a time and resource-intensive endeavor that, at the very least, requires a constantly-online machine, hundreds of gigabytes of storage, and around a day to sync from scratch. This process is certainly easier than it used to be; groups like \u003Ca href=\"https:\u002F\u002Fethereum-on-arm-documentation.readthedocs.io\u002Fen\u002Flatest\u002Findex.html\"\u003EEthereum on ARM\u003C\u002Fa\u003E have worked tirelessly to make it possible to run nodes on low-cost hardware (such as a Raspberry Pi with an external hard drive strapped to it). But even with these relatively minimal requirements, running a node is still difficult for most users, particularly for those using mobile devices.\u003C\u002Fp\u003E\n\u003Cp\u003EIt’s important to note that centralized RPC provider attacks, although entirely plausible, are generally \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FMudit__Gupta\u002Fstatus\u002F1542840515292532736\"\u003Esimple phishing attacks\u003C\u002Fa\u003E — and the one we describe has yet to happen. Even though the track records of larger providers like Alchemy give us little reason to doubt them, it’s worth doing some further research before adding unfamiliar RPC providers to your wallet.\u003C\u002Fp\u003E\n\u003Ch2\u003E[toc-embed]Introducing Helios: fully trustless access to Ethereum\u003C\u002Fh2\u003E\n\u003Cp\u003EBy introducing its light client protocol (made possible by the recent switch to Proof of Stake), Ethereum opened exciting new possibilities for quickly interacting with the blockchain and verifying RPC endpoints with minimal hardware requirements. In the month’s since \u003Ca href=\"https:\u002F\u002Fa16zcrypto.substack.com\u002Fp\u002Fthe-merge-merged\"\u003EThe Merge\u003C\u002Fa\u003E, we’ve seen a new crop of light clients emerge independently of each other (\u003Ca href=\"https:\u002F\u002Flodestar.chainsafe.io\u002F\"\u003ELodestar\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fnimbus.team\u002F\"\u003ENimbus\u003C\u002Fa\u003E, and the JavaScript-based \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fshresth3103\u002Fstatus\u002F1580735567075377152\"\u003EKevlar\u003C\u002Fa\u003E) that have taken different approaches in service of the same goal: efficient and trustless access, without using a full node.\u003C\u002Fp\u003E\n\u003Cp\u003EOur solution, Helios, is an Ethereum light client that syncs in around two seconds, requires no storage, and provides fully trustless access to Ethereum. Like all Ethereum clients, Helios consists of an execution layer and a consensus layer. Unlike most other clients, Helios tightly couples both layers so that users only need to install and run a single piece of software. (\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fledgerwatch\u002Ferigon\"\u003EErigon\u003C\u002Fa\u003E is moving in this direction as well, by adding a consensus layer light client built directly into their archive node).\u003C\u002Fp\u003E\n\u003Cp\u003ESo how does it work? The Helios consensus layer uses a previously known beacon chain blockhash and a connection to an untrusted RPC to verifiably sync to the current block. The Helios execution layer uses these authenticated beacon chain blocks in tandem with an untrusted execution layer RPC to prove arbitrary information about the chain state such as account balances, contract storage, transaction receipts, and smart contract call results. These components work together to serve users a fully trustless RPC, without the need to run a full node.\u003C\u002Fp\u003E\n\u003Ch4\u003E…At the consensus layer\u003C\u002Fh4\u003E\n\u003Cp\u003EThe consensus layer light client conforms to the beacon chain light client \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fconsensus-specs\u002Fblob\u002Fdev\u002Fspecs\u002Faltair\u002Flight-client\u002Fsync-protocol.md\"\u003Especification\u003C\u002Fa\u003E, and makes use of the beacon chain’s sync committees (introduced ahead of the Merge in the Altair hard fork). The sync committee is a randomly selected subset of 512 validators that serve for ~27-hour periods.\u003C\u002Fp\u003E\n\u003Cp\u003EWhen a validator is on a sync committee, they sign every beacon chain block header that they see. If more than two-thirds of the committee signs a given block header, it is highly likely that that block is in the canonical beacon chain. If Helios knows the makeup of the current sync committee, it can confidently track the head of the chain by asking an untrusted RPC for the most recent sync committee signature.\u003C\u002Fp\u003E\n\u003Cp\u003EThanks to BLS \u003Ca href=\"https:\u002F\u002Fyoutu.be\u002FPX7z1m3_F5g\"\u003Esignature\u003C\u002Fa\u003E aggregation, only a single check is required to validate the new header. If the signature is valid and has been signed by more than two-thirds of the committee, it’s safe to assume the block was included in the chain (of course it can be reorg’d out of the chain, but tracking block finality can provide stricter guarantees).\u003C\u002Fp\u003E\n\u003Cp\u003EThere’s an obvious missing piece in this strategy, though: how to find the current sync committee. This starts with acquiring a root of trust called the \u003Ca href=\"https:\u002F\u002Fethereum.org\u002Fen\u002Fdevelopers\u002Fdocs\u002Fconsensus-mechanisms\u002Fpos\u002Fweak-subjectivity\u002F#ws-checkpoints\"\u003E\u003Cb\u003Eweak subjectivity checkpoint\u003C\u002Fb\u003E\u003C\u002Fa\u003E. Don’t let the name intimidate you — it just means an old blockhash that we can guarantee was included in the chain at some point in the past. There is some interesting math behind exactly how old the checkpoint can be; worst-case analysis suggests around two weeks, while more practical estimates suggest many months.\u003C\u002Fp\u003E\n\u003Cp\u003EIf the checkpoint is too old, there are \u003Ca href=\"https:\u002F\u002Fblog.ethereum.org\u002F2014\u002F11\u002F25\u002Fproof-stake-learned-love-weak-subjectivity\"\u003Etheoretical attacks\u003C\u002Fa\u003E that can trick nodes into following the wrong chain. Acquiring a weak subjectivity checkpoint is out of band for the protocol. Our approach with Helios provides an initial checkpoint hardcoded into the codebase (which can easily be overridden); it then saves the most recent finalized blockhash locally to use as the checkpoint in the future, whenever the node is synced.\u003C\u002Fp\u003E\n\u003Cp\u003EConveniently, beacon chain blocks can be hashed to produce a unique beacon blockhash. This means it’s easy to ask a node for a full beacon block, and then prove the block contents are valid by hashing it and comparing to a known blockhash. Helios uses this property to fetch and prove certain fields inside the weak subjectivity checkpoint block, including two very important fields: the current sync committee, and the next sync committee. Critically, this mechanism allows light clients to fast forward through the blockchain’s history.\u003C\u002Fp\u003E\n\u003Cp\u003ENow that we have a weak subjectivity checkpoint, we can fetch and verify the current and next sync committees. If the current chain head is within the same sync committee period as the checkpoint, then we immediately start verifying new blocks with the signed sync committee headers. If our checkpoint is several sync committees behind, we can:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli aria-level=\"1\"\u003EUse the next sync committee after our checkpoint to fetch and verify a block that originates one sync committee in the future.\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003EUse this new block to fetch the new next sync committee.\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003EIf still behind, return to step 1.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EEach iteration of this process allows us to fast forward through 27 hours of the chain&#8217;s history, start with any blockhash in the past, and sync to the current blockhash.\u003C\u002Fp\u003E\n\u003Ch4\u003E…At the execution layer\u003C\u002Fh4\u003E\n\u003Cp\u003EThe goal of the execution layer light client is to take beacon block headers that are verified by the consensus layer, and use them along with an untrusted execution layer RPC to provide verified execution layer data. This data can then be accessed via an RPC server that is locally hosted by Helios.\u003C\u002Fp\u003E\n\u003Cp\u003EHere’s a simple example of fetching an account’s balance, starting with a quick primer on how state is stored in Ethereum. Each account contains a couple fields, such as the contract code hash, nonce, storage hash, and balance. These accounts are stored in a large, modified \u003Ca href=\"https:\u002F\u002Fethereum.org\u002Fen\u002Fdevelopers\u002Fdocs\u002Fdata-structures-and-encoding\u002Fpatricia-merkle-trie\u002F\"\u003EMerkle-Patricia tree\u003C\u002Fa\u003E called the state tree. If we know the root of the state tree, we can validate \u003Ca href=\"https:\u002F\u002Fethereum.org\u002Fen\u002Fdevelopers\u002Ftutorials\u002Fmerkle-proofs-for-offline-data-integrity\u002F\"\u003Emerkle proofs\u003C\u002Fa\u003E to prove the existence (or exclusion) of any account within the tree. These proofs are effectively impossible to forge.\u003C\u002Fp\u003E\n\u003Cp\u003EHelios has an authenticated state root from the consensus layer. Using this root \u003Ci\u003Eand\u003C\u002Fi\u003E merkle proof requests to the untrusted execution layer RPC, Helios can locally verify all data stored on Ethereum.\u003C\u002Fp\u003E\n\u003Cp\u003EWe apply different techniques to verify all sorts of data used by the execution layer; used together, these allow us to authenticate all data retrieved from the untrusted RPC. While an untrusted RPC can deny access to data, it can no longer serve us incorrect results.\u003C\u002Fp\u003E\n\u003Ch2\u003E[toc-embed]Using Helios in the wild\u003C\u002Fh2\u003E\n\u003Cp\u003EThe tradeoff between portability and decentralization is a common pain point — but since Helios is so lightweight, users can access secure chain data from any device (including mobile phones and browser extensions). The ability to run Helios anywhere makes it possible for more people to access trustless Ethereum data, regardless of their hardware. This means users can use Helios as their RPC provider in MetaMask, and trustlessly access dapps without any other changes.\u003C\u002Fp\u003E\n\u003Cp\u003EFurther, Rust’s support for WebAssembly makes it easily possible for app developers to embed Helios inside Javascript applications (like wallets and dapps). These integrations would make Ethereum safer, and reduce our need to trust centralized infrastructure.\u003C\u002Fp\u003E\n\u003Cp\u003EWe can’t wait to see what the community comes up with. But in the meantime, there are lots of ways to contribute to Helios — if you’re not interested in contributing to the codebase, you can also build software that integrates Helios to take advantage of its benefits. These are just a few of the ideas we’re excited about:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003ESupport fetching light client data directly from the P2P network rather than via RPC\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003EImplement some of the missing RPC methods\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003EBuild a version of Helios that compiles to WebAssembly\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003EIntegrate Helios directly into wallet software\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003EBuild a web dashboard to view your token balances that fetches data from Helios embedded into the website with WebAssembly\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003EImplement the engine API so that Helios’ consensus layer can be connected to an existing execution layer full node\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Flightclient\"\u003ECheck out the codebase\u003C\u002Fa\u003E to get started — we welcome your bug reports, feature requests, and code. And if you build something more, share it with us on \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fa16zcrypto\"\u003ETwitter\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Ft.me\u002F+IntDY_gZJSRkNTJj\"\u003ETelegram\u003C\u002Fa\u003E, or Farcaster @a16zcrypto.\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003Cbr \u002F\u003E\n\u003Ci\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F\u003C\u002Fa\u003E.\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fa\u003E for additional important information\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n","Building Helios: Fully trustless access to Ethereum - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fbuilding-helios-ethereum-light-client\u002F","2022-10-27 00:00:00","2023-03-01 15:06:53",258,"Generalized property tests for ERC4626 vaults - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fgeneralized-property-tests-for-erc4626-vaults\u002F","2022-09-15 00:00:00","cap-ali-yahya","Ali Yahya Ali Yahya ali-yahya 1937 ","1937","Ali Yahya","Ali","Yahya","http:\u002F\u002Foutlast.me\u002F","\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EAli Yahya is a General Partner at Andreessen Horowitz where he invests in crypto. Ali works with numerous portfolio companies, including \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.dapperlabs.com\u002F\"\u003E\u003Cspan style=\"font-weight: 400\"\u003EDapper Labs\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400\"\u003E, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.onflow.org\u002F\"\u003E\u003Cspan style=\"font-weight: 400\"\u003EFlow\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400\"\u003E, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fcompound.finance\u002F\"\u003E\u003Cspan style=\"font-weight: 400\"\u003ECompound\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400\"\u003E, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.avalabs.org\u002F\"\u003E\u003Cspan style=\"font-weight: 400\"\u003EAvalanche\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400\"\u003E, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fnear.org\u002F\"\u003E\u003Cspan style=\"font-weight: 400\"\u003ENear\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400\"\u003E, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Frally.io\u002F\"\u003E\u003Cspan style=\"font-weight: 400\"\u003ERally\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400\"\u003E, and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdfinity.org\u002F\"\u003E\u003Cspan style=\"font-weight: 400\"\u003EDfinity\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400\"\u003E. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EBefore Andreessen Horowitz, he was a software engineer and researcher at Google X, where he worked on the Everyday Robot project, which aims to build a robot that is smart and affordable enough to be viable as a consumer product for the home. He also worked at Google Brain, Google’s Artificial Intelligence lab, where he was a core developer on TensorFlow, Google’s primary library for machine learning.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EAli began his career as a student and researcher at Stanford University, where he focused on the intersection of Computer Security, Distributed Systems, and Computer Networking. He first discovered the Bitcoin whitepaper in 2010 while doing research at Stanford Computer Security Lab, and has followed the space closely ever since.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n","What The Merge Means - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fwhat-the-merge-means\u002F","2022-09-12 23:20:21",1768,"cap-tim-roughgarden","Tim Roughgarden Tim Roughgarden tim-roughgarden 1499 ",1510,37,"1499","Tim Roughgarden","Tim","Roughgarden","\u003Cp\u003E\u003Cspan class=\"il\"\u003ETim\u003C\u002Fspan\u003E \u003Cspan class=\"il\"\u003ERoughgarden\u003C\u002Fspan\u003E is a Professor in the Computer Science Department at Columbia University. Prior to joining Columbia, he spent 15 years on the computer science faculty at Stanford, following a PhD at Cornell and a postdoc at UC Berkeley. He works on the boundary of computer science and economics, and on the design, analysis, applications, and limitations of algorithms. He is also a Research Partner on the a16z Crypto team.\u003C\u002Fp\u003E\n","Ethereum, Merge and Beyond - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Fpodcast\u002Fethereum-merge-and-beyond\u002F","2022-09-10 00:00:00",286,9,"NFT Sales: Clearing the Market, Avoiding Gas Wars - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fnft-sales-market-clearing-gas-wars-auction-mechanism-design-for-builders\u002F","2022-09-07 00:00:00",377,32,"On-Chain Trusted Setup Ceremony - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fon-chain-trusted-setup-ceremony\u002F","2022-08-13 14:29:26","A Survey of Proof-of-Stake (PoS) Blockchain Designs - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Fvideos\u002Fa-survey-of-proof-of-stake-pos-blockchain-designs\u002F","2022-08-06 02:24:35",1716,"EigenLayr: Permissionless Feature Addition to Ethereum - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Fvideos\u002Feigenlayr-permissionless-feature-addition-to-ethereum\u002F","2022-03-03 00:00:00",513,425,91,2032,46,"Investing in Lido - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Finvesting-in-lido\u002F","2021-11-21 16:21:59","The myth of \"ETH killers\"","2023-03-07 18:27:51",1429,"The myth of \"ETH killers\" - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fthe-myth-of-eth-killers\u002F","2017-11-24 00:00:00","2023-02-27 12:21:26",1123,"Field Notes: Devcon3 — Ethereum Developer’s Conference - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fdevcon3-notes\u002F")));