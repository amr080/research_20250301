__NUXT_JSONP__("/posts/tags/gas", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB,fC,fD,fE,fF,fG,fH,fI,fJ,fK,fL,fM,fN,fO,fP,fQ,fR,fS,fT,fU,fV,fW,fX,fY,fZ,f_,f$,ga,gb,gc,gd,ge,gf,gg,gh,gi,gj,gk,gl,gm,gn,go,gp,gq,gr,gs,gt,gu,gv,gw,gx,gy,gz,gA,gB,gC,gD,gE,gF,gG,gH,gI,gJ,gK,gL,gM,gN,gO){dd.favicon=f;dd.other_icons=f;dd.newsletter_title="newsletter: web3 weekly";dd.newsletter_subtitle="A newsletter from a16z crypto, and your go-to guide to the next internet";dd.newsletter_input_placeholder=de;dd.newsletter_button_text=de;dd.podcast_title="podcast: web3 with a16z";dd.podcast_subtitle="A show about building the next internet, from a16z crypto";dd.follow_us_text="Follow us";dd.logo=f;dd.disclaimer="Any investments or portfolio companies mentioned, referred to, or described on this page are not representative of all investments in vehicles managed by a16z and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. Exits include current and former a16z portfolio companies which have been acquired as well as companies which have undergone an initial public offering or direct public offering of shares. Certain publicly traded companies on this list may still be held in Andreessen Horowitz funds. A list of investments made by funds managed by a16z is available here: https:\u002F\u002Fa16z.com\u002Finvestments\u002F. Excluded from this list are investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets. Further, the list of investments is updated monthly and as such may not reflect most recent a16z investments. Past results of Andreessen Horowitz’s investments, pooled investment vehicles, or investment strategies are not necessarily indicative of future results.";dd.copyright="&copy; 2024 Andreessen Horowitz";dd.footer_menu=df;dd.cookie_banner_text="we use third party cookies in order to personalise your site experience";dd.socials=dg;dd.streaming=dh;dd.header_newsletter_title="Newsletter Sign Up";dd.header_newsletter_input_placeholder="enter email address";dd.header_newsletter_button_text="subscribe";dd.header_socials=f;dd.nav_focus_area_label_text="FOCUS AREAS";dd.nav_focus_areas=[{term_id:a,name:di,slug:dj,term_group:c,term_taxonomy_id:a,taxonomy:t,description:b,parent:c,count:dk,filter:e,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ffocus-areas\u002Fcompany-building\u002F"},{term_id:aQ,name:ce,slug:cf,term_group:c,term_taxonomy_id:aQ,taxonomy:t,description:b,parent:c,count:cg,filter:e,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ffocus-areas\u002Ftech-trends\u002F"},{term_id:dl,name:"policy &amp; regulation",slug:bx,term_group:c,term_taxonomy_id:dl,taxonomy:t,description:b,parent:c,count:158,filter:e,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ffocus-areas\u002Fpolicy\u002F"},{term_id:F,name:u,slug:u,term_group:c,term_taxonomy_id:F,taxonomy:t,description:b,parent:c,count:bj,filter:e,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ffocus-areas\u002Fresearch\u002F"},{term_id:K,name:by,slug:bz,term_group:c,term_taxonomy_id:K,taxonomy:t,description:b,parent:c,count:bA,filter:e,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ffocus-areas\u002Fcode-engineering\u002F"}];dd.nav_trending_topics_label_text="TRENDING TOPICS";dd.nav_trending_topics=[{term_id:dm,name:bB,slug:bB,term_group:c,term_taxonomy_id:dm,taxonomy:g,description:b,parent:c,count:19,filter:e,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ftags\u002Fdecentralization\u002F"},{term_id:aR,name:bC,slug:bD,term_group:c,term_taxonomy_id:aR,taxonomy:g,description:b,parent:c,count:ch,filter:e,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ftags\u002Fzkps-zero-knowledge-proofs-systems-more\u002F"},{term_id:dn,name:bE,slug:bE,term_group:c,term_taxonomy_id:dn,taxonomy:g,description:b,parent:c,count:43,filter:e,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Ftags\u002Fsecurity\u002F"}];dd.view_all_content_button={title:"view all content",url:"\u002Fcontent\u002F",target:b};dd.enable_puzzle=cd;dd.puzzle_code_1=do0;dd.puzzle_code_2=dp;dd.header_css_js_custom="table#releasenotes {\r\n  width: 100% !important;\r\n  border-collapse: collapse ;\r\n  border: 3px solid purple;\r\n}\r\n\r\ntable#releasenotes td {\r\n  width: 50% !important;\r\n  border: 1px black solid ;\r\n  padding: 10px ;\r\n}\r\n\r\ndiv.punch-viewer-navbar-logo {\r\n  display: hidden !important;\r\n}";dd.custom_js_footer=b;dd.header_button=b;dd.companies_eyebrow="CSX COMPANIES";dd.companies_title=b;dd.companies_stats=f;dd.companies_companies=[{company_name:ci,square_logo:{ID:dq,id:dq,title:ci,filename:"afriex.svg",filesize:907,url:L,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fafriex\u002F",alt:b,author:m,description:b,caption:b,name:ci,status:h,uploaded_to:c,date:dr,modified:dr,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:L,"thumbnail-width":a,"thumbnail-height":a,medium:L,"medium-width":a,"medium-height":a,medium_large:L,"medium_large-width":a,"medium_large-height":a,large:L,"large-width":a,"large-height":a,"1536x1536":L,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":L,"2048x2048-width":a,"2048x2048-height":a,"medium-size":L,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.afriexapp.com\u002F"},{company_name:cj,square_logo:{ID:ds,id:ds,title:cj,filename:"axal.svg",filesize:1117,url:M,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Faxal\u002F",alt:b,author:m,description:b,caption:b,name:cj,status:h,uploaded_to:c,date:dt,modified:dt,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:M,"thumbnail-width":a,"thumbnail-height":a,medium:M,"medium-width":a,"medium-height":a,medium_large:M,"medium_large-width":a,"medium_large-height":a,large:M,"large-width":a,"large-height":a,"1536x1536":M,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":M,"2048x2048-width":a,"2048x2048-height":a,"medium-size":M,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fax.al"},{company_name:ck,square_logo:{ID:du,id:du,title:ck,filename:"bello.svg",filesize:8224,url:N,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fbello\u002F",alt:b,author:m,description:b,caption:b,name:ck,status:h,uploaded_to:c,date:dv,modified:dv,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:N,"thumbnail-width":a,"thumbnail-height":a,medium:N,"medium-width":a,"medium-height":a,medium_large:N,"medium_large-width":a,"medium_large-height":a,large:N,"large-width":a,"large-height":a,"1536x1536":N,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":N,"2048x2048-width":a,"2048x2048-height":a,"medium-size":N,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fbello.lol\u002F"},{company_name:cl,square_logo:{ID:dw,id:dw,title:cl,filename:"blockus.png",filesize:12591,url:bk,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fblockus\u002F",alt:b,author:m,description:b,caption:b,name:cl,status:h,uploaded_to:c,date:dx,modified:dx,menu_order:c,mime_type:cm,type:i,subtype:dy,icon:j,width:aS,height:bl,sizes:{thumbnail:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fblockus-150x150.png","thumbnail-width":O,"thumbnail-height":O,medium:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fblockus-259x300.png","medium-width":259,"medium-height":aT,medium_large:bk,"medium_large-width":aS,"medium_large-height":bl,large:bk,"large-width":aS,"large-height":bl,"1536x1536":bk,"1536x1536-width":aS,"1536x1536-height":bl,"2048x2048":bk,"2048x2048-width":aS,"2048x2048-height":bl,"medium-size":"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fblockus-369x400.png","medium-size-width":aS,"medium-size-height":dz}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.blockus.gg\u002F"},{company_name:cn,square_logo:{ID:dA,id:dA,title:cn,filename:"capsule.svg",filesize:1539,url:P,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fcapsule\u002F",alt:b,author:m,description:b,caption:b,name:cn,status:h,uploaded_to:c,date:dB,modified:dB,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:P,"thumbnail-width":a,"thumbnail-height":a,medium:P,"medium-width":a,"medium-height":a,medium_large:P,"medium_large-width":a,"medium_large-height":a,large:P,"large-width":a,"large-height":a,"1536x1536":P,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":P,"2048x2048-width":a,"2048x2048-height":a,"medium-size":P,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fusecapsule.com\u002F"},{company_name:"Chain Patrol",square_logo:{ID:dC,id:dC,title:dD,filename:"chainpatrol.svg",filesize:16389,url:Q,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fchainpatrol\u002F",alt:b,author:m,description:b,caption:b,name:dD,status:h,uploaded_to:c,date:dE,modified:dE,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:Q,"thumbnail-width":a,"thumbnail-height":a,medium:Q,"medium-width":a,"medium-height":a,medium_large:Q,"medium_large-width":a,"medium_large-height":a,large:Q,"large-width":a,"large-height":a,"1536x1536":Q,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":Q,"2048x2048-width":a,"2048x2048-height":a,"medium-size":Q,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fchainpatrol.io\u002F"},{company_name:"Collar Networks",square_logo:{ID:dF,id:dF,title:"Collar_Wordmark_Yellow - Michael Moulton",filename:"Collar_Wordmark_Yellow-Michael-Moulton.svg",filesize:12535,url:R,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fcollar_wordmark_yellow-michael-moulton\u002F",alt:b,author:v,description:b,caption:b,name:"collar_wordmark_yellow-michael-moulton",status:h,uploaded_to:c,date:dG,modified:dG,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:R,"thumbnail-width":a,"thumbnail-height":a,medium:R,"medium-width":a,"medium-height":a,medium_large:R,"medium_large-width":a,"medium_large-height":a,large:R,"large-width":a,"large-height":a,"1536x1536":R,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":R,"2048x2048-width":a,"2048x2048-height":a,"medium-size":R,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:b},{company_name:"Compass Labs",square_logo:{ID:dH,id:dH,title:"logo_nooutline_width60 (1) - Elisabeth Duijnstee",filename:"logo_nooutline_width60-1-Elisabeth-Duijnstee.svg",filesize:1408,url:S,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Flogo_nooutline_width60-1-elisabeth-duijnstee\u002F",alt:b,author:v,description:b,caption:b,name:"logo_nooutline_width60-1-elisabeth-duijnstee",status:h,uploaded_to:c,date:dI,modified:dI,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:S,"thumbnail-width":a,"thumbnail-height":a,medium:S,"medium-width":a,"medium-height":a,medium_large:S,"medium_large-width":a,"medium_large-height":a,large:S,"large-width":a,"large-height":a,"1536x1536":S,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":S,"2048x2048-width":a,"2048x2048-height":a,"medium-size":S,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.compasslabs.ai\u002F"},{company_name:"Discove",square_logo:{ID:dJ,id:dJ,title:dK,filename:"discove.svg",filesize:4541,url:T,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fdiscove\u002F",alt:b,author:m,description:b,caption:b,name:dK,status:h,uploaded_to:c,date:dL,modified:dL,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:T,"thumbnail-width":a,"thumbnail-height":a,medium:T,"medium-width":a,"medium-height":a,medium_large:T,"medium_large-width":a,"medium_large-height":a,large:T,"large-width":a,"large-height":a,"1536x1536":T,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":T,"2048x2048-width":a,"2048x2048-height":a,"medium-size":T,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fdiscove.xyz"},{company_name:"EthXY",square_logo:{ID:dM,id:dM,title:"ethxy-dark - J Eth",filename:"ethxy-dark-J-Eth.svg",filesize:19156,url:U,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fethxy-dark-j-eth\u002F",alt:b,author:v,description:b,caption:b,name:"ethxy-dark-j-eth",status:h,uploaded_to:c,date:dN,modified:dN,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:U,"thumbnail-width":a,"thumbnail-height":a,medium:U,"medium-width":a,"medium-height":a,medium_large:U,"medium_large-width":a,"medium_large-height":a,large:U,"large-width":a,"large-height":a,"1536x1536":U,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":U,"2048x2048-width":a,"2048x2048-height":a,"medium-size":U,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fethxy.com"},{company_name:co,square_logo:{ID:dO,id:dO,title:co,filename:"id.svg",filesize:2287,url:V,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fid\u002F",alt:b,author:m,description:b,caption:b,name:co,status:h,uploaded_to:c,date:dP,modified:dP,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:V,"thumbnail-width":a,"thumbnail-height":a,medium:V,"medium-width":a,"medium-height":a,medium_large:V,"medium_large-width":a,"medium_large-height":a,large:V,"large-width":a,"large-height":a,"1536x1536":V,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":V,"2048x2048-width":a,"2048x2048-height":a,"medium-size":V,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:b},{company_name:"Fan Craze",square_logo:{ID:dQ,id:dQ,title:dR,filename:"fancraze.svg",filesize:1051,url:W,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Ffancraze\u002F",alt:b,author:m,description:b,caption:b,name:dR,status:h,uploaded_to:c,date:dS,modified:dS,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:W,"thumbnail-width":a,"thumbnail-height":a,medium:W,"medium-width":a,"medium-height":a,medium_large:W,"medium_large-width":a,"medium_large-height":a,large:W,"large-width":a,"large-height":a,"1536x1536":W,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":W,"2048x2048-width":a,"2048x2048-height":a,"medium-size":W,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.fancraze.com\u002F"},{company_name:"FINE",square_logo:{ID:dT,id:dT,title:dU,filename:"fine.svg",filesize:848,url:X,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Ffine\u002F",alt:b,author:m,description:b,caption:b,name:dU,status:h,uploaded_to:c,date:dV,modified:dV,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:X,"thumbnail-width":a,"thumbnail-height":a,medium:X,"medium-width":a,"medium-height":a,medium_large:X,"medium_large-width":a,"medium_large-height":a,large:X,"large-width":a,"large-height":a,"1536x1536":X,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":X,"2048x2048-width":a,"2048x2048-height":a,"medium-size":X,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:b},{company_name:cp,square_logo:{ID:dW,id:dW,title:cp,filename:"flashbot.svg",filesize:1011,url:Y,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fflashbot\u002F",alt:b,author:m,description:b,caption:b,name:cp,status:h,uploaded_to:c,date:dX,modified:dX,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:Y,"thumbnail-width":a,"thumbnail-height":a,medium:Y,"medium-width":a,"medium-height":a,medium_large:Y,"medium_large-width":a,"medium_large-height":a,large:Y,"large-width":a,"large-height":a,"1536x1536":Y,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":Y,"2048x2048-width":a,"2048x2048-height":a,"medium-size":Y,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:b},{company_name:"Formless",square_logo:{ID:dY,id:dY,title:dZ,filename:"formless.svg",filesize:1233,url:Z,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fformless\u002F",alt:b,author:m,description:b,caption:b,name:dZ,status:h,uploaded_to:c,date:d_,modified:d_,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:Z,"thumbnail-width":a,"thumbnail-height":a,medium:Z,"medium-width":a,"medium-height":a,medium_large:Z,"medium_large-width":a,"medium_large-height":a,large:Z,"large-width":a,"large-height":a,"1536x1536":Z,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":Z,"2048x2048-width":a,"2048x2048-height":a,"medium-size":Z,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fformless.xyz"},{company_name:"Frens",square_logo:{ID:d$,id:d$,title:ea,filename:"frens.svg",filesize:876,url:_,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Ffrens\u002F",alt:b,author:m,description:b,caption:b,name:ea,status:h,uploaded_to:c,date:eb,modified:eb,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:_,"thumbnail-width":a,"thumbnail-height":a,medium:_,"medium-width":a,"medium-height":a,medium_large:_,"medium_large-width":a,"medium_large-height":a,large:_,"large-width":a,"large-height":a,"1536x1536":_,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":_,"2048x2048-width":a,"2048x2048-height":a,"medium-size":_,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"frens.lol"},{company_name:"Fuul",square_logo:{ID:ec,id:ec,title:ed,filename:"fuul.svg",filesize:3228,url:$,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Ffuul\u002F",alt:b,author:m,description:b,caption:b,name:ed,status:h,uploaded_to:c,date:ee,modified:ee,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:$,"thumbnail-width":a,"thumbnail-height":a,medium:$,"medium-width":a,"medium-height":a,medium_large:$,"medium_large-width":a,"medium_large-height":a,large:$,"large-width":a,"large-height":a,"1536x1536":$,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":$,"2048x2048-width":a,"2048x2048-height":a,"medium-size":$,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"http:\u002F\u002Fwww.fuul.xyz"},{company_name:cq,square_logo:{ID:ef,id:ef,title:cq,filename:"gandalf.svg",filesize:1634,url:aa,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fgandalf\u002F",alt:b,author:m,description:b,caption:b,name:cq,status:h,uploaded_to:c,date:eg,modified:eg,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:aa,"thumbnail-width":a,"thumbnail-height":a,medium:aa,"medium-width":a,"medium-height":a,medium_large:aa,"medium_large-width":a,"medium_large-height":a,large:aa,"large-width":a,"large-height":a,"1536x1536":aa,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":aa,"2048x2048-width":a,"2048x2048-height":a,"medium-size":aa,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fgandalf.network\u002F"},{company_name:"Goldfinch",square_logo:{ID:eh,id:eh,title:"goldfinch",filename:"goldfinch.svg",filesize:3085,url:ab,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fgoldfinch-2\u002F",alt:b,author:m,description:b,caption:b,name:"goldfinch-2",status:h,uploaded_to:c,date:ei,modified:ei,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ab,"thumbnail-width":a,"thumbnail-height":a,medium:ab,"medium-width":a,"medium-height":a,medium_large:ab,"medium_large-width":a,"medium_large-height":a,large:ab,"large-width":a,"large-height":a,"1536x1536":ab,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ab,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ab,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fgoldfinch.finance\u002F"},{company_name:cr,square_logo:{ID:ej,id:ej,title:cr,filename:"iyk.svg",filesize:758,url:ac,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fiyk\u002F",alt:b,author:m,description:b,caption:b,name:cr,status:h,uploaded_to:c,date:ek,modified:ek,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ac,"thumbnail-width":a,"thumbnail-height":a,medium:ac,"medium-width":a,"medium-height":a,medium_large:ac,"medium_large-width":a,"medium_large-height":a,large:ac,"large-width":a,"large-height":a,"1536x1536":ac,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ac,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ac,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fiyk.app\u002F"},{company_name:el,square_logo:{ID:em,id:em,title:el,filename:"kiki.svg",filesize:1785,url:ad,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fkiki-2\u002F",alt:b,author:m,description:b,caption:b,name:"kiki-2",status:h,uploaded_to:c,date:en,modified:en,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ad,"thumbnail-width":a,"thumbnail-height":a,medium:ad,"medium-width":a,"medium-height":a,medium_large:ad,"medium_large-width":a,"medium_large-height":a,large:ad,"large-width":a,"large-height":a,"1536x1536":ad,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ad,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ad,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.kiki.world\u002F"},{company_name:"Magicblock",square_logo:{ID:eo,id:eo,title:"magicblock_white (1) - Andrea Fortugno",filename:"magicblock_white-1-Andrea-Fortugno.svg",filesize:9784,url:ae,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fmagicblock_white-1-andrea-fortugno\u002F",alt:b,author:v,description:b,caption:b,name:"magicblock_white-1-andrea-fortugno",status:h,uploaded_to:c,date:ep,modified:ep,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ae,"thumbnail-width":a,"thumbnail-height":a,medium:ae,"medium-width":a,"medium-height":a,medium_large:ae,"medium_large-width":a,"medium_large-height":a,large:ae,"large-width":a,"large-height":a,"1536x1536":ae,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ae,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ae,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.magicblock.gg\u002F"},{company_name:cs,square_logo:{ID:eq,id:eq,title:cs,filename:"mbd.svg",filesize:2670,url:af,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fmbd\u002F",alt:b,author:m,description:b,caption:b,name:cs,status:h,uploaded_to:c,date:bF,modified:bF,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:af,"thumbnail-width":a,"thumbnail-height":a,medium:af,"medium-width":a,"medium-height":a,medium_large:af,"medium_large-width":a,"medium_large-height":a,large:af,"large-width":a,"large-height":a,"1536x1536":af,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":af,"2048x2048-width":a,"2048x2048-height":a,"medium-size":af,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:b},{company_name:ct,square_logo:{ID:er,id:er,title:ct,filename:"mentaport.svg",filesize:878,url:ag,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fmentaport\u002F",alt:b,author:m,description:b,caption:b,name:ct,status:h,uploaded_to:c,date:bF,modified:bF,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ag,"thumbnail-width":a,"thumbnail-height":a,medium:ag,"medium-width":a,"medium-height":a,medium_large:ag,"medium_large-width":a,"medium_large-height":a,large:ag,"large-width":a,"large-height":a,"1536x1536":ag,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ag,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ag,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.mentaport.com\u002F"},{company_name:cu,square_logo:{ID:es,id:es,title:cu,filename:"mir.svg",filesize:1130,url:ah,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fmir\u002F",alt:b,author:m,description:b,caption:b,name:cu,status:h,uploaded_to:c,date:bG,modified:bG,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ah,"thumbnail-width":a,"thumbnail-height":a,medium:ah,"medium-width":a,"medium-height":a,medium_large:ah,"medium_large-width":a,"medium_large-height":a,large:ah,"large-width":a,"large-height":a,"1536x1536":ah,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ah,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ah,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:b},{company_name:cv,square_logo:{ID:et,id:et,title:cv,filename:"narval.svg",filesize:3111,url:ai,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fnarval\u002F",alt:b,author:m,description:b,caption:b,name:cv,status:h,uploaded_to:c,date:bG,modified:bG,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ai,"thumbnail-width":a,"thumbnail-height":a,medium:ai,"medium-width":a,"medium-height":a,medium_large:ai,"medium_large-width":a,"medium_large-height":a,large:ai,"large-width":a,"large-height":a,"1536x1536":ai,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ai,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ai,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"http:\u002F\u002Fnarval.xyz"},{company_name:"Nebra",square_logo:{ID:eu,id:eu,title:"NEBRA_logo_1 - Shumo Chu",filename:"NEBRA_logo_1-Shumo-Chu.svg",filesize:2102,url:aj,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fnebra_logo_1-shumo-chu\u002F",alt:b,author:v,description:b,caption:b,name:"nebra_logo_1-shumo-chu",status:h,uploaded_to:c,date:ev,modified:ev,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:aj,"thumbnail-width":a,"thumbnail-height":a,medium:aj,"medium-width":a,"medium-height":a,medium_large:aj,"medium_large-width":a,"medium_large-height":a,large:aj,"large-width":a,"large-height":a,"1536x1536":aj,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":aj,"2048x2048-width":a,"2048x2048-height":a,"medium-size":aj,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"nebra.one"},{company_name:"Neynar",square_logo:{ID:ew,id:ew,title:"Frame 27 - Rishav Mukherji",filename:"Frame-27-Rishav-Mukherji.svg",filesize:4170,url:ak,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fframe-27-rishav-mukherji\u002F",alt:b,author:v,description:b,caption:b,name:"frame-27-rishav-mukherji",status:h,uploaded_to:c,date:ex,modified:ex,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ak,"thumbnail-width":a,"thumbnail-height":a,medium:ak,"medium-width":a,"medium-height":a,medium_large:ak,"medium_large-width":a,"medium_large-height":a,large:ak,"large-width":a,"large-height":a,"1536x1536":ak,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ak,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ak,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"http:\u002F\u002Fneynar.com"},{company_name:"Nodekit",square_logo:{ID:ey,id:ey,title:"NodeKit Logo - Atomic Abyss (1) - Nick Preszler",filename:"NodeKit-Logo-Atomic-Abyss-1-Nick-Preszler.svg",filesize:4216,url:al,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fnodekit-logo-atomic-abyss-1-nick-preszler\u002F",alt:b,author:v,description:b,caption:b,name:"nodekit-logo-atomic-abyss-1-nick-preszler",status:h,uploaded_to:c,date:ez,modified:ez,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:al,"thumbnail-width":a,"thumbnail-height":a,medium:al,"medium-width":a,"medium-height":a,medium_large:al,"medium_large-width":a,"medium_large-height":a,large:al,"large-width":a,"large-height":a,"1536x1536":al,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":al,"2048x2048-width":a,"2048x2048-height":a,"medium-size":al,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"http:\u002F\u002Fnodekit.xyz"},{company_name:"notional finance",square_logo:{ID:eA,id:eA,title:eB,filename:"notion-finance.svg",filesize:1843,url:am,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fnotion-finance\u002F",alt:b,author:m,description:b,caption:b,name:eB,status:h,uploaded_to:c,date:bH,modified:bH,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:am,"thumbnail-width":a,"thumbnail-height":a,medium:am,"medium-width":a,"medium-height":a,medium_large:am,"medium_large-width":a,"medium_large-height":a,large:am,"large-width":a,"large-height":a,"1536x1536":am,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":am,"2048x2048-width":a,"2048x2048-height":a,"medium-size":am,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fnotional.finance\u002F"},{company_name:"OpenTrade",square_logo:{ID:eC,id:eC,title:"OpenTrade-logo (2) - David Sutter",filename:"OpenTrade-logo-2-David-Sutter.svg",filesize:4133,url:an,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fopentrade-logo-2-david-sutter\u002F",alt:b,author:v,description:b,caption:b,name:"opentrade-logo-2-david-sutter",status:h,uploaded_to:c,date:eD,modified:eD,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:an,"thumbnail-width":a,"thumbnail-height":a,medium:an,"medium-width":a,"medium-height":a,medium_large:an,"medium_large-width":a,"medium_large-height":a,large:an,"large-width":a,"large-height":a,"1536x1536":an,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":an,"2048x2048-width":a,"2048x2048-height":a,"medium-size":an,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.opentrade.io\u002F"},{company_name:eE,square_logo:{ID:eF,id:eF,title:eE,filename:"phantom.svg",filesize:1842,url:ao,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fphantom-2\u002F",alt:b,author:m,description:b,caption:b,name:"phantom-2",status:h,uploaded_to:c,date:bH,modified:bH,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ao,"thumbnail-width":a,"thumbnail-height":a,medium:ao,"medium-width":a,"medium-height":a,medium_large:ao,"medium_large-width":a,"medium_large-height":a,large:ao,"large-width":a,"large-height":a,"1536x1536":ao,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ao,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ao,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fphantom.app\u002F"},{company_name:eG,square_logo:{ID:eH,id:eH,title:eG,filename:"pimlico.svg",filesize:4377,url:ap,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fpimlico-2\u002F",alt:b,author:m,description:b,caption:b,name:"pimlico-2",status:h,uploaded_to:c,date:bI,modified:bI,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ap,"thumbnail-width":a,"thumbnail-height":a,medium:ap,"medium-width":a,"medium-height":a,medium_large:ap,"medium_large-width":a,"medium_large-height":a,large:ap,"large-width":a,"large-height":a,"1536x1536":ap,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ap,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ap,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.pimlico.io\u002F"},{company_name:"Playmint",square_logo:{ID:eI,id:eI,title:"Playmint_Logo_Export_Colour_Black - Luke Gibson",filename:"Playmint_Logo_Export_Colour_Black-Luke-Gibson.svg",filesize:6812,url:aq,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fcsx\u002Fplaymint_logo_export_colour_black-luke-gibson\u002F",alt:b,author:v,description:b,caption:b,name:"playmint_logo_export_colour_black-luke-gibson",status:h,uploaded_to:eJ,date:"2024-09-03 23:34:57",modified:"2024-09-04 22:32:11",menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:aq,"thumbnail-width":a,"thumbnail-height":a,medium:aq,"medium-width":a,"medium-height":a,medium_large:aq,"medium_large-width":a,"medium_large-height":a,large:aq,"large-width":a,"large-height":a,"1536x1536":aq,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":aq,"2048x2048-width":a,"2048x2048-height":a,"medium-size":aq,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fplaymint.com\u002F"},{company_name:cw,square_logo:{ID:eK,id:eK,title:cw,filename:"primev.svg",filesize:1684,url:ar,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fprimev\u002F",alt:b,author:m,description:b,caption:b,name:cw,status:h,uploaded_to:c,date:bI,modified:bI,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ar,"thumbnail-width":a,"thumbnail-height":a,medium:ar,"medium-width":a,"medium-height":a,medium_large:ar,"medium_large-width":a,"medium_large-height":a,large:ar,"large-width":a,"large-height":a,"1536x1536":ar,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ar,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ar,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fprimev.xyz\u002F"},{company_name:"Roux",square_logo:{ID:eL,id:eL,title:"Roux_logo_castiron - Lisa Grimm",filename:"Roux_logo_castiron-Lisa-Grimm.svg",filesize:36761,url:as,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fcsx\u002Froux_logo_castiron-lisa-grimm\u002F",alt:b,author:v,description:b,caption:b,name:"roux_logo_castiron-lisa-grimm",status:h,uploaded_to:eJ,date:"2024-09-03 23:35:45",modified:"2024-09-04 22:32:12",menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:as,"thumbnail-width":a,"thumbnail-height":a,medium:as,"medium-width":a,"medium-height":a,medium_large:as,"medium_large-width":a,"medium_large-height":a,large:as,"large-width":a,"large-height":a,"1536x1536":as,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":as,"2048x2048-width":a,"2048x2048-height":a,"medium-size":as,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"www.roux.app"},{company_name:cx,square_logo:{ID:eM,id:eM,title:cx,filename:"shield.svg",filesize:2662,url:at,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fshield\u002F",alt:b,author:m,description:b,caption:b,name:cx,status:h,uploaded_to:c,date:bJ,modified:bJ,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:at,"thumbnail-width":a,"thumbnail-height":a,medium:at,"medium-width":a,"medium-height":a,medium_large:at,"medium_large-width":a,"medium_large-height":a,large:at,"large-width":a,"large-height":a,"1536x1536":at,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":at,"2048x2048-width":a,"2048x2048-height":a,"medium-size":at,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"http:\u002F\u002Fgetshield.xyz"},{company_name:"Siren",square_logo:{ID:eN,id:eN,title:"siren_Logo_black (1) - Andrei Anisimov",filename:"siren_Logo_black-1-Andrei-Anisimov.svg",filesize:2329,url:au,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fsiren_logo_black-1-andrei-anisimov\u002F",alt:b,author:v,description:b,caption:b,name:"siren_logo_black-1-andrei-anisimov",status:h,uploaded_to:c,date:eO,modified:eO,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:au,"thumbnail-width":a,"thumbnail-height":a,medium:au,"medium-width":a,"medium-height":a,medium_large:au,"medium_large-width":a,"medium_large-height":a,large:au,"large-width":a,"large-height":a,"1536x1536":au,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":au,"2048x2048-width":a,"2048x2048-height":a,"medium-size":au,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fsiren.xyz\u002F"},{company_name:cy,square_logo:{ID:eP,id:eP,title:cy,filename:"skylab.svg",filesize:2674,url:av,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fskylab\u002F",alt:b,author:m,description:b,caption:b,name:cy,status:h,uploaded_to:c,date:bJ,modified:bJ,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:av,"thumbnail-width":a,"thumbnail-height":a,medium:av,"medium-width":a,"medium-height":a,medium_large:av,"medium_large-width":a,"medium_large-height":a,large:av,"large-width":a,"large-height":a,"1536x1536":av,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":av,"2048x2048-width":a,"2048x2048-height":a,"medium-size":av,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.skylab.xyz\u002F"},{company_name:"Spire",square_logo:{ID:eQ,id:eQ,title:"transparent - Kaito Yanai",filename:"transparent-Kaito-Yanai.svg",filesize:2085,url:aw,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Ftransparent-kaito-yanai\u002F",alt:b,author:v,description:b,caption:b,name:"transparent-kaito-yanai",status:h,uploaded_to:c,date:eR,modified:eR,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:aw,"thumbnail-width":a,"thumbnail-height":a,medium:aw,"medium-width":a,"medium-height":a,medium_large:aw,"medium_large-width":a,"medium_large-height":a,large:aw,"large-width":a,"large-height":a,"1536x1536":aw,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":aw,"2048x2048-width":a,"2048x2048-height":a,"medium-size":aw,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.spire.dev\u002F"},{company_name:cz,square_logo:{ID:eS,id:eS,title:cz,filename:"spring.svg",filesize:13520,url:ax,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fspring\u002F",alt:b,author:m,description:b,caption:b,name:cz,status:h,uploaded_to:c,date:bK,modified:bK,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ax,"thumbnail-width":a,"thumbnail-height":a,medium:ax,"medium-width":a,"medium-height":a,medium_large:ax,"medium_large-width":a,"medium_large-height":a,large:ax,"large-width":a,"large-height":a,"1536x1536":ax,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ax,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ax,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fspringinafrica.com"},{company_name:cA,square_logo:{ID:eT,id:eT,title:cA,filename:"stackr.svg",filesize:4351,url:ay,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fstackr\u002F",alt:b,author:m,description:b,caption:b,name:cA,status:h,uploaded_to:c,date:bK,modified:bK,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:ay,"thumbnail-width":a,"thumbnail-height":a,medium:ay,"medium-width":a,"medium-height":a,medium_large:ay,"medium_large-width":a,"medium_large-height":a,large:ay,"large-width":a,"large-height":a,"1536x1536":ay,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":ay,"2048x2048-width":a,"2048x2048-height":a,"medium-size":ay,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.stackrlabs.xyz"},{company_name:eU,square_logo:{ID:eV,id:eV,title:eU,filename:"teller-1.svg",filesize:1081,url:az,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fteller-2\u002F",alt:b,author:m,description:b,caption:b,name:"teller-2",status:h,uploaded_to:c,date:bL,modified:bL,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:az,"thumbnail-width":a,"thumbnail-height":a,medium:az,"medium-width":a,"medium-height":a,medium_large:az,"medium_large-width":a,"medium_large-height":a,large:az,"large-width":a,"large-height":a,"1536x1536":az,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":az,"2048x2048-width":a,"2048x2048-height":a,"medium-size":az,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.teller.org\u002F"},{company_name:"Titles",square_logo:f,full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Ftitles.xyz"},{company_name:"Tranched",square_logo:{ID:eW,id:eW,title:eX,filename:"logo_black.svg",filesize:7536,url:aA,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Flogo_black\u002F",alt:b,author:v,description:b,caption:b,name:eX,status:h,uploaded_to:c,date:eY,modified:eY,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:aA,"thumbnail-width":a,"thumbnail-height":a,medium:aA,"medium-width":a,"medium-height":a,medium_large:aA,"medium_large-width":a,"medium_large-height":a,large:aA,"large-width":a,"large-height":a,"1536x1536":aA,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":aA,"2048x2048-width":a,"2048x2048-height":a,"medium-size":aA,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Ftranched.fi\u002F"},{company_name:"triangle labs",square_logo:{ID:eZ,id:eZ,title:e_,filename:"triangle-labs.svg",filesize:13036,url:aB,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Ftriangle-labs\u002F",alt:b,author:m,description:b,caption:b,name:e_,status:h,uploaded_to:c,date:bL,modified:bL,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:aB,"thumbnail-width":a,"thumbnail-height":a,medium:aB,"medium-width":a,"medium-height":a,medium_large:aB,"medium_large-width":a,"medium_large-height":a,large:aB,"large-width":a,"large-height":a,"1536x1536":aB,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":aB,"2048x2048-width":a,"2048x2048-height":a,"medium-size":aB,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:b},{company_name:"Tweed",square_logo:{ID:e$,id:e$,title:"logo (1) - Michelle Latzer",filename:"logo-1-Michelle-Latzer.svg",filesize:2925,url:aC,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Flogo-1-michelle-latzer\u002F",alt:b,author:v,description:b,caption:b,name:"logo-1-michelle-latzer",status:h,uploaded_to:c,date:fa,modified:fa,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:aC,"thumbnail-width":a,"thumbnail-height":a,medium:aC,"medium-width":a,"medium-height":a,medium_large:aC,"medium_large-width":a,"medium_large-height":a,large:aC,"large-width":a,"large-height":a,"1536x1536":aC,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":aC,"2048x2048-width":a,"2048x2048-height":a,"medium-size":aC,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"www.paytweed.com"},{company_name:"web 3 analytics",square_logo:{ID:fb,id:fb,title:fc,filename:"web3analytics.svg",filesize:2502,url:aD,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fweb3analytics\u002F",alt:b,author:m,description:b,caption:b,name:fc,status:h,uploaded_to:c,date:bM,modified:bM,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:aD,"thumbnail-width":a,"thumbnail-height":a,medium:aD,"medium-width":a,"medium-height":a,medium_large:aD,"medium_large-width":a,"medium_large-height":a,large:aD,"large-width":a,"large-height":a,"1536x1536":aD,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":aD,"2048x2048-width":a,"2048x2048-height":a,"medium-size":aD,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fwww.web3analytic.xyz\u002F"},{company_name:"zero dev",square_logo:{ID:fd,id:fd,title:fe,filename:"zero-dev.svg",filesize:2378,url:aE,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fzero-dev\u002F",alt:b,author:m,description:b,caption:b,name:fe,status:h,uploaded_to:c,date:bM,modified:bM,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:aE,"thumbnail-width":a,"thumbnail-height":a,medium:aE,"medium-width":a,"medium-height":a,medium_large:aE,"medium_large-width":a,"medium_large-height":a,large:aE,"large-width":a,"large-height":a,"1536x1536":aE,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":aE,"2048x2048-width":a,"2048x2048-height":a,"medium-size":aE,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"https:\u002F\u002Fzerodev.app\u002F"},{company_name:"zkSpin",square_logo:{ID:ff,id:ff,title:"zkSpin Logo - Justin Zhang",filename:"zkSpin-Logo-Justin-Zhang.svg",filesize:4206,url:aF,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fzkspin-logo-justin-zhang\u002F",alt:b,author:v,description:b,caption:b,name:"zkspin-logo-justin-zhang",status:h,uploaded_to:c,date:fg,modified:fg,menu_order:c,mime_type:k,type:i,subtype:l,icon:j,width:c,height:c,sizes:{thumbnail:aF,"thumbnail-width":a,"thumbnail-height":a,medium:aF,"medium-width":a,"medium-height":a,medium_large:aF,"medium_large-width":a,"medium_large-height":a,large:aF,"large-width":a,"large-height":a,"1536x1536":aF,"1536x1536-width":a,"1536x1536-height":a,"2048x2048":aF,"2048x2048-width":a,"2048x2048-height":a,"medium-size":aF,"medium-size-width":a,"medium-size-height":a}},full_logo:f,x:b,linkedin:b,website:"http:\u002F\u002Fwww.zkspin.xyz"}];dd.cta_background={ID:fh,id:fh,title:fi,filename:"cta-backgrtound.png",filesize:509739,url:cB,link:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fcta-backgrtound\u002F",alt:b,author:m,description:b,caption:b,name:fi,status:h,uploaded_to:c,date:fj,modified:fj,menu_order:c,mime_type:cm,type:i,subtype:dy,icon:j,width:cC,height:cD,sizes:{thumbnail:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcta-backgrtound-150x150.png","thumbnail-width":O,"thumbnail-height":O,medium:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcta-backgrtound-300x142.png","medium-width":aT,"medium-height":142,medium_large:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcta-backgrtound-768x365.png","medium_large-width":768,"medium_large-height":365,large:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcta-backgrtound-1024x486.png","large-width":bN,"large-height":486,"1536x1536":cB,"1536x1536-width":cC,"1536x1536-height":cD,"2048x2048":cB,"2048x2048-width":cC,"2048x2048-height":cD,"medium-size":"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcta-backgrtound-600x400.png","medium-size-width":600,"medium-size-height":dz}};dd.cta_eyebrow=b;dd.cta_title=b;dd.cta_description=b;dd.cta_button=b;dd.csx_subscription_placeholder="Enter your email";dd.csx_subscription_button_text="subscribe for updates";dd.csx_subscription_thank_you="You're subscribed!";dd.vo_form_disclosure="\u003Cp\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to purchase or sell any asset. An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund.\u003C\u002Fp\u003E\n\u003Cp\u003ECertain information contained herein has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. Links may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fp\u003E\n";dd.analytics_code_header=b;dd.banner=f;dd.banner_copy="Crypto is on the ballot. Go here for more election resources";dd.banner_link={title:b,url:"https:\u002F\u002Fwww.standwithcrypto.org\u002Fvote",target:b};dd.csx_applications_open_date="01\u002F01\u002F2025 12:00 am";dd.csx_applications_close_date="07\u002F02\u002F2025 12:00 am";df[0]={title:"Jobs",link:"\u002Fjobs\u002Fcompanies\u002F"};df[1]={title:"Announcements",link:"\u002Fposts\u002Ftags\u002Fannouncements"};df[2]={title:"Legal",link:"\u002Flegal"};df[3]={title:"Sitemap",link:"\u002Fsitemap"};df[4]={title:"a16z.com",link:"https:\u002F\u002Fa16z.com"};dg[0]={title:"Twitter",link:"https:\u002F\u002Ftwitter.com\u002Fa16zcrypto"};dg[1]={title:"GitHub",link:"https:\u002F\u002Fgithub.com\u002Fa16z"};dg[2]={title:"YouTube",link:"https:\u002F\u002Fwww.youtube.com\u002Fchannel\u002FUCTHq3W46BiAYjKUYZq2qm-Q"};dg[3]={title:"Farcaster",link:"https:\u002F\u002Fwarpcast.com\u002Fa16zcrypto"};dg[4]={title:"LinkedIn",link:"https:\u002F\u002Fwww.linkedin.com\u002Fshowcase\u002Fa16zcrypto\u002F?viewAsMember=true"};dg[5]={title:"Instagram",link:"https:\u002F\u002Fwww.instagram.com\u002Fa16zcrypto\u002F"};dh[0]={title:"Apple Music",link:"https:\u002F\u002Fpodcasts.apple.com\u002Fus\u002Fpodcast\u002Fweb3-with-a16z-crypto\u002Fid1622312549"};dh[1]={title:"Spotify",link:"https:\u002F\u002Fopen.spotify.com\u002Fshow\u002F7pMZvsNXEnb0CYcPiDQywE"};dh[2]={title:"Amazon Music",link:"https:\u002F\u002Fmusic.amazon.com\u002Fpodcasts\u002Fc8e9bb85-11da-4498-ac00-9288f493f6db\u002Fweb3-with-a16z-crypto"};dh[3]={title:"Overcast",link:"https:\u002F\u002Fovercast.fm\u002Flogin"};dh[4]={title:"Stitcher",link:"https:\u002F\u002Fwww.stitcher.com\u002Fshow\u002Fweb3-with-a16z"};dh[5]={title:"IHeartRadio",link:"https:\u002F\u002Fwww.iheart.com\u002Fpodcast\u002F1168-web3-with-a16z-96501686\u002F"};dh[6]={title:"Pocket Casts",link:"https:\u002F\u002Fpca.st\u002F4ghx22vk"};fA.title=n;fA.slug=n;fA.featured_posts=d;return {data:[{taxonomiesKeys:["themes","focus-areas","series","departments","locations","stages","industries","tags","formats"],isTaxonomy:cd,parsely:void 0}],fetch:{"data-v-73085de4:0":{fixedHeader:f,debounce:d,searching:f,settings:dd,mainMenu:[{ID:fk,post_author:bO,post_date:aU,post_date_gmt:fl,post_content:b,post_title:fm,post_excerpt:b,post_status:z,comment_status:x,ping_status:x,post_password:b,post_name:"about-2",to_ping:b,pinged:b,post_modified:aU,post_modified_gmt:cE,post_content_filtered:b,post_parent:c,guid:"https:\u002F\u002Fa16zcrypto.approvemyviews.com\u002F?p=4821",menu_order:a,post_type:aM,post_mime_type:b,comment_count:q,filter:e,db_id:fk,menu_item_parent:q,object_id:"92",object:bm,type:bn,type_label:bo,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fabout\u002F",title:fm,target:b,attr_title:b,description:b,classes:[b],xfn:b},{ID:fn,post_author:bO,post_date:aU,post_date_gmt:fl,post_content:b,post_title:fo,post_excerpt:b,post_status:z,comment_status:x,ping_status:x,post_password:b,post_name:"portfolio-2",to_ping:b,pinged:b,post_modified:aU,post_modified_gmt:cE,post_content_filtered:b,post_parent:c,guid:"https:\u002F\u002Fa16zcrypto.approvemyviews.com\u002F?p=4822",menu_order:bP,post_type:aM,post_mime_type:b,comment_count:q,filter:e,db_id:fn,menu_item_parent:q,object_id:"94",object:bm,type:bn,type_label:bo,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fportfolio\u002F",title:fo,target:b,attr_title:b,description:b,classes:[b],xfn:b},{ID:fp,post_author:"1",post_date:aU,post_date_gmt:"2023-01-26 15:42:16",post_content:b,post_title:fq,post_excerpt:b,post_status:z,comment_status:x,ping_status:x,post_password:b,post_name:"content",to_ping:b,pinged:b,post_modified:aU,post_modified_gmt:cE,post_content_filtered:b,post_parent:c,guid:"https:\u002F\u002Fa16z.netlify.app\u002F?p=3770",menu_order:fr,post_type:aM,post_mime_type:b,comment_count:q,filter:e,db_id:fp,menu_item_parent:q,object_id:"3770",object:bQ,type:bQ,type_label:fs,title:fq,url:"\u002Fposts\u002F",target:b,attr_title:b,description:b,classes:[b],xfn:b},{ID:ft,post_author:bO,post_date:aG,post_date_gmt:"2023-02-23 07:58:30",post_content:b,post_title:bx,post_excerpt:b,post_status:z,comment_status:x,ping_status:x,post_password:b,post_name:bx,to_ping:b,pinged:b,post_modified:aG,post_modified_gmt:bR,post_content_filtered:b,post_parent:c,guid:"https:\u002F\u002Fa16zcrypto.approvemyviews.com\u002F?p=4823",menu_order:4,post_type:aM,post_mime_type:b,comment_count:q,filter:e,db_id:ft,menu_item_parent:q,object_id:"117",object:bm,type:bn,type_label:bo,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fpolicy\u002F",title:bx,target:b,attr_title:b,description:b,classes:[b],xfn:b},{ID:fu,post_author:cF,post_date:aG,post_date_gmt:"2023-02-27 23:58:17",post_content:b,post_title:u,post_excerpt:b,post_status:z,comment_status:x,ping_status:x,post_password:b,post_name:u,to_ping:b,pinged:b,post_modified:aG,post_modified_gmt:bR,post_content_filtered:b,post_parent:c,guid:"https:\u002F\u002Fa16z.netlify.app\u002F?p=6202",menu_order:5,post_type:aM,post_mime_type:b,comment_count:q,filter:e,db_id:fu,menu_item_parent:q,object_id:"107",object:bm,type:bn,type_label:bo,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fresearch\u002F",title:u,target:b,attr_title:b,description:b,classes:[b],xfn:b},{ID:fv,post_author:bO,post_date:aG,post_date_gmt:"2023-02-23 07:56:09",post_content:b,post_title:fw,post_excerpt:b,post_status:z,comment_status:x,ping_status:x,post_password:b,post_name:"4820",to_ping:b,pinged:b,post_modified:aG,post_modified_gmt:bR,post_content_filtered:b,post_parent:c,guid:"https:\u002F\u002Fa16zcrypto.approvemyviews.com\u002F?p=4820",menu_order:w,post_type:aM,post_mime_type:b,comment_count:q,filter:e,db_id:fv,menu_item_parent:q,object_id:"113",object:bm,type:bn,type_label:bo,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Faccelerator\u002F",title:fw,target:b,attr_title:b,description:b,classes:[b],xfn:b},{ID:fx,post_author:cF,post_date:aG,post_date_gmt:"2024-03-28 21:35:16",post_content:b,post_title:fy,post_excerpt:b,post_status:z,comment_status:x,ping_status:x,post_password:b,post_name:"state-of-crypto",to_ping:b,pinged:b,post_modified:aG,post_modified_gmt:bR,post_content_filtered:b,post_parent:c,guid:"https:\u002F\u002Fapi.a16zcrypto.com\u002F?p=10280",menu_order:fz,post_type:aM,post_mime_type:b,comment_count:q,filter:e,db_id:fx,menu_item_parent:q,object_id:"10280",object:bQ,type:bQ,type_label:fs,title:fy,url:"https:\u002F\u002Fa16zcrypto.com\u002Fstateofcryptoindex\u002F",target:b,attr_title:b,description:b,classes:[b],xfn:b}],contentSlideoutOpen:f},"data-v-0d1bf34e:0":{selectedFormats:[],showFilter:f,term:fA,tags:[{title:"AI &amp; crypto",slug:"ai-crypto",featured_posts:d},{title:fB,slug:fB,featured_posts:d},{title:"AMMs",slug:"amms",featured_posts:d},{title:"anatomy of a hack",slug:"anatomy-of-a-hack",featured_posts:d},{title:fC,slug:fC,featured_posts:d},{title:"annual Big Ideas",slug:"annual-big-ideas",featured_posts:d},{title:cG,slug:cH,featured_posts:d},{title:bp,slug:bq,featured_posts:d},{title:fD,slug:fD,featured_posts:d},{title:"BFT",slug:"bfts-byzantine-fault-tolerance",featured_posts:d},{title:fE,slug:fE,featured_posts:d},{title:"brand &amp; marketing",slug:"brand-marketing",featured_posts:d},{title:"business strategy",slug:"business-strategy-for-web3",featured_posts:d},{title:"choosing infrastructure",slug:"choosing-infrastructure",featured_posts:d},{title:"comment letters &amp; amicus briefs",slug:"comment-letters",featured_posts:d},{title:"community building",slug:"community-management",featured_posts:d},{title:fF,slug:fF,featured_posts:d},{title:"compliance &amp; illicit finance",slug:"compliance-illicit-finance",featured_posts:d},{title:fG,slug:fG,featured_posts:d},{title:fH,slug:fH,featured_posts:d},{title:"creator economy",slug:"creator-economy",featured_posts:d},{title:"crypto basics",slug:"crypto-basics-explainers-primers-101",featured_posts:d},{title:"Crypto Startup Accelerator (CSX)",slug:"crypto-startup-accelerator-csx",featured_posts:d},{title:aV,slug:aV,featured_posts:d},{title:"CSX 2020",slug:"csx-2020",featured_posts:d},{title:"CSX 2023",slug:"csx-2023",featured_posts:d},{title:"CSX 2024 (London)",slug:"csx-2024",featured_posts:d},{title:"CSX 2024 (NYC)",slug:"csx-2024-2",featured_posts:d},{title:"CSX 2025 (SF)",slug:"csx-2025-sf",featured_posts:d},{title:fI,slug:fI,featured_posts:d},{title:fJ,slug:fJ,featured_posts:d},{title:"DAGs",slug:"dags-directed-acylic-graphs",featured_posts:d},{title:fK,slug:fK,featured_posts:d},{title:"DAOs",slug:"daos",featured_posts:d},{title:"data availability",slug:"data-availabililty",featured_posts:d},{title:"data insights",slug:"data-insights",featured_posts:d},{title:fL,slug:fL,featured_posts:d},{title:bB,slug:bB,featured_posts:d},{title:"decentralization how-to",slug:"decentralization-how-to",featured_posts:d},{title:"decentralized media &amp; entertainment",slug:"media-entertainment",featured_posts:d},{title:"DeFi",slug:"defi",featured_posts:d},{title:"DePIN",slug:"depin",featured_posts:d},{title:"DeSci",slug:"desci",featured_posts:d},{title:"design &amp; user experience",slug:"ux-design-user-experience",featured_posts:d},{title:"developer experience &amp; tooling",slug:"developer-experience-tooling",featured_posts:d},{title:"digital assets",slug:"digital-assets",featured_posts:d},{title:"DUNA",slug:"duna",featured_posts:d},{title:aW,slug:aW,featured_posts:d},{title:br,slug:bs,featured_posts:d},{title:"FAQ",slug:"faq",featured_posts:d},{title:"FHE (fully homomorphic encryption)",slug:"fhe",featured_posts:d},{title:"field notes",slug:"field-notes",featured_posts:d},{title:"formal verification",slug:"formal-verification",featured_posts:d},{title:"founder stories",slug:"founder-stories",featured_posts:d},{title:"Founders Summit 2022",slug:"founders-summit-2022",featured_posts:d},{title:"Founders Summit 2023",slug:"founders-summit-2023",featured_posts:d},{title:fM,slug:fM,featured_posts:d},fA,{title:"glossaries &amp; terminology",slug:"glossaries-terminology",featured_posts:d},{title:"go-to-market",slug:"go-to-market-gtm",featured_posts:d},{title:fN,slug:fN,featured_posts:d},{title:fO,slug:fO,featured_posts:d},{title:"governance best practices",slug:"governance-best-practices",featured_posts:d},{title:"government agencies",slug:"government-agencies",featured_posts:d},{title:"guest posts",slug:"guest-posts",featured_posts:d},{title:"Halmos",slug:"halmos",featured_posts:d},{title:fP,slug:fP,featured_posts:d},{title:"hiring &amp; recruiting",slug:"hiring",featured_posts:d},{title:fQ,slug:fQ,featured_posts:d},{title:"how innovation happens",slug:"how-innovation-happens",featured_posts:d},{title:"identity &amp; reputation",slug:"decentralized-identity-reputation-pseudonymity-anonymity",featured_posts:d},{title:fR,slug:fR,featured_posts:d},{title:"innovation ecosystems",slug:"innovation-ecosystems",featured_posts:d},{title:fS,slug:fS,featured_posts:d},{title:"IP",slug:"ip-intellectual-property",featured_posts:d},{title:"Lasso + Jolt",slug:"lasso-jolt",featured_posts:d},{title:"legal best practices",slug:"legal-best-practices",featured_posts:d},{title:"licensing",slug:"licensing-licenses",featured_posts:d},{title:"light clients",slug:"light-client",featured_posts:d},{title:fT,slug:fT,featured_posts:d},{title:"LVR",slug:"lvr",featured_posts:d},{title:"Machiavelli for DAOs series",slug:"machiavelli-for-daos-series",featured_posts:d},{title:"machine learning",slug:"machine-learning",featured_posts:d},{title:"marketplaces",slug:"marketplaces-platforms",featured_posts:d},{title:"mechanism design",slug:"mechanism-design",featured_posts:d},{title:"mental models &amp; frameworks",slug:"mental-models-frameworks",featured_posts:d},{title:fU,slug:fU,featured_posts:d},{title:"metrics &amp; measures",slug:"metrics-measures",featured_posts:d},{title:cI,slug:cJ,featured_posts:d},{title:"multi-client diversity",slug:"multi-client-diversity",featured_posts:d},{title:"network effects",slug:"network-effects",featured_posts:d},{title:"newsletters",slug:"newsletter",featured_posts:d},{title:bt,slug:bu,featured_posts:d},{title:"offline to online",slug:"offline-to-online",featured_posts:d},{title:"op-eds",slug:"op-ed-opinion-arguments",featured_posts:d},{title:aN,slug:aO,featured_posts:d},{title:"partnerships &amp; sales",slug:"partnerships-sales",featured_posts:d},{title:"PCNs",slug:"payment-channel-network-pcns",featured_posts:d},{title:"people practices &amp; HR",slug:"hr-people-practices",featured_posts:d},{title:"pitching investors",slug:"pitch-investors",featured_posts:d},{title:fV,slug:fV,featured_posts:d},{title:cK,slug:cK,featured_posts:d},{title:aX,slug:aX,featured_posts:d},{title:fW,slug:fW,featured_posts:d},{title:"product-market fit",slug:"product-market-fit",featured_posts:d},{title:aY,slug:aY,featured_posts:d},{title:"progressive decentralization",slug:"progressive-decentralization",featured_posts:d},{title:"proof of stake",slug:"proof-of-stake",featured_posts:d},{title:"proof of unique personhood",slug:"proof-of-unique-personhood",featured_posts:d},{title:"proof of work",slug:"proof-of-work",featured_posts:d},{title:"proposer-builder separation",slug:"proposer-builder-separation",featured_posts:d},{title:"Q&amp;As",slug:"qas",featured_posts:d},{title:"quantum computing &amp; post-quantum crypto",slug:"quantum-post-quantum-crypto",featured_posts:d},{title:"regulatory know-how",slug:"regulatory-know-how",featured_posts:d},{title:"regulatory updates",slug:"regulatory-updates-roundups-recaps",featured_posts:d},{title:"release notes",slug:"release-notes",featured_posts:d},{title:u,slug:u,featured_posts:d},{title:fX,slug:fX,featured_posts:d},{title:fY,slug:fY,featured_posts:d},{title:fZ,slug:fZ,featured_posts:d},{title:f_,slug:f_,featured_posts:d},{title:"scaling &amp; throughput",slug:"scaling",featured_posts:d},{title:bE,slug:bE,featured_posts:d},{title:"security best practices",slug:"security-best-practices",featured_posts:d},{title:f$,slug:f$,featured_posts:d},{title:bv,slug:bw,featured_posts:d},{title:cL,slug:cM,featured_posts:d},{title:"SoC",slug:"soc",featured_posts:d},{title:"SoC 2024",slug:"soc-2024",featured_posts:d},{title:"social networks",slug:"social-networks",featured_posts:d},{title:ga,slug:ga,featured_posts:d},{title:cN,slug:cO,featured_posts:d},{title:gb,slug:gb,featured_posts:d},{title:"State of Crypto 2022",slug:"state-of-crypto-2022",featured_posts:d},{title:"State of Crypto 2023",slug:"state-of-crypto-2023",featured_posts:d},{title:"State of Crypto 2024",slug:"state-of-crypto-2024",featured_posts:d},{title:"tax policy",slug:"tax-policy",featured_posts:d},{title:"TEEs (trusted execution environment)",slug:"tees",featured_posts:d},{title:"The Merge series",slug:"the-merge-series",featured_posts:d},{title:"token design",slug:"token-design",featured_posts:d},{title:"token launch playbook",slug:"token-launch-playbook",featured_posts:d},{title:gc,slug:gc,featured_posts:d},{title:"UK",slug:"uk",featured_posts:d},{title:"VDFs",slug:"vdfs-verifiable-delay-functions",featured_posts:d},{title:G,slug:G,featured_posts:d},{title:"Voices Onchain",slug:"voices-onchain",featured_posts:d},{title:gd,slug:gd,featured_posts:d},{title:"VR",slug:"vr",featured_posts:d},{title:ge,slug:ge,featured_posts:d},{title:"web2 to web3",slug:"web2-to-web3",featured_posts:d},{title:"what we're reading",slug:"what-were-reading",featured_posts:d},{title:bC,slug:bD,featured_posts:[2976]}],formats:[{title:A,slug:r,featured_posts:d},{title:gf,slug:gf,featured_posts:d},{title:"papers",slug:"papers-journals-whitepapers",featured_posts:d},{title:"podcasts",slug:cK,featured_posts:d},{title:y,slug:y,featured_posts:d}],allPosts:[{ID:12544,post_author:gg,post_date:"2024-10-11 08:08:58",post_date_gmt:"2024-10-11 15:08:58",post_content:b,post_title:"Does your blockchain need multidimensional fees?",post_excerpt:b,post_status:z,comment_status:B,ping_status:B,post_password:b,post_name:"does-your-blockchain-need-multidimensional-fees",to_ping:b,pinged:b,post_modified:"2025-01-29 12:33:57",post_modified_gmt:"2025-01-29 20:33:57",post_content_filtered:b,post_parent:c,guid:"https:\u002F\u002Fapi.a16zcrypto.com\u002F?p=12544",menu_order:c,post_type:aZ,post_mime_type:b,comment_count:q,filter:e,taxonomies:[{term_id:gh,name:cP,slug:"cap-noam-nisan",term_group:c,term_taxonomy_id:gh,taxonomy:I,description:"Noam Nisan Noam Nisan noam-nisan 12546 ",parent:c,count:a,filter:e},{term_id:o,name:n,slug:n,term_group:c,term_taxonomy_id:o,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:F,name:u,slug:u,term_group:c,term_taxonomy_id:F,taxonomy:t,description:b,parent:c,count:bj,filter:e},{term_id:aH,name:G,slug:G,term_group:c,term_taxonomy_id:aH,taxonomy:g,description:b,parent:c,count:H,filter:e},{term_id:C,name:y,slug:y,term_group:c,term_taxonomy_id:C,taxonomy:s,description:b,parent:c,count:H,filter:e}],acf:{format:{term_id:C,name:y,slug:y,term_group:c,term_taxonomy_id:C,taxonomy:s,description:b,parent:c,count:H,filter:e},custom_title:b,redirect_author_links_to_the_post:f,post_redirector:f,content:[{acf_fc_layout:a_,paragraph:"\u003Cp\u003EThe design of a transaction fee mechanism for a Blockchain starts with the question of specifying exactly the resources that the transactions compete over and need to pay for. While having a single “gas&#8217;” measure that aggregates all resources into a single dimension is simple and convenient, it’s worth considering different resources separately, leading to, so-called multidimensional fees.\u003C\u002Fp\u003E\n\u003Cp\u003ENoam Nisan (Hebrew University) begins by making the distinction between easy dimensions of fees that do not represent congestion within a single block and hard dimensions that represent resources that may get congested within a block. The former are easily handled by minimum prices, while the latter are difficult to handle. He provides two simple results: (1) how long-term capacity constraints (such as state size) may be handled as easy dimensions using a simple EIP-1559-like pricing dynamic; and (2) a method of estimating the loss of efficiency that can be caused by folding all hard dimensions into a single easy-to-handle gas measure.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ciframe loading=\"lazy\" title=\"Does your blockchain need multidimensional fees? with Noam Nisan | a16z crypto research talks\" width=\"500\" height=\"281\" src=\"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002FMdNBbRpEiFw?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen\u003E\u003C\u002Fiframe\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EAbout the presenter \u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ENoam is a Professor of Computer Science at the Hebrew University of Jerusalem and is a member of the Israeli Academy of Sciences and Humanities. He is a principal researcher in the blockchain company Starkware and has previously served as a researcher in Microsoft and in Google. Noam has published several books and over one hundred research papers on Computational Complexity and on Economics and Computation. Among his awards are the Gödel Prize, the Knuth Award, the EATCS prize, the Rothschild Prize, and the ACM SigEcom Lifetime achievement award.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EAbout a16z crypto research \u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003Ea16z crypto research is a multidisciplinary lab that works closely with our portfolio companies and others toward solving the important problems in the space, and toward advancing the science and technology of the next generation of the internet. More about us: a16z.com\u002F2022\u002F04\u002F21\u002Fannouncing-a16z-crypto-research\u003C\u002Fp\u003E\n"}],related_posts:a$,disclosure_relation:f},tags:[{term_id:o,name:n,slug:n,term_group:c,term_taxonomy_id:o,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:aH,name:G,slug:G,term_group:c,term_taxonomy_id:aH,taxonomy:g,description:b,parent:c,count:H,filter:e}],post_thumbnail:b,post_thumbnail_small:b,post_images:[],authors:[{ID:"12546",display_name:"Noam Nisan",first_name:"Noam",last_name:"Nisan",user_login:cP,user_email:b,linked_account:b,website:b,description:b,user_nicename:cP,type:J,nickname:b}],meta_desc:b,seo:{title_tag:gi,meta_description:b,canonical:gj,robots:{index:ba,follow:bb,"max-snippet":bc,"max-image-preview":bd,"max-video-preview":be},open_graph_locale:bf,open_graph_type:r,open_graph_title:gi,open_graph_description:b,open_graph_url:gj,open_graph_images:[],open_graph_site_name:bg,estimated_reading_time_minutes:bP,twitter_card:bh,twitter_title:b,twitter_description:b,twitter_image:b,open_graph_article_published_time:"2024-10-11T15:08:58+00:00"},format:{term_id:C,name:y,slug:y,term_group:c,term_taxonomy_id:C,taxonomy:s,description:b,parent:c,count:H,filter:e},template:b,disclosure:f},{ID:8954,post_author:gg,post_date:"2023-09-26 07:28:06",post_date_gmt:"2023-09-26 14:28:06",post_content:b,post_title:"All About That Gas",post_excerpt:b,post_status:z,comment_status:B,ping_status:B,post_password:b,post_name:"all-about-that-gas",to_ping:b,pinged:b,post_modified:"2025-01-29 12:36:52",post_modified_gmt:"2025-01-29 20:36:52",post_content_filtered:b,post_parent:c,guid:"https:\u002F\u002Fa16zcrypto.com\u002F?p=8954",menu_order:c,post_type:aZ,post_mime_type:b,comment_count:q,filter:e,taxonomies:[{term_id:gk,name:cQ,slug:"cap-abdou-ndiaye",term_group:c,term_taxonomy_id:gk,taxonomy:I,description:"Abdou Ndiaye   abdou-ndiaye 4716 ",parent:c,count:fr,filter:e},{term_id:bS,name:aW,slug:aW,term_group:c,term_taxonomy_id:bS,taxonomy:g,description:b,parent:c,count:gl,filter:e},{term_id:o,name:n,slug:n,term_group:c,term_taxonomy_id:o,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:F,name:u,slug:u,term_group:c,term_taxonomy_id:F,taxonomy:t,description:b,parent:c,count:bj,filter:e},{term_id:aH,name:G,slug:G,term_group:c,term_taxonomy_id:aH,taxonomy:g,description:b,parent:c,count:H,filter:e},{term_id:C,name:y,slug:y,term_group:c,term_taxonomy_id:C,taxonomy:s,description:b,parent:c,count:H,filter:e}],acf:{format:{term_id:C,name:y,slug:y,term_group:c,term_taxonomy_id:C,taxonomy:s,description:b,parent:c,count:H,filter:e},custom_title:b,redirect_author_links_to_the_post:f,post_redirector:f,content:[{acf_fc_layout:a_,paragraph:"\u003Cp\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003EBuilding on his overview of how to design incentive structures when the network of validators incurs a social cost, Abdou Ndiaye (NYU) examines relative pricing of blockchain resources and highlights the role of various elasticities. Abdou discusses needed adjustments to Ethereum&#8217;s EIP-1559 transaction fee mechanism. He also presents new ideas on the economics of storage on blockchains, and execution mechanisms to limit congestion. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003EFor background, see Abdou&#8217;s \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=4GKMqG_QmOc&amp;t=0s\" target=\"_blank\" rel=\"noopener\"\u003Efirst presentation\u003C\u002Fa\u003E from summer &#8217;22.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ciframe loading=\"lazy\" title=\"All About That Gas with Abdou Ndiaye | a16z crypto research talks\" width=\"500\" height=\"281\" src=\"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002FbarxKtDF5i0?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen\u003E\u003C\u002Fiframe\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003EAbout the speaker \u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003EAbdou is an Assistant Professor of Economics at New York University, Leonard N. Stern School of Business, and a Research Affiliate at the Centre for Economic Policy Research. His research focuses on the impact of incentives in macroeconomic environments. He investigates issues related to public finance and the emerging areas of blockchains and decentralized finance. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003EAbout a16z crypto research \u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan class=\"yt-core-attributed-string--link-inherit-color\"\u003Ea16z crypto research is a multidisciplinary lab that works closely with our portfolio companies and others toward solving the important problems in the space, and toward advancing the science and technology of the next generation of the internet.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n"}],related_posts:a$,disclosure_relation:f},tags:[{term_id:bS,name:aW,slug:aW,term_group:c,term_taxonomy_id:bS,taxonomy:g,description:b,parent:c,count:gl,filter:e},{term_id:o,name:n,slug:n,term_group:c,term_taxonomy_id:o,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:aH,name:G,slug:G,term_group:c,term_taxonomy_id:aH,taxonomy:g,description:b,parent:c,count:H,filter:e}],post_thumbnail:b,post_thumbnail_small:b,post_images:[],authors:[{ID:"4716",display_name:"Abdou Ndiaye",first_name:b,last_name:b,user_login:cQ,user_email:b,linked_account:b,website:b,description:b,user_nicename:cQ,type:J,nickname:b}],meta_desc:cR,seo:{title_tag:gm,meta_description:cR,canonical:gn,robots:{index:ba,follow:bb,"max-snippet":bc,"max-image-preview":bd,"max-video-preview":be},open_graph_locale:bf,open_graph_type:r,open_graph_title:gm,open_graph_description:cR,open_graph_url:gn,open_graph_images:[],open_graph_site_name:bg,estimated_reading_time_minutes:c,twitter_card:bh,twitter_title:b,twitter_description:b,twitter_image:b,open_graph_article_published_time:"2023-09-26T14:28:06+00:00"},format:{term_id:C,name:y,slug:y,term_group:c,term_taxonomy_id:C,taxonomy:s,description:b,parent:c,count:H,filter:e},template:b,disclosure:f},{ID:2930,post_author:go,post_date:gp,post_date_gmt:gp,post_content:"\u003Cp\u003EGas golfing plays an important role in smart contract engineering. Not only is it a fun and challenging task, but it saves valuable blockspace. So, when \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0x_Beans?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor\"\u003E0xBeans\u003C\u002Fa\u003E launched the gas-golfing challenge “I Am The Optimizor” — we joined in.\u003C\u002Fp\u003E\n\u003Cp\u003EFor the uninitiated, contestants (smart contract engineers and teams) compete to write a contract that solves the classic \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002F3SUM\"\u003E3Sum\u003C\u002Fa\u003E problem. Contracts are scored by the sum of their gas usage and size. Those with the lowest score steal a special NFT from previous winners  — “a trophy that has only ever been held by those that have been blessed by the optimizor gods,” at least according to the \u003Ca href=\"https:\u002F\u002Fopensea.io\u002Fcollection\u002Fi-am-the-optimizor\"\u003EOpenSea description\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ESo far, the NFT has been claimed by 16 such optimizors — including, most recently, the authors of this post. We outlined the process in a couple of Twitter threads (\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FNoahCitron\u002Fstatus\u002F1580359718341484544?s=20&amp;t=TdoaTCrQc9sS6WeoeWLtow\"\u003Ehere\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fmg_486662\u002Fstatus\u002F1580359800746954753?s=20&amp;t=TdoaTCrQc9sS6WeoeWLtow\"\u003Ehere\u003C\u002Fa\u003E), but now we’d like to take a deeper dive into how our solution works. We’ll also cover some of the other approaches we built on, and a few unconventional optimizations we used.\u003C\u002Fp\u003E\n\u003Cdiv id=\"attachment_2298\" style=\"width: 810px\" class=\"wp-caption aligncenter\"\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" aria-describedby=\"caption-attachment-2298\" class=\"wp-image-2298\" src=\"https:\u002F\u002Fa16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-13.png\" alt=\"the optimizor nft is an anime-style character crying, with gas pumps encircling his pupils\" width=\"800\" height=\"688\" \u002F\u003E\u003Cp id=\"caption-attachment-2298\" class=\"wp-caption-text\"\u003E\u003Cem\u003EThe coveted \u003Ca href=\"https:\u002F\u002Fopensea.io\u002Fcollection\u002Fi-am-the-optimizor\"\u003EOPTIMIZOR NFT.\u003C\u002Fa\u003E Note the gas pumps and tanks encircling the character&#8217;s pupils.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Ch2\u003E[toc-embed]The game: how the challenge works\u003C\u002Fh2\u003E\n\u003Cp\u003EThe \u003Ca href=\"https:\u002F\u002Fgithub.com\u002F0xBeans\u002FIAmTheOptimizor\"\u003Echallenge itself\u003C\u002Fa\u003E is a simple optimizer-themed “\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0x_Beans\u002Fstatus\u002F1568661118259982336\"\u003Eking of the hill\u003C\u002Fa\u003E” game, where players must write smart contracts that adhere to the IPlayer interface, with the goal of using the least amount of gas and having the smallest bytecode size.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-2312\" src=\"https:\u002F\u002Fa16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fcarbon-16.png\" alt=\"\" width=\"800\" height=\"456\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EThe challenge contract allows contestants to call the \u003Ccode\u003Eclaim\u003C\u002Fcode\u003E function, passing in the address of their player contract, and then performs two actions: First, it calls the \u003Ccode\u003Eowner\u003C\u002Fcode\u003E function on the player contract, ensuring that it returns the same address that originally called the \u003Ccode\u003Eclaim\u003C\u002Fcode\u003E function (and resulting in a harder challenge with much more interesting solutions). Next, it generates a random \u003Ccode\u003EinputArr\u003C\u002Fcode\u003E and selects a target \u003Ccode\u003Esum\u003C\u002Fcode\u003E parameter.\u003C\u002Fp\u003E\n\u003Cp\u003EThese values are passed to the player contract through the \u003Ccode\u003Esolve\u003C\u002Fcode\u003E function. The player must then correctly calculate the three unique elements in \u003Ccode\u003EinputArr\u003C\u002Fcode\u003E that add up to \u003Ccode\u003Esum\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is the classic 3Sum problem, which many of you may remember from computer science courses and coding interviews; for many students, it is one of the first non-obvious programming problems they encounter.\u003C\u002Fp\u003E\n\u003Cp\u003EThe contracts are scored based on the sum of their bytecode size and the gas used to call the \u003Ccode\u003Esolve\u003C\u002Fcode\u003E function. The lowest score wins.\u003C\u002Fp\u003E\n\u003Ch2\u003E[toc-embed]The plays: approaches, plans, and techniques\u003C\u002Fh2\u003E\n\u003Cp\u003EContestants quickly created some impressive contracts.\u003C\u002Fp\u003E\n\u003Cp\u003ENaturally, many of these solutions didn’t solve the 3Sum problem at all. Instead, they gamed the contract’s randomness (very efficiently!) by predicting the solution and deploying a contract that returns it. Contestants accomplished this by returning hard-coded values and attempting to submit them as a flashbots bundle every block. By default, flashbots does not allow reverting transactions, so if a player’s contract didn’t happen across an efficient solution, their transaction wouldn’t make it into a block. But if they got lucky, and their solution matched the randomly generated one, then their transaction was included — and they became the optimizer.\u003C\u002Fp\u003E\n\u003Cp\u003EThe second, less obvious, approach was to make the contract branchless. When calling a smart contract, the function to call is specified by prepending a specific 4-byte sequence called the selector to the beginning of the transaction calldata. The beginning of most contracts start off with a switch statement that alters the execution flow based on this selector.\u003C\u002Fp\u003E\n\u003Cp\u003EThis process increased the bytecode size and gas usage of submissions (and was thus abandoned by the best contracts) – but it also led to an interesting, though unintuitive, sleight of hand by reading out-of-range calldata: If you read\u003Ccode\u003Ecalldata[0x24..0x44]\u003C\u002Fcode\u003E, it will always return zero when the owner function is called; but will return the second element in the array when the solve function is called. This means by using just a single\u003Ccode\u003ECALLDATALOAD\u003C\u002Fcode\u003E opcode, you can perform a memory manipulation that behaves differently depending on which function was called.\u003C\u002Fp\u003E\n\u003Cp\u003EContracts that made use of this behavior were able to completely remove the initial selector switch. With this trick and some clever combinations of opcodes, contestants could start writing some very efficient contracts and near-perfect solutions. These led us to an idea for a new optimization to add to the mix — one that built on previous techniques, but layered on a new, unconventional optimization.\u003C\u002Fp\u003E\n\u003Cp\u003EThe best contract at the time was quite efficient, but was it \u003Ci\u003Ethe most \u003C\u002Fi\u003Eefficient? Here’s what it looked like:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-2310\" src=\"https:\u002F\u002Fa16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fcarbon-13.png\" alt=\"\" width=\"700\" height=\"563\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EIt seemed unlikely that we’d be able to improve on this, but what if we replaced the \u003Ccode\u003EPUSH2 0x0144\u003C\u002Fcode\u003E with \u003Ccode\u003ECOINBASE\u003C\u002Fcode\u003E? The cost of a \u003Ccode\u003EPUSH2\u003C\u002Fcode\u003E instruction is three gas and three additional bytes to the contract size. This means it contributes six to the total score of the contract. \u003Ccode\u003ECOINBASE\u003C\u002Fcode\u003E, on the other hand, uses two gas and adds just one byte to the contract size for a total score of three. This meant that if we could somehow make \u003Ccode\u003ECOINBASE\u003C\u002Fcode\u003E return 0x0144, we could win by two points.\u003C\u002Fp\u003E\n\u003Cp\u003EOne small problem: \u003Ccode\u003ECOINBASE\u003C\u002Fcode\u003E usually doesn’t return 0x0144. This makes sense, since the coinbase address is the recipient of the block’s transaction fees (usually the block proposer). The \u003Ccode\u003ECOINBASE\u003C\u002Fcode\u003E opcode returns the block&#8217;s coinbase address, which gets set by the Ethereum validator that produces the block. All transaction tips from that block then flow to the coinbase address.\u003C\u002Fp\u003E\n\u003Cp\u003EAnd even if we submitted bundles to flashbots, paying the validator to include the transaction, we would not be able to set the coinbase address. It became clear that we needed to move deeper into the block building infrastructure stack.\u003C\u002Fp\u003E\n\u003Cp\u003EBut before we dive into the approach we took, let&#8217;s look at the current state of proposer-builder separation (PBS):\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n\u003Cdiv id=\"attachment_2309\" style=\"width: 1508px\" class=\"wp-caption aligncenter\"\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" aria-describedby=\"caption-attachment-2309\" class=\"wp-image-2309 size-full\" src=\"https:\u002F\u002Fa16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fmev-boost-integration-overview.png\" alt=\"\" width=\"1498\" height=\"410\" \u002F\u003E\u003Cp id=\"caption-attachment-2309\" class=\"wp-caption-text\"\u003E\u003Cem\u003Esource: \u003Ca href=\"https:\u002F\u002Fdocs.flashbots.net\u002Fflashbots-mev-boost\u002Fintroduction\"\u003Edocs.flashbots.net\u003C\u002Fa\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EPBS is the current mechanism in which MEV is extracted on Ethereum (introduced alongside the switch to proof of stake). In PBS, there are independent network participants called “searchers” who submit bundles of transactions that they want to see included in a specific sequence; “builders” who compose bundles and transactions from the mempool into full execution layer Ethereum blocks; and “relays” who take blocks from builders and forward the most profitable one to the validator that is due to propose on that slot. In previous submissions, the players often acted as searchers, submitting their bundles of transactions to builders for inclusion into a block.\u003C\u002Fp\u003E\n\u003Cp\u003ETo compete in this challenge, we had to move one level deeper into this system — and become block builders ourselves. Block builders compose the entire execution layer block for validators. They run much more complex software than searchers in order to correctly set and compute block parameters. This means they have full control over the block, including the ability to set nearly any field: the state root, logs bloom, receipts root, and, critically, coinbase.\u003C\u002Fp\u003E\n\u003Cp\u003EMost block builders set their own address as the coinbase, and pay the validator by sending them a transaction at the very end of the block. However, why couldn’t we just set the coinbase address to 0x0144, and effectively burn the fees in the block? All we had to do was pay the validator with our own funds rather than the proceeds of the block.\u003C\u002Fp\u003E\n\u003Cp\u003EUnfortunately, that plan didn’t last long. Top competitors submitted a new contract that beat their previous attempt, and made the process of finding a better contract even more difficult (and interesting).\u003C\u002Fp\u003E\n\u003Cp\u003EWas there any way we could still use our coinbase trick? Fortunately, we realized we could combine the coinbase optimization with yet another trick – modifying the gas price.\u003C\u002Fp\u003E\n\u003Cp\u003EHere’s the contract we came up with:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-2311\" src=\"https:\u002F\u002Fa16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fcarbon-14.png\" alt=\"\" width=\"700\" height=\"512\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETo make this contract work, we had to ensure that \u003Ccode\u003EGASPRICE\u003C\u002Fcode\u003E returned 0x0900000000; \u003Ccode\u003ECOINBASE\u003C\u002Fcode\u003E returned 0x24; and \u003Ccode\u003EORIGIN\u003C\u002Fcode\u003E returned an address that began with 0x0n00000000, where n can be any digit between 1 and 8.\u003C\u002Fp\u003E\n\u003Cp\u003EWe could already set the coinbase with our block builder and easily modulate the gas price using the transaction tip, but we still needed to generate 10-nibble vanity addresses from which to originate transactions. This was easy using the famously insecure Profanity address generator. (We’ll leave it as an exercise for the reader to find the private key for those addresses.)\u003C\u002Fp\u003E\n\u003Cp\u003EBut how does the contract work? If you examine the winning transaction’s parameters (which uses \u003Ccode\u003E0x060000000084477daF071d5b34F36a028E8b4506\u003C\u002Fcode\u003E as the sender address), starting with the first case, here is what the stack looks like when the \u003Ccode\u003Eowner\u003C\u002Fcode\u003E function is being called.\u003C\u002Fp\u003E\n\u003Cp\u003EAfter the first four opcodes are executed, the stack looks like this:\u003C\u002Fp\u003E\n\u003Cdiv class=\"horizontal-scroll\"\u003E\u003Cspan class=\"blue\"\u003E00| 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 24\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E01| 00 00 00 00 00 00 00 00 00 00 00 00 06 00 00 00 00 84 47 7d aF 07 1d 5b 34 F3 6a 02 8E 8b 45 06\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E02| 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 24\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E03| 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 09 00 00 00 00\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003ENext, \u003Ccode\u003ECALLDATALOAD\u003C\u002Fcode\u003E consumes the 0x24 from the stack and pushes the 32 bytes of calldata starting at 0x24 onto the stack. Since the \u003Ccode\u003Eowner\u003C\u002Fcode\u003E function only has four bytes of calldata, this action essentially pops 0x24 from the stack and replaces it with 0x00.\u003C\u002Fp\u003E\n\u003Cp\u003EThe next opcode, \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E consumes two elements from the stack, interpreting the top of the stack (0x00) as the memory location and the second item on the stack (the origin address) as the value to store. The next \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E opcode essentially acts as a NOP, as it stores 0x0900000000 at the memory location 0x24.\u003C\u002Fp\u003E\n\u003Cp\u003EFinally, pushing \u003Ccode\u003EMSIZE\u003C\u002Fcode\u003E (0x60) and \u003Ccode\u003ECALLVALUE\u003C\u002Fcode\u003E (0x00) to the stack and then \u003Ccode\u003ERETURN\u003C\u002Fcode\u003E essentially returns these three words to the optimizer contract:\u003C\u002Fp\u003E\n\u003Cdiv class=\"horizontal-scroll\"\u003E\u003Cspan class=\"blue\"\u003E00| 00 00 00 00 00 00 00 00 00 00 00 00 06 00 00 00 00 84 47 7d aF 07 1d 5b 34 F3 6a 02 8E 8b 45 06\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E20| 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 09\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E40| 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EThe first word is our origin address, while the rest is junk data. Fortunately, the optimizer contract only expects a single word back, and checks that it is equal to the original caller. Since we returned the origin address first, we can pass the first test.\u003C\u002Fp\u003E\n\u003Cp\u003ENow, as we go into the solve function, things get a bit more complicated&#8230;\u003C\u002Fp\u003E\n\u003Cp\u003ELike before, after the first four opcodes are executed, the stack looks like this:\u003C\u002Fp\u003E\n\u003Cdiv class=\"horizontal-scroll\"\u003E\u003Cspan class=\"blue\"\u003E00| 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 24\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E01| 00 00 00 00 00 00 00 00 00 00 00 00 06 00 00 00 00 84 47 7d aF 07 1d 5b 34 F3 6a 02 8E 8b 45 06\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E02| 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 24\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E03| 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 09 00 00 00 00\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EThis time, when we use \u003Ccode\u003ECALLDATALOAD\u003C\u002Fcode\u003E, we push the second element of the input array onto the stack. In the case of the winning transaction, this was 0x13. The next opcode, \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E then stores the origin address at the memory location 0x13. This is what the memory looks like at this point:\u003C\u002Fp\u003E\n\u003Cdiv class=\"horizontal-scroll\"\u003E\u003Cspan class=\"blue\"\u003E00| 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 06\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E20| 00 00 00 00 84 47 7d aF 07 1d 5b 34 F3 6a 02 8E 8b 45 06 00 00 00 00 00 00 00 00 00 00 00 00 00\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EAs you can see — because of the strange offset and origin address — the beginning 0x06 part of the address ends up as the first full word in memory. This was just a clever way to prepare our first return value, 0x06.\u003C\u002Fp\u003E\n\u003Cp\u003EThe next \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E stores the gas price (0x0900000000) at location 0x24. This operation therefore ends up covering memory locations 0x24 to 0x38 with zeros, and places 0x09 at location 0x39.\u003C\u002Fp\u003E\n\u003Cp\u003EThe rest of the zeros in the gas price overflow into the next word of memory, which expands the memory and sets 0x40 to 0x60 as all zeros. In effect, this \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E sets our second return value to 0x09 and our third one to 0x00.\u003C\u002Fp\u003E\n\u003Cp\u003EAt this point, our memory looks like this:\u003C\u002Fp\u003E\n\u003Cdiv class=\"horizontal-scroll\"\u003E\u003Cspan class=\"blue\"\u003E00| 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 06\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E20| 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 09\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E40| 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003ENext, \u003Ccode\u003EMSIZE\u003C\u002Fcode\u003E, \u003Ccode\u003ECALLVALUE\u003C\u002Fcode\u003E, and \u003Ccode\u003ERETURN\u003C\u002Fcode\u003E simply returns this data, and satisfies all the requirements of a proper solution (it has three values, all unique, and all between 0 and 9). If we’re lucky, the required sum happens to be equal to the sum of the three provided indexes. In our case, element 0 was 26, element 6 was 12, and element 9 was 15. Together they add up to 53, which was our desired sum, and so we “solved” it.\u003C\u002Fp\u003E\n\u003Ch2\u003E[toc-embed]The proof: understanding the optimal solution\u003C\u002Fh2\u003E\n\u003Cp\u003EAn argument can be made for why this solution may be difficult to beat – barring significant changes to the EVM.\u003C\u002Fp\u003E\n\u003Cp\u003EBold claim, but it gets at some underlying structural dynamics as well with Ethereum. To understand why, let&#8217;s look into the requirements of a valid solution.\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EWe must supply at least 0x60 bytes (three words) of return data\u003C\u002Fli\u003E\n\u003Cli\u003EAll of these values must range between 0-9\u003C\u002Fli\u003E\n\u003Cli\u003EAll of these values must be unique\u003C\u002Fli\u003E\n\u003Cli\u003EWe must have a way to either change the logic between the owner() call and the solve(&#8230;) call or have an address between 0x01 and 0x09\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EWe also need to understand some facts of the EVM.\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E is at least as score (gas + opcode length) efficient at storing memory as all other operations (\u003Ccode\u003ECALLDATACOPY\u003C\u002Fcode\u003E, \u003Ccode\u003EEXTCODECOPY\u003C\u002Fcode\u003E, \u003Ccode\u003ERETURNDATACOPY\u003C\u002Fcode\u003E, and all calls) when operating on less than three words of memory\u003C\u002Fli\u003E\n\u003Cli\u003EThe cheapest way to put a value onto the stack is a two-cost operation (which will add three points to the score)\u003C\u002Fli\u003E\n\u003Cli\u003EThe most efficient logic operations cost three gas, and of those only \u003Ccode\u003ECALLDATALOAD\u003C\u002Fcode\u003E, \u003Ccode\u003ENOT\u003C\u002Fcode\u003E, and \u003Ccode\u003EISZERO\u003C\u002Fcode\u003E have net-zero impact on the stack. All others consume more stack elements than they output\u003C\u002Fli\u003E\n\u003Cli\u003EWe must call \u003Ccode\u003ERETURN\u003C\u002Fcode\u003E at the end of the function\u003C\u002Fli\u003E\n\u003Cli\u003ENone of the precompiled addresses currently work to solve this problem\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003ESince we must return three words of memory (two nonzero), we are required to have at least two \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E opcodes in the solution, and because we’re only setting two words, (1) above tells us the use of \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E here will be at least as efficient as other operations. This gives us the requirement of four stack pushes. We also need at least one \u003Ccode\u003ERETURN\u003C\u002Fcode\u003E opcode which requires another two stack pushes.\u003C\u002Fp\u003E\n\u003Cp\u003EFinally, we need some way to differentiate between \u003Ccode\u003Esolve\u003C\u002Fcode\u003E and \u003Ccode\u003Eowner\u003C\u002Fcode\u003E calls, so there must be at least one logic operator to do so and, using (2) above, it follows that \u003Ccode\u003ECALLDATALOAD\u003C\u002Fcode\u003E is at least as efficient as any other logic operation. This means any solution needs at least two\u003Ccode\u003EMSTORE\u003C\u002Fcode\u003Es, one \u003Ccode\u003ERETURN\u003C\u002Fcode\u003E, one efficient logic operation, and six stack pushing operations. Our solution uses two \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003Es, one \u003Ccode\u003ERETURN\u003C\u002Fcode\u003E, one efficient logic operation, and the six cheapest stack pushing operations. All this amounts to our solution appearing to share the same characteristics as the optimal solution — it will at least tie every other solution.\u003C\u002Fp\u003E\n\u003Cp\u003EOf course, this isn’t a formal proof, but it does give us confidence that our solution can’t technically be bested under current constraints. There is a trivially more efficient solution, but it requires something computationally infeasible: a private key for an address between 0x01 and 0x09. Since this is astronomically unlikely (and it’s the only method we know of) there’s not another way to win the NFT. (That is, in the absence of an EIP that would change the conditions.)\u003C\u002Fp\u003E\n\u003Cp\u003EBuilding this was fun to say the least. Block builders are so new, and there is so much to uncover. For an even deeper dive, take a look at \u003Ca href=\"https:\u002F\u002Fetherscan.io\u002Fblock\u002F15735631\"\u003Ethe block\u003C\u002Fa\u003E or \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fncitron\u002Foptimizer-block-builder\"\u003Ethe block builder that created it\u003C\u002Fa\u003E. There&#8217;s a whole lot going on (over two dozen transactions), but I promise every part of the block plays an important role.\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003Cbr \u002F\u003E\n\u003Cem\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003Cbr \u002F\u003E\n\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n",post_title:"Zero Gas Wasted: Winning the IAmTheOptimizor Challenge",post_excerpt:b,post_status:z,comment_status:B,ping_status:B,post_password:b,post_name:"winning-the-iamtheoptimizor-challenge",to_ping:b,pinged:b,post_modified:"2024-09-09 12:21:39",post_modified_gmt:"2024-09-09 19:21:39",post_content_filtered:b,post_parent:c,guid:"http:\u002F\u002Fcrypto.test\u002Fzero-gas-wasted-winning-the-iamtheoptimizor-challenge-2\u002F",menu_order:c,post_type:aZ,post_mime_type:b,comment_count:q,filter:e,taxonomies:[{term_id:gq,name:cS,slug:"cap-noah-citron",term_group:c,term_taxonomy_id:gq,taxonomy:I,description:"Noah Citron Noah Citron noah-citron 1245 ",parent:c,count:10,filter:e},{term_id:gr,name:cT,slug:"cap-matt-gleason",term_group:c,term_taxonomy_id:gr,taxonomy:I,description:"Matt Gleason Matt Gleason matt-gleason 1348 ",parent:c,count:fz,filter:e},{term_id:p,name:A,slug:r,term_group:c,term_taxonomy_id:p,taxonomy:s,description:b,parent:c,count:D,filter:e},{term_id:bT,name:cG,slug:cH,term_group:c,term_taxonomy_id:bT,taxonomy:g,description:b,parent:c,count:gs,filter:e},{term_id:K,name:by,slug:bz,term_group:c,term_taxonomy_id:K,taxonomy:t,description:b,parent:c,count:bA,filter:e},{term_id:o,name:n,slug:n,term_group:c,term_taxonomy_id:o,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:E,name:aN,slug:aO,term_group:c,term_taxonomy_id:E,taxonomy:g,description:b,parent:c,count:bi,filter:e},{term_id:bU,name:aY,slug:aY,term_group:c,term_taxonomy_id:bU,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:aI,name:bv,slug:bw,term_group:c,term_taxonomy_id:aI,taxonomy:g,description:b,parent:c,count:aP,filter:e}],acf:{custom_title:b,redirect_author_links_to_the_post:f,content:[{acf_fc_layout:a_,paragraph:"\u003Cp\u003EGas golfing plays an important role in smart contract engineering. Not only is it a fun and challenging task, but it saves valuable blockspace. So, when \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0x_Beans?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor\"\u003E0xBeans\u003C\u002Fa\u003E launched the gas-golfing challenge “I Am The Optimizor” — we joined in.\u003C\u002Fp\u003E\n\u003Cp\u003EFor the uninitiated, contestants (smart contract engineers and teams) compete to write a contract that solves the classic \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002F3SUM\"\u003E3Sum\u003C\u002Fa\u003E problem. Contracts are scored by the sum of their gas usage and size. Those with the lowest score steal a special NFT from previous winners  — “a trophy that has only ever been held by those that have been blessed by the optimizor gods,” at least according to the \u003Ca href=\"https:\u002F\u002Fopensea.io\u002Fcollection\u002Fi-am-the-optimizor\"\u003EOpenSea description\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ESo far, the NFT has been claimed by 16 such optimizors — including, most recently, the authors of this post. We outlined the process in a couple of Twitter threads (\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FNoahCitron\u002Fstatus\u002F1580359718341484544?s=20&amp;t=TdoaTCrQc9sS6WeoeWLtow\"\u003Ehere\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fmg_486662\u002Fstatus\u002F1580359800746954753?s=20&amp;t=TdoaTCrQc9sS6WeoeWLtow\"\u003Ehere\u003C\u002Fa\u003E), but now we’d like to take a deeper dive into how our solution works. We’ll also cover some of the other approaches we built on, and a few unconventional optimizations we used.\u003C\u002Fp\u003E\n\u003Cdiv id=\"attachment_2298\" style=\"width: 810px\" class=\"wp-caption aligncenter\"\u003E\u003Cimg aria-describedby=\"caption-attachment-2298\" loading=\"lazy\" decoding=\"async\" class=\"wp-image-2298\" src=\"https:\u002F\u002Fa16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-13.png\" alt=\"the optimizor nft is an anime-style character crying, with gas pumps encircling his pupils\" width=\"800\" height=\"688\" \u002F\u003E\u003Cp id=\"caption-attachment-2298\" class=\"wp-caption-text\"\u003E\u003Cspan style=\"font-size: 11.5pt;\"\u003E\u003Cem\u003EThe coveted \u003Ca href=\"https:\u002F\u002Fopensea.io\u002Fcollection\u002Fi-am-the-optimizor\"\u003EOPTIMIZOR NFT.\u003C\u002Fa\u003E Note the gas pumps and tanks encircling the character&#8217;s pupils.\u003C\u002Fem\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Ch2\u003E[toc-embed]The game: how the challenge works\u003C\u002Fh2\u003E\n\u003Cp\u003EThe \u003Ca href=\"https:\u002F\u002Fgithub.com\u002F0xBeans\u002FIAmTheOptimizor\"\u003Echallenge itself\u003C\u002Fa\u003E is a simple optimizer-themed “\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0x_Beans\u002Fstatus\u002F1568661118259982336\"\u003Eking of the hill\u003C\u002Fa\u003E” game, where players must write smart contracts that adhere to the IPlayer interface, with the goal of using the least amount of gas and having the smallest bytecode size.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-2312\" src=\"https:\u002F\u002Fa16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fcarbon-16.png\" alt=\"\" width=\"800\" height=\"456\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EThe challenge contract allows contestants to call the \u003Ccode\u003Eclaim\u003C\u002Fcode\u003E function, passing in the address of their player contract, and then performs two actions: First, it calls the \u003Ccode\u003Eowner\u003C\u002Fcode\u003E function on the player contract, ensuring that it returns the same address that originally called the \u003Ccode\u003Eclaim\u003C\u002Fcode\u003E function (and resulting in a harder challenge with much more interesting solutions). Next, it generates a random \u003Ccode\u003EinputArr\u003C\u002Fcode\u003E and selects a target \u003Ccode\u003Esum\u003C\u002Fcode\u003E parameter.\u003C\u002Fp\u003E\n\u003Cp\u003EThese values are passed to the player contract through the \u003Ccode\u003Esolve\u003C\u002Fcode\u003E function. The player must then correctly calculate the three unique elements in \u003Ccode\u003EinputArr\u003C\u002Fcode\u003E that add up to \u003Ccode\u003Esum\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is the classic 3Sum problem, which many of you may remember from computer science courses and coding interviews; for many students, it is one of the first non-obvious programming problems they encounter.\u003C\u002Fp\u003E\n\u003Cp\u003EThe contracts are scored based on the sum of their bytecode size and the gas used to call the \u003Ccode\u003Esolve\u003C\u002Fcode\u003E function. The lowest score wins.\u003C\u002Fp\u003E\n\u003Ch2\u003E[toc-embed]The plays: approaches, plans, and techniques\u003C\u002Fh2\u003E\n\u003Cp\u003EContestants quickly created some impressive contracts.\u003C\u002Fp\u003E\n\u003Cp\u003ENaturally, many of these solutions didn’t solve the 3Sum problem at all. Instead, they gamed the contract’s randomness (very efficiently!) by predicting the solution and deploying a contract that returns it. Contestants accomplished this by returning hard-coded values and attempting to submit them as a flashbots bundle every block. By default, flashbots does not allow reverting transactions, so if a player’s contract didn’t happen across an efficient solution, their transaction wouldn’t make it into a block. But if they got lucky, and their solution matched the randomly generated one, then their transaction was included — and they became the optimizer.\u003C\u002Fp\u003E\n\u003Cp\u003EThe second, less obvious, approach was to make the contract branchless. When calling a smart contract, the function to call is specified by prepending a specific 4-byte sequence called the selector to the beginning of the transaction calldata. The beginning of most contracts start off with a switch statement that alters the execution flow based on this selector.\u003C\u002Fp\u003E\n\u003Cp\u003EThis process increased the bytecode size and gas usage of submissions (and was thus abandoned by the best contracts) – but it also led to an interesting, though unintuitive, sleight of hand by reading out-of-range calldata: If you read\u003Ccode\u003Ecalldata[0x24..0x44]\u003C\u002Fcode\u003E, it will always return zero when the owner function is called; but will return the second element in the array when the solve function is called. This means by using just a single\u003Ccode\u003ECALLDATALOAD\u003C\u002Fcode\u003E opcode, you can perform a memory manipulation that behaves differently depending on which function was called.\u003C\u002Fp\u003E\n\u003Cp\u003EContracts that made use of this behavior were able to completely remove the initial selector switch. With this trick and some clever combinations of opcodes, contestants could start writing some very efficient contracts and near-perfect solutions. These led us to an idea for a new optimization to add to the mix — one that built on previous techniques, but layered on a new, unconventional optimization.\u003C\u002Fp\u003E\n\u003Cp\u003EThe best contract at the time was quite efficient, but was it \u003Ci\u003Ethe most \u003C\u002Fi\u003Eefficient? Here’s what it looked like:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-2310\" src=\"https:\u002F\u002Fa16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fcarbon-13.png\" alt=\"\" width=\"700\" height=\"563\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EIt seemed unlikely that we’d be able to improve on this, but what if we replaced the \u003Ccode\u003EPUSH2 0x0144\u003C\u002Fcode\u003E with \u003Ccode\u003ECOINBASE\u003C\u002Fcode\u003E? The cost of a \u003Ccode\u003EPUSH2\u003C\u002Fcode\u003E instruction is three gas and three additional bytes to the contract size. This means it contributes six to the total score of the contract. \u003Ccode\u003ECOINBASE\u003C\u002Fcode\u003E, on the other hand, uses two gas and adds just one byte to the contract size for a total score of three. This meant that if we could somehow make \u003Ccode\u003ECOINBASE\u003C\u002Fcode\u003E return 0x0144, we could win by two points.\u003C\u002Fp\u003E\n\u003Cp\u003EOne small problem: \u003Ccode\u003ECOINBASE\u003C\u002Fcode\u003E usually doesn’t return 0x0144. This makes sense, since the coinbase address is the recipient of the block’s transaction fees (usually the block proposer). The \u003Ccode\u003ECOINBASE\u003C\u002Fcode\u003E opcode returns the block&#8217;s coinbase address, which gets set by the Ethereum validator that produces the block. All transaction tips from that block then flow to the coinbase address.\u003C\u002Fp\u003E\n\u003Cp\u003EAnd even if we submitted bundles to flashbots, paying the validator to include the transaction, we would not be able to set the coinbase address. It became clear that we needed to move deeper into the block building infrastructure stack.\u003C\u002Fp\u003E\n\u003Cp\u003EBut before we dive into the approach we took, let&#8217;s look at the current state of proposer-builder separation (PBS):\u003C\u002Fp\u003E\n\u003Cdiv id=\"attachment_2309\" style=\"width: 1508px\" class=\"wp-caption aligncenter\"\u003E\u003Cimg aria-describedby=\"caption-attachment-2309\" loading=\"lazy\" decoding=\"async\" class=\"wp-image-2309 size-full\" src=\"https:\u002F\u002Fa16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fmev-boost-integration-overview.png\" alt=\"\" width=\"1498\" height=\"410\" \u002F\u003E\u003Cp id=\"caption-attachment-2309\" class=\"wp-caption-text\"\u003E\u003Cem\u003E\u003Cspan style=\"font-size: 11.5pt;\"\u003Esource: \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdocs.flashbots.net\u002Fflashbots-mev-boost\u002Fintroduction\"\u003E\u003Cspan style=\"font-size: 11.5pt;\"\u003Edocs.flashbots.net\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EPBS is the current mechanism in which MEV is extracted on Ethereum (introduced alongside the switch to proof of stake). In PBS, there are independent network participants called “searchers” who submit bundles of transactions that they want to see included in a specific sequence; “builders” who compose bundles and transactions from the mempool into full execution layer Ethereum blocks; and “relays” who take blocks from builders and forward the most profitable one to the validator that is due to propose on that slot. In previous submissions, the players often acted as searchers, submitting their bundles of transactions to builders for inclusion into a block.\u003C\u002Fp\u003E\n\u003Cp\u003ETo compete in this challenge, we had to move one level deeper into this system — and become block builders ourselves. Block builders compose the entire execution layer block for validators. They run much more complex software than searchers in order to correctly set and compute block parameters. This means they have full control over the block, including the ability to set nearly any field: the state root, logs bloom, receipts root, and, critically, coinbase.\u003C\u002Fp\u003E\n\u003Cp\u003EMost block builders set their own address as the coinbase, and pay the validator by sending them a transaction at the very end of the block. However, why couldn’t we just set the coinbase address to 0x0144, and effectively burn the fees in the block? All we had to do was pay the validator with our own funds rather than the proceeds of the block.\u003C\u002Fp\u003E\n\u003Cp\u003EUnfortunately, that plan didn’t last long. Top competitors submitted a new contract that beat their previous attempt, and made the process of finding a better contract even more difficult (and interesting).\u003C\u002Fp\u003E\n\u003Cp\u003EWas there any way we could still use our coinbase trick? Fortunately, we realized we could combine the coinbase optimization with yet another trick – modifying the gas price.\u003C\u002Fp\u003E\n\u003Cp\u003EHere’s the contract we came up with:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"aligncenter wp-image-2311\" src=\"https:\u002F\u002Fa16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fcarbon-14.png\" alt=\"\" width=\"700\" height=\"512\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETo make this contract work, we had to ensure that \u003Ccode\u003EGASPRICE\u003C\u002Fcode\u003E returned 0x0900000000; \u003Ccode\u003ECOINBASE\u003C\u002Fcode\u003E returned 0x24; and \u003Ccode\u003EORIGIN\u003C\u002Fcode\u003E returned an address that began with 0x0n00000000, where n can be any digit between 1 and 8.\u003C\u002Fp\u003E\n\u003Cp\u003EWe could already set the coinbase with our block builder and easily modulate the gas price using the transaction tip, but we still needed to generate 10-nibble vanity addresses from which to originate transactions. This was easy using the famously insecure Profanity address generator. (We’ll leave it as an exercise for the reader to find the private key for those addresses.)\u003C\u002Fp\u003E\n\u003Cp\u003EBut how does the contract work? If you examine the winning transaction’s parameters (which uses \u003Ccode\u003E0x060000000084477daF071d5b34F36a028E8b4506\u003C\u002Fcode\u003E as the sender address), starting with the first case, here is what the stack looks like when the \u003Ccode\u003Eowner\u003C\u002Fcode\u003E function is being called.\u003C\u002Fp\u003E\n\u003Cp\u003EAfter the first four opcodes are executed, the stack looks like this:\u003C\u002Fp\u003E\n\u003Cdiv class=\"horizontal-scroll\"\u003E\u003Cspan class=\"blue\"\u003E00| \u003Cspan style=\"color: #3fb4ed;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 24\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E01| \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00\u003C\u002Fspan\u003E \u003Cspan style=\"color: #f6f7f7;\"\u003E06\u003C\u002Fspan\u003E \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00\u003C\u002Fspan\u003E \u003Cspan style=\"color: #f6f7f7;\"\u003E84 47 7d aF 07 1d 5b 34 F3 6a 02 8E 8b 45 06\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E02| \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \u003Cspan style=\"color: #f6f7f7;\"\u003E24\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E03| \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \u003Cspan style=\"color: #f6f7f7;\"\u003E09\u003C\u002Fspan\u003E 00 00 00 00\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003ENext, \u003Ccode\u003ECALLDATALOAD\u003C\u002Fcode\u003E consumes the 0x24 from the stack and pushes the 32 bytes of calldata starting at 0x24 onto the stack. Since the \u003Ccode\u003Eowner\u003C\u002Fcode\u003E function only has four bytes of calldata, this action essentially pops 0x24 from the stack and replaces it with 0x00.\u003C\u002Fp\u003E\n\u003Cp\u003EThe next opcode, \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E consumes two elements from the stack, interpreting the top of the stack (0x00) as the memory location and the second item on the stack (the origin address) as the value to store. The next \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E opcode essentially acts as a NOP, as it stores 0x0900000000 at the memory location 0x24.\u003C\u002Fp\u003E\n\u003Cp\u003EFinally, pushing \u003Ccode\u003EMSIZE\u003C\u002Fcode\u003E (0x60) and \u003Ccode\u003ECALLVALUE\u003C\u002Fcode\u003E (0x00) to the stack and then \u003Ccode\u003ERETURN\u003C\u002Fcode\u003E essentially returns these three words to the optimizer contract:\u003C\u002Fp\u003E\n\u003Cdiv class=\"horizontal-scroll\"\u003E\u003Cspan class=\"blue\"\u003E00| \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00\u003C\u002Fspan\u003E \u003Cspan style=\"color: #f6f7f7;\"\u003E06\u003C\u002Fspan\u003E \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00\u003C\u002Fspan\u003E \u003Cspan style=\"color: #f6f7f7;\"\u003E84 47 7d aF 07 1d 5b 34 F3 6a 02 8E 8b 45 06\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E20| \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \u003Cspan style=\"color: #f6f7f7;\"\u003E09\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E40| \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EThe first word is our origin address, while the rest is junk data. Fortunately, the optimizer contract only expects a single word back, and checks that it is equal to the original caller. Since we returned the origin address first, we can pass the first test.\u003C\u002Fp\u003E\n\u003Cp\u003ENow, as we go into the solve function, things get a bit more complicated&#8230;\u003C\u002Fp\u003E\n\u003Cp\u003ELike before, after the first four opcodes are executed, the stack looks like this:\u003C\u002Fp\u003E\n\u003Cdiv class=\"horizontal-scroll\"\u003E\u003Cspan class=\"blue\"\u003E00| \u003Cspan style=\"color: #3fb4ed;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 24\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E01| \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00\u003C\u002Fspan\u003E \u003Cspan style=\"color: #f6f7f7;\"\u003E06\u003C\u002Fspan\u003E \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00\u003C\u002Fspan\u003E \u003Cspan style=\"color: #f6f7f7;\"\u003E84 47 7d aF 07 1d 5b 34 F3 6a 02 8E 8b 45 06\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E02| \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \u003Cspan style=\"color: #f6f7f7;\"\u003E24\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E03| \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \u003Cspan style=\"color: #f6f7f7;\"\u003E09\u003C\u002Fspan\u003E 00 00 00 00\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EThis time, when we use \u003Ccode\u003ECALLDATALOAD\u003C\u002Fcode\u003E, we push the second element of the input array onto the stack. In the case of the winning transaction, this was 0x13. The next opcode, \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E then stores the origin address at the memory location 0x13. This is what the memory looks like at this point:\u003C\u002Fp\u003E\n\u003Cdiv class=\"horizontal-scroll\"\u003E\u003Cspan class=\"blue\" style=\"line-height: 35px;\"\u003E00| \u003Cspan style=\"color: #c4da94;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \u003Cspan style=\"border-style: solid; border-weight: 0.8px; border-color: #ef3346;\"\u003E06\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\" style=\"padding-top: 4px;\"\u003E20| \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00\u003C\u002Fspan\u003E 84 47 7d aF 07 1d 5b 34 F3 6a 02 8E 8b 45 06 \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 \u003Cspan style=\"border-style: solid; border-weight: 0px; border-color: #000000;\"\u003E00\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EAs you can see — because of the strange offset and origin address — the beginning 0x06 part of the address ends up as the first full word in memory. This was just a clever way to prepare our first return value, 0x06.\u003C\u002Fp\u003E\n\u003Cp\u003EThe next \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E stores the gas price (0x0900000000) at location 0x24. This operation therefore ends up covering memory locations 0x24 to 0x38 with zeros, and places 0x09 at location 0x39.\u003C\u002Fp\u003E\n\u003Cp\u003EThe rest of the zeros in the gas price overflow into the next word of memory, which expands the memory and sets 0x40 to 0x60 as all zeros. In effect, this \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E sets our second return value to 0x09 and our third one to 0x00.\u003C\u002Fp\u003E\n\u003Cp\u003EAt this point, our memory looks like this:\u003C\u002Fp\u003E\n\u003Cdiv class=\"horizontal-scroll\"\u003E\u003Cspan class=\"blue\"\u003E00| \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\u003C\u002Fspan\u003E 06\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E20| \u003Cspan style=\"color: #c4da94;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 09\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\n\u003Cspan class=\"blue\"\u003E40| \u003Cspan style=\"color: #a0a3a9;\"\u003E00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003ENext, \u003Ccode\u003EMSIZE\u003C\u002Fcode\u003E, \u003Ccode\u003ECALLVALUE\u003C\u002Fcode\u003E, and \u003Ccode\u003ERETURN\u003C\u002Fcode\u003E simply returns this data, and satisfies all the requirements of a proper solution (it has three values, all unique, and all between 0 and 9). If we’re lucky, the required sum happens to be equal to the sum of the three provided indexes. In our case, element 0 was 26, element 6 was 12, and element 9 was 15. Together they add up to 53, which was our desired sum, and so we “solved” it.\u003C\u002Fp\u003E\n\u003Ch2\u003E[toc-embed]The proof: understanding the optimal solution\u003C\u002Fh2\u003E\n\u003Cp\u003EAn argument can be made for why this solution may be difficult to beat – barring significant changes to the EVM.\u003C\u002Fp\u003E\n\u003Cp\u003EBold claim, but it gets at some underlying structural dynamics as well with Ethereum. To understand why, let&#8217;s look into the requirements of a valid solution.\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EWe must supply at least 0x60 bytes (three words) of return data\u003C\u002Fli\u003E\n\u003Cli\u003EAll of these values must range between 0-9\u003C\u002Fli\u003E\n\u003Cli\u003EAll of these values must be unique\u003C\u002Fli\u003E\n\u003Cli\u003EWe must have a way to either change the logic between the owner() call and the solve(&#8230;) call or have an address between 0x01 and 0x09\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EWe also need to understand some facts of the EVM.\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E is at least as score (gas + opcode length) efficient at storing memory as all other operations (\u003Ccode\u003ECALLDATACOPY\u003C\u002Fcode\u003E, \u003Ccode\u003EEXTCODECOPY\u003C\u002Fcode\u003E, \u003Ccode\u003ERETURNDATACOPY\u003C\u002Fcode\u003E, and all calls) when operating on less than three words of memory\u003C\u002Fli\u003E\n\u003Cli\u003EThe cheapest way to put a value onto the stack is a two-cost operation (which will add three points to the score)\u003C\u002Fli\u003E\n\u003Cli\u003EThe most efficient logic operations cost three gas, and of those only \u003Ccode\u003ECALLDATALOAD\u003C\u002Fcode\u003E, \u003Ccode\u003ENOT\u003C\u002Fcode\u003E, and \u003Ccode\u003EISZERO\u003C\u002Fcode\u003E have net-zero impact on the stack. All others consume more stack elements than they output\u003C\u002Fli\u003E\n\u003Cli\u003EWe must call \u003Ccode\u003ERETURN\u003C\u002Fcode\u003E at the end of the function\u003C\u002Fli\u003E\n\u003Cli\u003ENone of the precompiled addresses currently work to solve this problem\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003ESince we must return three words of memory (two nonzero), we are required to have at least two \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E opcodes in the solution, and because we’re only setting two words, (1) above tells us the use of \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003E here will be at least as efficient as other operations. This gives us the requirement of four stack pushes. We also need at least one \u003Ccode\u003ERETURN\u003C\u002Fcode\u003E opcode which requires another two stack pushes.\u003C\u002Fp\u003E\n\u003Cp\u003EFinally, we need some way to differentiate between \u003Ccode\u003Esolve\u003C\u002Fcode\u003E and \u003Ccode\u003Eowner\u003C\u002Fcode\u003E calls, so there must be at least one logic operator to do so and, using (2) above, it follows that \u003Ccode\u003ECALLDATALOAD\u003C\u002Fcode\u003E is at least as efficient as any other logic operation. This means any solution needs at least two\u003Ccode\u003EMSTORE\u003C\u002Fcode\u003Es, one \u003Ccode\u003ERETURN\u003C\u002Fcode\u003E, one efficient logic operation, and six stack pushing operations. Our solution uses two \u003Ccode\u003EMSTORE\u003C\u002Fcode\u003Es, one \u003Ccode\u003ERETURN\u003C\u002Fcode\u003E, one efficient logic operation, and the six cheapest stack pushing operations. All this amounts to our solution appearing to share the same characteristics as the optimal solution — it will at least tie every other solution.\u003C\u002Fp\u003E\n\u003Cp\u003EOf course, this isn’t a formal proof, but it does give us confidence that our solution can’t technically be bested under current constraints. There is a trivially more efficient solution, but it requires something computationally infeasible: a private key for an address between 0x01 and 0x09. Since this is astronomically unlikely (and it’s the only method we know of) there’s not another way to win the NFT. (That is, in the absence of an EIP that would change the conditions.)\u003C\u002Fp\u003E\n\u003Cp\u003EBuilding this was fun to say the least. Block builders are so new, and there is so much to uncover. For an even deeper dive, take a look at \u003Ca href=\"https:\u002F\u002Fetherscan.io\u002Fblock\u002F15735631\"\u003Ethe block\u003C\u002Fa\u003E or \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fncitron\u002Foptimizer-block-builder\"\u003Ethe block builder that created it\u003C\u002Fa\u003E. There&#8217;s a whole lot going on (over two dozen transactions), but I promise every part of the block plays an important role.\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003Cbr \u002F\u003E\n\u003Cem\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003Cbr \u002F\u003E\n\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F\u003C\u002Fa\u003E.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fa\u003E for additional important information\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n"}],related_posts:a$,post_redirector:f,format:{term_id:p,name:A,slug:r,term_group:c,term_taxonomy_id:p,taxonomy:s,description:b,parent:c,count:D,filter:e},disclosure_relation:f},tags:[{term_id:bT,name:cG,slug:cH,term_group:c,term_taxonomy_id:bT,taxonomy:g,description:b,parent:c,count:gs,filter:e},{term_id:o,name:n,slug:n,term_group:c,term_taxonomy_id:o,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:E,name:aN,slug:aO,term_group:c,term_taxonomy_id:E,taxonomy:g,description:b,parent:c,count:bi,filter:e},{term_id:bU,name:aY,slug:aY,term_group:c,term_taxonomy_id:bU,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:aI,name:bv,slug:bw,term_group:c,term_taxonomy_id:aI,taxonomy:g,description:b,parent:c,count:aP,filter:e}],post_thumbnail:"\u003Cimg width=\"1000\" height=\"764\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-13-1.png\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-13-1.png 1000w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-13-1-300x229.png 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-13-1-768x587.png 768w\" sizes=\"auto, (max-width: 1000px) 100vw, 1000px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-13-1-150x150.png\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-13-1-150x150.png",width:O},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-13-1-300x229.png",width:aT},{url:gt,width:c}],authors:[{ID:"1245",display_name:"Noah Citron",first_name:"Noah",last_name:"Citron",user_login:cS,user_email:b,linked_account:b,website:b,description:b,user_nicename:cS,type:J,nickname:b},{ID:"1348",display_name:"Matt Gleason",first_name:"Matt",last_name:"Gleason",user_login:cT,user_email:b,linked_account:b,website:b,description:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EMatt is a security engineer for a16z crypto, helping portfolio companies with their application security, incident response, and other audit or security needs. He has conducted audits, and found and helped fix critical vulnerabilities in code prior to project deployment on many different projects.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EPrior to a16z crypto, Matt worked as a security consultant for a then boutique security consultancy for several years. Prior to that, he worked as a software engineer on real time systems.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EMatt has degrees in mathematics, economics, and computer science. He also competes in blockchain contests at a high level where he gained the title of the optimizor.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n",user_nicename:cT,type:J,nickname:b}],meta_desc:cU,seo:{title_tag:gu,meta_description:cU,canonical:gv,robots:{index:ba,follow:bb,"max-snippet":bc,"max-image-preview":bd,"max-video-preview":be},open_graph_locale:bf,open_graph_type:r,open_graph_title:gu,open_graph_description:cU,open_graph_url:gv,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2022/10/image-13-1.png":{width:1000,height:764,filesize:591415,url:gt,path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-13-1.png",size:bV,id:4086,alt:b,pixels:764000,type:cm}},open_graph_site_name:bg,estimated_reading_time_minutes:gw,twitter_card:bh,twitter_title:b,twitter_description:b,twitter_image:b,open_graph_article_published_time:"2022-10-17T00:00:00+00:00"},format:{term_id:p,name:A,slug:r,term_group:c,term_taxonomy_id:p,taxonomy:s,description:b,parent:c,count:D,filter:e},template:b,disclosure:f},{ID:2960,post_author:go,post_date:gx,post_date_gmt:gx,post_content:"\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEditor’s note: This piece is part of our ongoing series on all things ‘auctions for web3’. \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fauction-design-mechanisms-incentives-choices-tradeoffs\" target=\"_blank\" rel=\"noopener\"\u003EPart 1\u003C\u002Fa\u003E was an overview of auction designs, and technical challenges (and opportunities) specific to mechanism design in a permissionless blockchains context. \u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fnft-sales-market-clearing-gas-wars-auction-mechanism-design-for-builders\u002F\" target=\"_blank\" rel=\"noopener\"\u003EPart 2\u003C\u002Fa\u003E was a piece on clearing the market and avoiding gas wars.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAuctions are ubiquitous in crypto. From \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdocs.makerdao.com\u002Fkeepers\u002Fthe-auctions-of-the-maker-protocol\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMaker\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E collateral auctions, to \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdocs.flashbots.net\u002FFlashbots-auction\u002Foverview\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFlashbots’\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E sealed-bid blockspace auctions and NFT auctions on \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fsupport.opensea.io\u002Fhc\u002Fen-us\u002Farticles\u002F1500003246082-How-do-timed-auctions\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOpenSea\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, auctions are suitable for a wide array of situations where price discovery, liquidity, or allocation of scarce resources is needed, both on and off-chain. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EHowever, juxtaposed against the vast (and growing) body of academic research on auctions, it’s clear that we’ve only scratched the surface of what these mechanisms might be able to offer on-chain — for example, optimizing for privacy, efficiency, buyer surplus, and other key design objectives. Given the “Cambrian explosion” of automated market maker (AMM) designs following Curve and Sushiswap in 2020 — and the concurrent explosion of third-generation blockchains — it’s plausible (inevitable, perhaps) that on-chain auctions are ripe for a similar evolutionary upsurge. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhereas auction formats were once loosely adopted for (and constrained by) the technical limits of blockchains, we’re now starting to see more novel designs adapted especially for blockchains. Following in the tradition of \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Facademic.oup.com\u002Foxrep\u002Farticle\u002F33\u002F4\u002F541\u002F4587951\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Emarket design\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, this post is part of a series that aims to bridge the gap between auction theory and practice: How can theoretical principles inform implementation decisions? And how can on-chain implementations, in turn, inform new directions of theoretical research? \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThough theory can guide us toward a certain auction design, a seemingly innocuous implementation detail itself may be interesting to analyze with a theoretical lens. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe begin by comparing the four canonical auction types along three axes: \u003C\u002Fspan\u003E\u003Cb\u003Einformation revelation\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003Cb\u003Ebidding strategy\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, and \u003C\u002Fspan\u003E\u003Cb\u003Eon-chain implementation considerations\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. Then we’ll focus on sealed-bid formats specifically, dive deeper into the implementation subtleties that have made them relatively unexplored on-chain, and introduce our \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eopen source Solidity implementation\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E of a Vickrey auction — which we hope others can use as a reference and basis for further experimentation. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]But first, a brief primer on auction formats\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe’ve previously covered auction design — in both traditional formats and as applied and adapted to blockchains — in great detail on a recent \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fauction-design-mechanisms-incentives-choices-tradeoffs\"\u003Epodcast\u003C\u002Fa\u003E with a16z crypto research partner (and Harvard Business School professor) Scott Kominers \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eand a16z crypto head of research (and professor at Columbia University) Tim Roughgarden. Drawing on their expertise advising crypto protocols, they provide an overview of auction types and incentive design, in both theory and practice — including the nuances of \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fnft-sales-market-clearing-gas-wars-auction-mechanism-design-for-builders\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Emarket-clearing prices and gas wars\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (which we covered in part two of this ongoing series on auction design for web3).\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBut to set some quick context for the implementation below: auction theory has historically centered around four canonical \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.econlib.org\u002Flibrary\u002FEnc\u002FAuctions.html\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eauction types\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, first taxonomized by \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.cs.princeton.edu\u002Fcourses\u002Farchive\u002Fspr09\u002Fcos444\u002Fpapers\u002Fvickrey61.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWilliam Vickrey\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E in 1961 and described here in the context of an auction for a single good.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cdiv id=\"attachment_2230\" style=\"width: 510px\" class=\"wp-caption alignright\"\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" aria-describedby=\"caption-attachment-2230\" class=\"wp-image-2230\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FUntitled-2-630x1024-1.jpg\" alt=\"\" width=\"500\" height=\"812\" \u002F\u003E\u003Cp id=\"caption-attachment-2230\" class=\"wp-caption-text\"\u003E\u003Cem\u003EA snapshot of auction designs available off chain. Source: \u003C\u002Fem\u003E\u003Ci\u003EWikipedia\u003C\u002Fi\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FEnglish_auction\"\u003E\u003Cb\u003EEnglish\u003C\u002Fb\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (ascending-price): In an English, or ascending-price auction, the auctioneer opens bidding at a reserve (minimum) price, and bidders place incrementally higher bids until only one bidder willing to pay the current price is left, at which point the last bidder wins. This is the auction format most commonly portrayed in popular culture and media, often in the context of selling antiques, artwork, or \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fyoutu.be\u002FuxnWzm0T_tA\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Euncut gems\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. \u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FDutch_auction\"\u003E\u003Cb\u003EDutch\u003C\u002Fb\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (descending-price): In a Dutch, or descending-price auction, the opening price decreases according to a prescribed schedule. In a Dutch auction, the first to bid is the winner and the auction instantly ends. Historically, multi-unit versions of Dutch auctions have often been used to sell large quantities of goods that have a limited shelf life, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.tandfonline.com\u002Fdoi\u002Fabs\u002F10.1080\u002F10864415.2016.1319222?\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esuch as\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E cut flowers, fish, or tobacco. More recently, the U.S. Treasury introduced the use of Dutch auctions for securities (\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.treasurydirect.gov\u002Findiv\u002Fresearch\u002Fhistory\u002Fhisttime\u002Fhisttime_auctions.htm\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E1974\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), and the Google IPO in 2004 (\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.cnbc.com\u002F2014\u002F08\u002F18\u002Fpisani-googles-ipo-was-a-disasterat-the-time.html\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Einfamously\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) sold its shares via Dutch auction.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FFirst-price_sealed-bid_auction\"\u003E\u003Cb\u003ESealed-bid first-price\u003C\u002Fb\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: Each bidder submits a sealed bid (e.g. in a sealed envelope) to the auctioneer. Once all bids are submitted, the auctioneer privately reads them and announces the winner (the highest bidder). The winner then pays the amount that they bid. Sealed-bid first-price auctions are often used in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.nytimes.com\u002F1995\u002F05\u002F14\u002Frealestate\u002Fin-a-hot-market-the-sealed-bid-comes-into-play.html\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ereal estate\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E when a property garners interest from multiple buyers. \u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FVickrey_auction\"\u003E\u003Cb\u003ESealed-bid second-price\u003C\u002Fb\u003E\u003C\u002Fa\u003E \u003Cspan style=\"font-weight: 400;\"\u003E(the\u003C\u002Fspan\u003E \u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Cb\u003EVickrey auction\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E”): Vickrey’s namesake auction is the same as the sealed-bid first-price auction, except the winner in this auction type pays the value of the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esecond\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E-highest bid. Despite having interesting theoretical properties, the Vickrey auction is rarely seen on-chain (partly due to the difficulty of implementing sealed bids).\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThese four auction types have different properties and dynamics which are further complicated when translated to smart contract implementations (and which we’ll detail later).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Comparing auction types by information revelation\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOne of the more natural ways to characterize each auction type is by \u003C\u002Fspan\u003E\u003Cb\u003Ebid visibility \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(open vs sealed-bid). Even with all else held equal, changing bid visibility can have profound impact on the dynamics and outcome of an auction.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEnglish and Dutch auctions are \u003C\u002Fspan\u003E\u003Cb\u003Eopen-outcry \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eauctions, meaning prices are announced verbally as they ascend or descend, and bids (including their amounts) are public to all potential buyers. Sealed-bid auctions, however, may employ a few different flavors of privacy:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EEventually public\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: all bids are revealed publicly after the auction ends\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EPublic price\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: only the winning price is revealed, and not other bids\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EFully private\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: nothing is revealed publicly about the bids or winning price\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThese assumptions around bid visibility mean that the auctions also differ in terms of \u003C\u002Fspan\u003E\u003Cb\u003Einformation revelation\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E; different auction formats reveal different amounts of information about bidders’ valuations (often an upper or lower bound) at different stages of the process. In an English auction, placing a bid effectively establishes a lower bound on that bidder’s valuation. In a Dutch auction, on the other hand, the current price can be interpreted as an upper bound on all the bidders’ valuations. Sealed-bid auctions reveal information only after the auction ends, if at all. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIt’s worth noting that Dutch auctions can take on qualities of both open and sealed-bid auctions. Single-item Dutch auctions have similar privacy properties to public-price sealed-bid auctions (since the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Efirst \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ebid wins, all other, lower bids are kept private). But as we’ll see later, these properties change significantly when Dutch auctions are run on-chain. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Common and private values\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EExamining sales of \u003C\u002Fspan\u003E\u003Cb\u003Eprivate \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eand \u003C\u002Fspan\u003E\u003Cb\u003Ecommon value \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003Egoods\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eacross open-bid and sealed-bid auctions can provide another lens for comparing these formats. In an auction selling a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FCommon_value_auction\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ecommon value good\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, the item has some intrinsic value that is shared among all bidders, but the bidders may have different or incomplete information about that value. In Nobel-prize winning behavioral economist \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fpubs.aeaweb.org\u002Fdoi\u002Fpdfplus\u002F10.1257\u002Fjep.2.1.191\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ERichard Thaler’s\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E canonical example of common value, a jar of coins is up for auction; none of the bidders knows the exact value contained in the jar, but everyone has their own estimate. In an auction selling a private value good, each bidder has an individual value for the auctioned item, independent of their peers. To draw examples from web3, an NFT bought purely for personal enjoyment (with no intention \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eof resale or expectation of future utility) is a private value good, while the collateral from a liquidated Maker vault is a common value good.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMeanwhile, the authors of another \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fweb.stanford.edu\u002F~jdlevin\u002FPapers\u002FAuctions.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epaper\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E looking at data from timber auctions found that sealed-bid auctions “attract more small bidders, shift the allocation toward these bidders, and can also generate higher revenue” compared to their open-bid counterparts. Notably, the authors found that these results could be accounted for by a private value model (where private values vary based on idiosyncrasies of timber auctions, like “differences in bidder costs and contractual arrangements”), omitting common values from their model entirely. This suggests that a seller may benefit from choosing a sealed-bid auction for sales where bidders have disparate motivations, contexts, or uses for the auctioned item.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEnglish auctions can be useful in settings where common values\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edominate and price discovery is an objective — as mentioned, the bidders learn how others are valuing the item as bids come in, and can adjust their strategy accordingly. In one study of reverse auctions in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdeliverypdf.ssrn.com\u002Fdelivery.php?ID=530112070066075000092008069102079022009056033020093009075021094091004074125007119023004010006016122030040069028096006117124106056014025055017120085071065023074127001017015016101064005021087121089010091120109109004116084114122065004116124065091121030071&amp;EXT=pdf&amp;INDEX=TRUE\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eonline labor markets\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, the authors found that while sealed-bid auctions attracted more bids, open-bid auctions resulted in these buyers getting a better price (or a greater buyer surplus). The analysis suggests that the differences “largely depend on the relative importance of the common value (versus the private value) component of the auctioned IT services.” In other words, the open-bid format allows bidders to dynamically recalibrate their understanding of how much the service is worth, which is often unclear at the start of the auction.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn practice, auctions typically display a combination of both common and private-value characteristics. The interplay between the characteristics of these goods, and how (and when) information is revealed by the auction format has complex downstream effects on bidding strategy. This leads us to the question: Can we formalize the notion of a “simple” bidding strategy (I don’t need to think too hard about how you might bid); and are there auctions where such strategies are optimal?\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Comparing auction types by bidding strategy\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOf the four canonical auction types, one that has been conspicuously absent from our analysis so far is the Vickrey auction. A careful reader may raise an eyebrow at the Vickrey auction’s payment rule: the winner pays the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esecond\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehighest bid instead of what they themselves bid. This may seem counterintuitive at first, but English auctions ultimately settle in a similar way. An English auction ends with the lowest bid that no other bidder is willing to meet; the winner has no reason to bid any further, even if their own valuation is much higher. In fact, English and Vickrey auctions share a nice theoretical advantage over Dutch and sealed-bid first-price auctions: \u003C\u002Fspan\u003E\u003Cb\u003Edominant-strategy incentive-compatibility\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (DSIC). \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAt a high level, this means that each bidder’s utility-maximizing strategy is simply to bid whatever they actually believe the auctioned item is worth (in a common value auction, this is just the expected value of the item, conditioned on the bidder’s information). For a deeper dive, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftimroughgarden.org\u002Ff13\u002Fl\u002Fl2.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethese\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E lecture notes serve as an excellent primer.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn a first-price auction, there is no such dominant bidding strategy. Bidders need to \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FBid_shading\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eshade\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (or reduce) their bids to be lower than their valuation to obtain positive utility. Exactly how much lower they can get away with while still outbidding fellow participants is a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FBayesian_game\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBayesian game\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. A Dutch auction is strategically similar. In order to obtain positive utility, a bidder must wait until the price drops below their valuation, but how long to wait after that threshold is another Bayesian game. Perhaps more surprisingly, the expected revenue for \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eall four auction types\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is the same (under certain assumptions; see \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fweb.stanford.edu\u002F~jdlevin\u002FEcon%20286\u002FAuctions.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETheorem 1\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E). \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDespite the theoretical advantages of Vickrey auctions, they are somewhat uncommon in practice. In \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fmilgrom.people.stanford.edu\u002Fwp-content\u002Fuploads\u002F2005\u002F12\u002FLovely-but-Lonely-Vickrey-Auction-072404a.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Lovely but Lonely Vickrey Auction\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, economists Lawrence Ausubel and Paul Milgrom provide several explanations why this may be the case. The authors note that despite being strategically equivalent, English auctions are intuitively easier for bidders to reason about than Vickrey auctions. This intuition is formalized in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fmpra.ub.uni-muenchen.de\u002F78930\u002F1\u002FMPRA_paper_78930.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EObviously Strategy-Proof Mechanisms\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, which shows that English auctions are not only DSIC, but bidding truthfully is “obviously dominant”. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETo provide a real-world example, Google \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fblog.google\u002Fproducts\u002Fadsense\u002Four-move-to-a-first-price-auction\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eannounced\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E last year that AdSense — a program where advertisers bid for ad space on content — would be moving from second-price to first-price auctions, citing simplicity and alignment with the rest of the digital advertising ecosystem. In addition to these usability considerations, platforms like AdSense assume a position of trust when running second-price auctions: by overreporting the second-highest bid, a dishonest auctioneer could extract more payment from the winner. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAlthough these concerns have slowed adoption, the Vickrey auction could find new use cases when extended to new environments. Public blockchains, in particular, provide a credibly neutral platform that may help circumvent issues such as the dishonest auctioneer. This, coupled with the diversity of potential on-chain applications, suggest that smart contracts may provide a uniquely effective testbed for the Vickrey auction mechanism.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Comparing auction types through implementation considerations\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBringing auctions on-chain can sometimes pose new challenges, relative to off-chain counterparts. In the following sections, we’ll explore the current landscape of on-chain auctions and implementation considerations for each auction type. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOn-chain English auctions\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe majority of on-chain auctions found in the wild today fall into the open-bid category (i.e. English or Dutch). These include ascending-price OpenSea auctions, Maker collateral auctions, and the Zora Auction House contract. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUnder the hood of OpenSea, bids are off-chain messages that encode the bid value, signed by the bidder. As prospective buyers place their bids, the OpenSea UI surfaces the bid values to the seller and to potential bidders. In Maker collateral and Zora auctions, however, bidders submit a transaction to indicate their bid; then the bid transaction escrows the bidder’s collateral in an auction contract. By virtue of being an unobfuscated on-chain transaction, the bid is inherently open — anyone can see what their fellow bidders are offering by looking at incoming transactions to the auction contract (either in the public mempool, or as they get included in the chain). \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOverall, English auction dynamics remain relatively intact when translated into a smart contract. One notable difference is that on-chain bids incur a gas cost, which is priced into the de facto bid value. As gas prices fluctuate over the bidding period of an auction, a bidder who otherwise would’ve had the highest offer may be temporarily priced out by expensive gas fees.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOn-chain Dutch auctions\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOn-chain Dutch auctions have seen significant traction, from facilitating \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fthedefiant.io\u002Filluvium-land-72m\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENFT\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Ca href=\"https:\u002F\u002Fwww.azuki.com\u002Fmintinfo\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esales\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to rebalancing \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fhelp.tokensets.com\u002Fen\u002Farticles\u002F3399436-how-to-participate-in-set-protocol-rebalance-auctions\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETokenSets\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (and spawning variants like \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.paradigm.xyz\u002F2022\u002F04\u002Fgda\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EGradual Duction Auctions \u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eand \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.paradigm.xyz\u002F2022\u002F08\u002Fvrgda\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EV\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eariable Rate GDAs\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E). This popularity is for good reason –– a simple Dutch auction is relatively easy to implement as a smart contract and requires just two on-chain transactions (one to create the auction, one for the first and only bid). Most importantly, it doesn’t lock bidders’ funds, unlike other auctions with on-chain bids.   \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe dynamics of off-chain Dutch auctions depend on bidding being effectively instantaneous. A single-item Dutch auction ends as soon as a bid is announced, and no other bids can be placed. When conducted on-chain, however, there is a gap in time between when the bid is broadcast and when it is included in the chain, which can have some unexpected consequences. If the first bid is broadcast to the public mempool (as opposed to a private transaction pool like \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdocs.flashbots.net\u002FFlashbots-auction\u002Foverview\u002F#how-does-it-work\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFlashbots\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), it may kick off a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fnft-sales-market-clearing-gas-wars-auction-mechanism-design-for-builders\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Egas war\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, with other prospective buyers broadcasting bids with incrementally higher gas prices. As a result, the gas-adjusted price can rise suddenly as the off-chain, \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eascending\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E-price auction for transaction ordering eclipses the Dutch auction itself. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe time-dependent nature of the descending-price mechanism brings other drawbacks as well. Assuming a continuous price decay function, a bidder must be online exactly when necessary to place a bid at a specific price, or set up a bot (e.g. using \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.gelato.network\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EGelato Network\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) to bid for them. Network congestion that incidentally (or maliciously) coincides with the broadcast of the first bid can lower the final settled price to the detriment of the seller’s revenue. Worse yet, a denial of service (DoS) attack could cost the rightful winner the auction. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOn-chain sealed-bid auctions, demonstrated by a new open source implementation\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPlatforms that utilize off-chain bids (e.g. OpenSea) could easily implement sealed-bid auctions, but they would require trusting an auctioneer to (a) not reveal any bids, (b) not censor any bids, and (c) correctly determine the result of the auction. Ideally, a smart contract would \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Etrustlessly\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E facilitate the auction, while preserving some degree of bid privacy. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETo demonstrate, we open sourced a Solidity implementation of an overcollateralized sealed-bid auction at \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Egithub.com\u002Fa16z\u002Fauction-zoo\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E as a single-item (ERC721) Vickrey auction with bids denominated in ETH. We approached the implementation with three requirements for a sealed-bid auction smart contract in mind: \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EPrivacy: \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBid values should remain private, meaning observers can’t infer the values while bidding is ongoing. We allow some information leakage (e.g. revealing that a bid lies in some large interval), but there should be a reasonable degree of ambiguity. \u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003ECensorship resistance: \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis can typically be accomplished by posting bids on-chain.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EBid commitment: \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA prospective buyer shouldn’t be able to back out of their bid. The winning bidder should be locked into paying the settled price, and similarly, the seller should be locked in to selling the item to the highest bidder (possibly subject to a reserve price).\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFirst we need to solve the issue of posting \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eprivate\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E bids on-chain, according to the first two requirements. A commit-reveal scheme lends itself to “eventually public” bids (when bid values are revealed after the auction ends). Instead of bidding in the open, prospective buyers can provide a hash commitment of their bid to the auction contract during the designated bidding period. Later, after the bidding period ends, each prospective buyer reveals the bid that they committed to. When the bids are revealed, the smart contract can determine the winner. In our implementation, hash commitments are computed as \u003Ccode\u003Ekeccak256(abi.encode(nonce, bidValue))\u003C\u002Fcode\u003E and passed to the \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\u002Fblob\u002Fmain\u002Fsrc\u002Fsealed-bid\u002Fover-collateralized-auction\u002FOverCollateralizedAuction.sol#L182\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Ccode\u003EcommitBid\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E function. For gas efficiency, we store only the upper 20 bytes of this hash. Once the bidding period is over, users call the \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\u002Fblob\u002Fmain\u002Fsrc\u002Fsealed-bid\u002Fover-collateralized-auction\u002FOverCollateralizedAuction.sol#L222\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Ccode\u003ErevealBid\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and the contract \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\u002Fblob\u002Fmain\u002Fsrc\u002Fsealed-bid\u002Fover-collateralized-auction\u002FOverCollateralizedAuction.sol#L243-L246\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Echecks\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E that the provided \u003Ccode\u003Enonce\u003C\u002Fcode\u003E and \u003Ccode\u003EbidValue\u003C\u002Fcode\u003E match the stored commitment.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cdiv id=\"attachment_2227\" style=\"width: 610px\" class=\"wp-caption aligncenter\"\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" aria-describedby=\"caption-attachment-2227\" class=\"wp-image-2227\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-12-1024x954-1.png\" alt=\"\" width=\"600\" height=\"559\" \u002F\u003E\u003Cp id=\"caption-attachment-2227\" class=\"wp-caption-text\"\u003E\u003Cem\u003ERemember to drink water and pack your storage variables.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe uncover a bit more complexity when moving to the third requirement. To ensure winners pay up, the smart contract must lock in bids. We could require that bidders send ETH to collateralize their bids along with each commitment — note that the \u003Ccode\u003EcommitBid\u003C\u002Fcode\u003E function is payable and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\u002Fblob\u002Fmain\u002Fsrc\u002Fsealed-bid\u002Fover-collateralized-auction\u002FOverCollateralizedAuction.sol#L211-L213\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Erecords\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E how much ETH the user has locked — but the ETH attached to these transactions is public and impossible to obfuscate; in “locking in&#8221; bids, we lose privacy.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFortunately, there is an easy way to prop our strawman back up: allowing (and encouraging) bidders to \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eovercollateralize\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E their bids, i.e. lock up more ETH than their bid value itself requires. With bids being potentially overcollateralized, an observer can only learn an upper bound of a bid’s value. Note that our \u003Ccode\u003EcommitBid\u003C\u002Fcode\u003E function allows the user to lock up \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eany\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E amount of ETH with their transaction; any excess gets \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\u002Fblob\u002Fmain\u002Fsrc\u002Fsealed-bid\u002Fover-collateralized-auction\u002FOverCollateralizedAuction.sol#L318-L324\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ereturned\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to the winner at the end of the auction (and a bid will be \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\u002Fblob\u002Fmain\u002Fsrc\u002Fsealed-bid\u002Fover-collateralized-auction\u002FOverCollateralizedAuction.sol#L254-L259\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eignored\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E if it’s \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eunder\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ecollateralized).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUnfortunately, this quick fix comes with a downside: Overcollateralization creates a direct tradeoff between privacy and capital efficiency. The opportunity cost of locking up a large amount of capital may outweigh the marginal privacy, and capital-constrained bidders are at a disadvantage. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThat said, the overcollateralized design serves as a useful baseline as we continue to explore different approaches. An evolution of this implementation could be particularly useful in settings where a user may be bidding in a large number of auctions and collateral can be reused for each. In this case, it would then be natural for collateral to be much bigger than the bid in any given auction.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E**\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECan we find even better on-chain solutions? Although overcollateralization may be appropriate for some scenarios, the tradeoff between capital efficiency and bid privacy can present bidders with a difficult decision: lock up more capital for stronger privacy, or sacrifice some privacy to free up capital for use elsewhere. But as on-chain auctions continue to proliferate and build on previous work, we expect auction designers will have many more formats and implementations to choose from based on which tradeoffs they&#8217;re willing to make. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn the next part of this series, we dive further into the design space and consider the question: Can we guarantee strong privacy without overcollateralization? \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis repository\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E will continue to serve as a practical reference for ideas we discuss throughout the series and provide a basis for even further exploration. We hope you’ll follow along, fork, and experiment with more implementations, as they’re added.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAcknowledgements: Thanks to Joe Bonneau, Scott Kominers, Sonal Choksi, and Tim Roughgarden for invaluable feedback on this post; and Noah Citron, Sam Ragsdale, and Matt Gleason for reviewing the code. Special thanks to Stephanie Zinn for editing.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E**\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cbr style=\"font-weight: 400;\" \u002F\u003E\u003Cbr style=\"font-weight: 400;\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cbr style=\"font-weight: 400;\" \u002F\u003E\u003Cbr style=\"font-weight: 400;\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n",post_title:cV,post_excerpt:b,post_status:z,comment_status:B,ping_status:B,post_password:b,post_name:"how-auction-theory-informs-implementations",to_ping:b,pinged:b,post_modified:"2025-01-28 15:14:24",post_modified_gmt:"2025-01-28 23:14:24",post_content_filtered:b,post_parent:c,guid:"http:\u002F\u002Fcrypto.test\u002Fon-paper-to-on-chain-how-auction-theory-informs-implementations-2\u002F",menu_order:c,post_type:aZ,post_mime_type:b,comment_count:q,filter:e,taxonomies:[{term_id:gy,name:cW,slug:"cap-michael-zhu",term_group:c,term_taxonomy_id:gy,taxonomy:I,description:"Michael Zhu Michael Zhu michael-zhu 1205 ",parent:c,count:13,filter:e},{term_id:p,name:A,slug:r,term_group:c,term_taxonomy_id:p,taxonomy:s,description:b,parent:c,count:D,filter:e},{term_id:aJ,name:bp,slug:bq,term_group:c,term_taxonomy_id:aJ,taxonomy:g,description:b,parent:c,count:bW,filter:e},{term_id:K,name:by,slug:bz,term_group:c,term_taxonomy_id:K,taxonomy:t,description:b,parent:c,count:bA,filter:e},{term_id:o,name:n,slug:n,term_group:c,term_taxonomy_id:o,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:aK,name:bt,slug:bu,term_group:c,term_taxonomy_id:aK,taxonomy:g,description:b,parent:c,count:bX,filter:e},{term_id:E,name:aN,slug:aO,term_group:c,term_taxonomy_id:E,taxonomy:g,description:b,parent:c,count:bi,filter:e},{term_id:F,name:u,slug:u,term_group:c,term_taxonomy_id:F,taxonomy:t,description:b,parent:c,count:bj,filter:e},{term_id:aI,name:bv,slug:bw,term_group:c,term_taxonomy_id:aI,taxonomy:g,description:b,parent:c,count:aP,filter:e},{term_id:bY,name:cN,slug:cO,term_group:c,term_taxonomy_id:bY,taxonomy:g,description:b,parent:c,count:bP,filter:e}],acf:{custom_title:b,redirect_author_links_to_the_post:f,content:[{acf_fc_layout:a_,paragraph:"\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEditor’s note: This piece is part of our ongoing series on all things ‘auctions for web3’. \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fauction-design-mechanisms-incentives-choices-tradeoffs\" target=\"_blank\" rel=\"noopener\"\u003EPart 1\u003C\u002Fa\u003E was an overview of auction designs, and technical challenges (and opportunities) specific to mechanism design in a permissionless blockchains context. \u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fnft-sales-market-clearing-gas-wars-auction-mechanism-design-for-builders\u002F\" target=\"_blank\" rel=\"noopener\"\u003EPart 2\u003C\u002Fa\u003E was a piece on clearing the market and avoiding gas wars.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAuctions are ubiquitous in crypto. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFrom \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdocs.makerdao.com\u002Fkeepers\u002Fthe-auctions-of-the-maker-protocol\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMaker\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E collateral auctions, to \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdocs.flashbots.net\u002FFlashbots-auction\u002Foverview\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFlashbots’\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E sealed-bid blockspace auctions and NFT auctions on \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fsupport.opensea.io\u002Fhc\u002Fen-us\u002Farticles\u002F1500003246082-How-do-timed-auctions\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOpenSea\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, auctions are suitable for a wide array of situations where price discovery, liquidity, or allocation of scarce resources is needed, both on and off-chain. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EHowever, juxtaposed against the vast (and growing) body of academic research on auctions, it’s clear that we’ve only scratched the surface of what these mechanisms might be able to offer on-chain — for example, optimizing for privacy, efficiency, buyer surplus, and other key design objectives. Given the “Cambrian explosion” of automated market maker (AMM) designs following Curve and Sushiswap in 2020 — and the concurrent explosion of third-generation blockchains — it’s plausible (inevitable, perhaps) that on-chain auctions are ripe for a similar evolutionary upsurge. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhereas auction formats were once loosely adopted for (and constrained by) the technical limits of blockchains, we’re now starting to see more novel designs adapted especially for blockchains. Following in the tradition of \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Facademic.oup.com\u002Foxrep\u002Farticle\u002F33\u002F4\u002F541\u002F4587951\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Emarket design\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, this post is part of a series that aims to bridge the gap between auction theory and practice: How can theoretical principles inform implementation decisions? And how can on-chain implementations, in turn, inform new directions of theoretical research? \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThough theory can guide us toward a certain auction design, a seemingly innocuous implementation detail itself may be interesting to analyze with a theoretical lens. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe begin by comparing the four canonical auction types along three axes: \u003C\u002Fspan\u003E\u003Cb\u003Einformation revelation\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003Cb\u003Ebidding strategy\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, and \u003C\u002Fspan\u003E\u003Cb\u003Eon-chain implementation considerations\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. Then we’ll focus on sealed-bid formats specifically, dive deeper into the implementation subtleties that have made them relatively unexplored on-chain, and introduce our \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eopen source Solidity implementation\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E of a Vickrey auction — which we hope others can use as a reference and basis for further experimentation. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]But first, a brief primer on auction formats\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe’ve previously covered auction design — in both traditional formats and as applied and adapted to blockchains — in great detail on a recent \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fauction-design-mechanisms-incentives-choices-tradeoffs\"\u003Epodcast\u003C\u002Fa\u003E with a16z crypto research partner (and Harvard Business School professor) Scott Kominers \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eand a16z crypto head of research (and professor at Columbia University) Tim Roughgarden. Drawing on their expertise advising crypto protocols, they provide an overview of auction types and incentive design, in both theory and practice — including the nuances of \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fnft-sales-market-clearing-gas-wars-auction-mechanism-design-for-builders\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Emarket-clearing prices and gas wars\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (which we covered in part two of this ongoing series on auction design for web3).\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBut to set some quick context for the implementation below: auction theory has historically centered around four canonical \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.econlib.org\u002Flibrary\u002FEnc\u002FAuctions.html\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eauction types\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, first taxonomized by \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.cs.princeton.edu\u002Fcourses\u002Farchive\u002Fspr09\u002Fcos444\u002Fpapers\u002Fvickrey61.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWilliam Vickrey\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E in 1961 and described here in the context of an auction for a single good.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FEnglish_auction\"\u003E\u003Cb\u003EEnglish\u003C\u002Fb\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (ascending-price): In an English, or ascending-price auction, the auctioneer opens bidding at a reserve (minimum) price, and bidders place incrementally higher bids until only one bidder willing to pay the current price is left, at which point the last bidder wins. This is the auction format most commonly portrayed in popular culture and media, often in the context of selling antiques, artwork, or \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fyoutu.be\u002FuxnWzm0T_tA\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Euncut gems\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. \u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FDutch_auction\"\u003E\u003Cb\u003EDutch\u003C\u002Fb\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (descending-price): In a Dutch, or descending-price auction, the opening price decreases according to a prescribed schedule. In a Dutch auction, the first to bid is the winner and the auction instantly ends. Historically, multi-unit versions of Dutch auctions have often been used to sell large quantities of goods that have a limited shelf life, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.tandfonline.com\u002Fdoi\u002Fabs\u002F10.1080\u002F10864415.2016.1319222?\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esuch as\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E cut flowers, fish, or tobacco. More recently, the U.S. Treasury introduced the use of Dutch auctions for securities (\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.treasurydirect.gov\u002Findiv\u002Fresearch\u002Fhistory\u002Fhisttime\u002Fhisttime_auctions.htm\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E1974\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), and the Google IPO in 2004 (\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.cnbc.com\u002F2014\u002F08\u002F18\u002Fpisani-googles-ipo-was-a-disasterat-the-time.html\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Einfamously\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) sold its shares via Dutch auction.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FFirst-price_sealed-bid_auction\"\u003E\u003Cb\u003ESealed-bid first-price\u003C\u002Fb\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: Each bidder submits a sealed bid (e.g. in a sealed envelope) to the auctioneer. Once all bids are submitted, the auctioneer privately reads them and announces the winner (the highest bidder). The winner then pays the amount that they bid. Sealed-bid first-price auctions are often used in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.nytimes.com\u002F1995\u002F05\u002F14\u002Frealestate\u002Fin-a-hot-market-the-sealed-bid-comes-into-play.html\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ereal estate\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E when a property garners interest from multiple buyers. \u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FVickrey_auction\"\u003E\u003Cb\u003ESealed-bid second-price\u003C\u002Fb\u003E\u003C\u002Fa\u003E \u003Cspan style=\"font-weight: 400;\"\u003E(the\u003C\u002Fspan\u003E \u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Cb\u003EVickrey auction\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E”): Vickrey’s namesake auction is the same as the sealed-bid first-price auction, except the winner in this auction type pays the value of the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esecond\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E-highest bid. Despite having interesting theoretical properties, the Vickrey auction is rarely seen on-chain (partly due to the difficulty of implementing sealed bids).\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThese four auction types have different properties and dynamics which are further complicated when translated to smart contract implementations (and which we’ll detail later).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Comparing auction types by information revelation\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOne of the more natural ways to characterize each auction type is by \u003C\u002Fspan\u003E\u003Cb\u003Ebid visibility \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(open vs sealed-bid). Even with all else held equal, changing bid visibility can have profound impact on the dynamics and outcome of an auction.\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEnglish and Dutch auctions are \u003C\u002Fspan\u003E\u003Cb\u003Eopen-outcry \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eauctions, meaning prices are announced verbally as they ascend or descend, and bids (including their amounts) are public to all potential buyers. Sealed-bid auctions, however, may employ a few different flavors of privacy:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EEventually public\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: all bids are revealed publicly after the auction ends\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EPublic price\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: only the winning price is revealed, and not other bids\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EFully private\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: nothing is revealed publicly about the bids or winning price\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThese assumptions around bid visibility mean that the auctions also differ in terms of \u003C\u002Fspan\u003E\u003Cb\u003Einformation revelation\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E; different auction formats reveal different amounts of information about bidders’ valuations (often an upper or lower bound) at different stages of the process. In an English auction, placing a bid effectively establishes a lower bound on that bidder’s valuation. In a Dutch auction, on the other hand, the current price can be interpreted as an upper bound on all the bidders’ valuations. Sealed-bid auctions reveal information only after the auction ends, if at all. \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIt’s worth noting that Dutch auctions can take on qualities of both open and sealed-bid auctions. Single-item Dutch auctions have similar privacy properties to public-price sealed-bid auctions (since the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Efirst \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ebid wins, all other, lower bids are kept private). But as we’ll see later, these properties change significantly when Dutch auctions are run on-chain. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Common and private values\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EExamining sales of \u003C\u002Fspan\u003E\u003Cb\u003Eprivate \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eand \u003C\u002Fspan\u003E\u003Cb\u003Ecommon value \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003Egoods\u003C\u002Fspan\u003E \u003Cspan style=\"font-weight: 400;\"\u003Eacross open-bid and sealed-bid auctions can provide another lens for comparing these formats. In an auction selling a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FCommon_value_auction\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ecommon value good\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, the item has some intrinsic value that is shared among all bidders, but the bidders may have different or incomplete information about that value. In Nobel-prize winning behavioral economist \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fpubs.aeaweb.org\u002Fdoi\u002Fpdfplus\u002F10.1257\u002Fjep.2.1.191\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ERichard Thaler’s\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E canonical example of common value, a jar of coins is up for auction; none of the bidders knows the exact value contained in the jar, but everyone has their own estimate. In an auction selling a private value good, each bidder has an individual value for the auctioned item, independent of their peers. To draw examples from web3, an NFT bought purely for personal enjoyment (with no intention \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eof resale or expectation of future utility) is a private value good, while the collateral from a liquidated Maker vault is a common value good.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMeanwhile, the authors of another \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fweb.stanford.edu\u002F~jdlevin\u002FPapers\u002FAuctions.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epaper\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E looking at data from timber auctions found that sealed-bid auctions “attract more small bidders, shift the allocation toward these bidders, and can also generate higher revenue” compared to their open-bid counterparts. Notably, the authors found that these results could be accounted for by a private value model (where private values vary based on idiosyncrasies of timber auctions, like “differences in bidder costs and contractual arrangements”), omitting common values from their model entirely. This suggests that a seller may benefit from choosing a sealed-bid auction for sales where bidders have disparate motivations, contexts, or uses for the auctioned item.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEnglish auctions can be useful in settings where common values\u003C\u002Fspan\u003E \u003Cspan style=\"font-weight: 400;\"\u003Edominate and price discovery is an objective — as mentioned, the bidders learn how others are valuing the item as bids come in, and can adjust their strategy accordingly. In one study of reverse auctions in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdeliverypdf.ssrn.com\u002Fdelivery.php?ID=530112070066075000092008069102079022009056033020093009075021094091004074125007119023004010006016122030040069028096006117124106056014025055017120085071065023074127001017015016101064005021087121089010091120109109004116084114122065004116124065091121030071&amp;EXT=pdf&amp;INDEX=TRUE\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eonline labor markets\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, the authors found that while sealed-bid auctions attracted more bids, open-bid auctions resulted in these buyers getting a better price (or a greater buyer surplus). The analysis suggests that the differences “largely depend on the relative importance of the common value (versus the private value) component of the auctioned IT services.” In other words, the open-bid format allows bidders to dynamically recalibrate their understanding of how much the service is worth, which is often unclear at the start of the auction.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn practice, auctions typically display a combination of both common and private-value characteristics. The interplay between the characteristics of these goods, and how (and when) information is revealed by the auction format has complex downstream effects on bidding strategy. This leads us to the question: Can we formalize the notion of a “simple” bidding strategy (I don’t need to think too hard about how you might bid); and are there auctions where such strategies are optimal?\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Comparing auction types by bidding strategy\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOf the four canonical auction types, one that has been conspicuously absent from our analysis so far is the Vickrey auction. A careful reader may raise an eyebrow at the Vickrey auction’s payment rule: the winner pays the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esecond\u003C\u002Fspan\u003E\u003C\u002Fi\u003E \u003Cspan style=\"font-weight: 400;\"\u003Ehighest bid instead of what they themselves bid. This may seem counterintuitive at first, but English auctions ultimately settle in a similar way. An English auction ends with the lowest bid that no other bidder is willing to meet; the winner has no reason to bid any further, even if their own valuation is much higher. In fact, English and Vickrey auctions share a nice theoretical advantage over Dutch and sealed-bid first-price auctions: \u003C\u002Fspan\u003E\u003Cb\u003Edominant-strategy incentive-compatibility\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (DSIC). \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAt a high level, this means that each bidder’s utility-maximizing strategy is simply to bid whatever they actually believe the auctioned item is worth (in a common value auction, this is just the expected value of the item, conditioned on the bidder’s information). For a deeper dive, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftimroughgarden.org\u002Ff13\u002Fl\u002Fl2.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethese\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E lecture notes serve as an excellent primer.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn a first-price auction, there is no such dominant bidding strategy. Bidders need to \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FBid_shading\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eshade\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (or reduce) their bids to be lower than their valuation to obtain positive utility. Exactly how much lower they can get away with while still outbidding fellow participants is a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FBayesian_game\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBayesian game\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. A Dutch auction is strategically similar. In order to obtain positive utility, a bidder must wait until the price drops below their valuation, but how long to wait after that threshold is another Bayesian game. Perhaps more surprisingly, the expected revenue for \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eall four auction types\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E is the same (under certain assumptions; see \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fweb.stanford.edu\u002F~jdlevin\u002FEcon%20286\u002FAuctions.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETheorem 1\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E). \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDespite the theoretical advantages of Vickrey auctions, they are somewhat uncommon in practice. In \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fmilgrom.people.stanford.edu\u002Fwp-content\u002Fuploads\u002F2005\u002F12\u002FLovely-but-Lonely-Vickrey-Auction-072404a.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Lovely but Lonely Vickrey Auction\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, economists Lawrence Ausubel and Paul Milgrom provide several explanations why this may be the case. The authors note that despite being strategically equivalent, English auctions are intuitively easier for bidders to reason about than Vickrey auctions. This intuition is formalized in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fmpra.ub.uni-muenchen.de\u002F78930\u002F1\u002FMPRA_paper_78930.pdf\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EObviously Strategy-Proof Mechanisms\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, which shows that English auctions are not only DSIC, but bidding truthfully is “obviously dominant”. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETo provide a real-world example, Google \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fblog.google\u002Fproducts\u002Fadsense\u002Four-move-to-a-first-price-auction\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eannounced\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E last year that AdSense — a program where advertisers bid for ad space on content — would be moving from second-price to first-price auctions, citing simplicity and alignment with the rest of the digital advertising ecosystem. In addition to these usability considerations, platforms like AdSense assume a position of trust when running second-price auctions: by overreporting the second-highest bid, a dishonest auctioneer could extract more payment from the winner. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAlthough these concerns have slowed adoption, the Vickrey auction could find new use cases when extended to new environments. Public blockchains, in particular, provide a credibly neutral platform that may help circumvent issues such as the dishonest auctioneer. This, coupled with the diversity of potential on-chain applications, suggest that smart contracts may provide a uniquely effective testbed for the Vickrey auction mechanism.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Comparing auction types through implementation considerations\u003C\u002Fspan\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBringing auctions on-chain can sometimes pose new challenges, relative to off-chain counterparts. In the following sections, we’ll explore the current landscape of on-chain auctions and implementation considerations for each auction type. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOn-chain English auctions\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe majority of on-chain auctions found in the wild today fall into the open-bid category (i.e. English or Dutch). These include ascending-price OpenSea auctions, Maker collateral auctions, and the Zora Auction House contract. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUnder the hood of OpenSea, bids are off-chain messages that encode the bid value, signed by the bidder. As prospective buyers place their bids, the OpenSea UI surfaces the bid values to the seller and to potential bidders. In Maker collateral and Zora auctions, however, bidders submit a transaction to indicate their bid; then the bid transaction escrows the bidder’s collateral in an auction contract. By virtue of being an unobfuscated on-chain transaction, the bid is inherently open — anyone can see what their fellow bidders are offering by looking at incoming transactions to the auction contract (either in the public mempool, or as they get included in the chain). \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOverall, English auction dynamics remain relatively intact when translated into a smart contract. One notable difference is that on-chain bids incur a gas cost, which is priced into the de facto bid value. As gas prices fluctuate over the bidding period of an auction, a bidder who otherwise would’ve had the highest offer may be temporarily priced out by expensive gas fees.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOn-chain Dutch auctions\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOn-chain Dutch auctions have seen significant traction, from facilitating \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fthedefiant.io\u002Filluvium-land-72m\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ENFT\u003C\u002Fspan\u003E\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fwww.azuki.com\u002Fmintinfo\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Esales\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to rebalancing \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fhelp.tokensets.com\u002Fen\u002Farticles\u002F3399436-how-to-participate-in-set-protocol-rebalance-auctions\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETokenSets\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (and spawning variants like \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.paradigm.xyz\u002F2022\u002F04\u002Fgda\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EGradual Duction Auctions \u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eand \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.paradigm.xyz\u002F2022\u002F08\u002Fvrgda\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EV\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eariable Rate GDAs\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E). This popularity is for good reason –– a simple Dutch auction is relatively easy to implement as a smart contract and requires just two on-chain transactions (one to create the auction, one for the first and only bid). Most importantly, it doesn’t lock bidders’ funds, unlike other auctions with on-chain bids.   \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe dynamics of off-chain Dutch auctions depend on bidding being effectively instantaneous. A single-item Dutch auction ends as soon as a bid is announced, and no other bids can be placed. When conducted on-chain, however, there is a gap in time between when the bid is broadcast and when it is included in the chain, which can have some unexpected consequences. If the first bid is broadcast to the public mempool (as opposed to a private transaction pool like \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fdocs.flashbots.net\u002FFlashbots-auction\u002Foverview\u002F#how-does-it-work\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFlashbots\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), it may kick off a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fnft-sales-market-clearing-gas-wars-auction-mechanism-design-for-builders\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Egas war\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, with other prospective buyers broadcasting bids with incrementally higher gas prices. As a result, the gas-adjusted price can rise suddenly as the off-chain, \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eascending\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E-price auction for transaction ordering eclipses the Dutch auction itself. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe time-dependent nature of the descending-price mechanism brings other drawbacks as well. Assuming a continuous price decay function, a bidder must be online exactly when necessary to place a bid at a specific price, or set up a bot (e.g. using \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.gelato.network\u002F\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EGelato Network\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) to bid for them. Network congestion that incidentally (or maliciously) coincides with the broadcast of the first bid can lower the final settled price to the detriment of the seller’s revenue. Worse yet, a denial of service (DoS) attack could cost the rightful winner the auction. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch4\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOn-chain sealed-bid auctions, demonstrated by a new open source implementation\u003C\u002Fspan\u003E\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPlatforms that utilize off-chain bids (e.g. OpenSea) could easily implement sealed-bid auctions, but they would require trusting an auctioneer to (a) not reveal any bids, (b) not censor any bids, and (c) correctly determine the result of the auction. Ideally, a smart contract would \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Etrustlessly\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E facilitate the auction, while preserving some degree of bid privacy. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ETo demonstrate, we open sourced a Solidity implementation of an overcollateralized sealed-bid auction at \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Egithub.com\u002Fa16z\u002Fauction-zoo\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E as a single-item (ERC721) Vickrey auction with bids denominated in ETH. We approached the implementation with three requirements for a sealed-bid auction smart contract in mind: \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EPrivacy: \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBid values should remain private, meaning observers can’t infer the values while bidding is ongoing. We allow some information leakage (e.g. revealing that a bid lies in some large interval), but there should be a reasonable degree of ambiguity. \u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003ECensorship resistance: \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis can typically be accomplished by posting bids on-chain.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EBid commitment: \u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA prospective buyer shouldn’t be able to back out of their bid. The winning bidder should be locked into paying the settled price, and similarly, the seller should be locked in to selling the item to the highest bidder (possibly subject to a reserve price).\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFirst we need to solve the issue of posting \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eprivate\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E bids on-chain, according to the first two requirements. A commit-reveal scheme lends itself to “eventually public” bids (when bid values are revealed after the auction ends). Instead of bidding in the open, prospective buyers can provide a hash commitment of their bid to the auction contract during the designated bidding period. Later, after the bidding period ends, each prospective buyer reveals the bid that they committed to. When the bids are revealed, the smart contract can determine the winner. In our implementation, hash commitments are computed as \u003Ccode\u003Ekeccak256(abi.encode(nonce, bidValue))\u003C\u002Fcode\u003E and passed to the \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\u002Fblob\u002Fmain\u002Fsrc\u002Fsealed-bid\u002Fover-collateralized-auction\u002FOverCollateralizedAuction.sol#L182\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Ccode\u003EcommitBid\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E function. For gas efficiency, we store only the upper 20 bytes of this hash. Once the bidding period is over, users call the \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\u002Fblob\u002Fmain\u002Fsrc\u002Fsealed-bid\u002Fover-collateralized-auction\u002FOverCollateralizedAuction.sol#L222\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Ccode\u003ErevealBid\u003C\u002Fcode\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and the contract \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\u002Fblob\u002Fmain\u002Fsrc\u002Fsealed-bid\u002Fover-collateralized-auction\u002FOverCollateralizedAuction.sol#L243-L246\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Echecks\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E that the provided \u003Ccode\u003Enonce\u003C\u002Fcode\u003E and \u003Ccode\u003EbidValue\u003C\u002Fcode\u003E match the stored commitment.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cdiv id=\"attachment_2227\" style=\"width: 610px\" class=\"wp-caption aligncenter\"\u003E\u003Cimg aria-describedby=\"caption-attachment-2227\" loading=\"lazy\" decoding=\"async\" class=\"wp-image-2227\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-12-1024x954-1.png\" alt=\"\" width=\"600\" height=\"559\" \u002F\u003E\u003Cp id=\"caption-attachment-2227\" class=\"wp-caption-text\"\u003E\u003Cspan style=\"font-size: 11.5pt;\"\u003E\u003Cem\u003ERemember to drink water and pack your storage variables.\u003C\u002Fem\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe uncover a bit more complexity when moving to the third requirement. To ensure winners pay up, the smart contract must lock in bids. We could require that bidders send ETH to collateralize their bids along with each commitment — note that the \u003Ccode\u003EcommitBid\u003C\u002Fcode\u003E function is payable and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\u002Fblob\u002Fmain\u002Fsrc\u002Fsealed-bid\u002Fover-collateralized-auction\u002FOverCollateralizedAuction.sol#L211-L213\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Erecords\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E how much ETH the user has locked — but the ETH attached to these transactions is public and impossible to obfuscate; in “locking in&#8221; bids, we lose privacy.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFortunately, there is an easy way to prop our strawman back up: allowing (and encouraging) bidders to \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eovercollateralize\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E their bids, i.e. lock up more ETH than their bid value itself requires. With bids being potentially overcollateralized, an observer can only learn an upper bound of a bid’s value. Note that our \u003Ccode\u003EcommitBid\u003C\u002Fcode\u003E function allows the user to lock up \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eany\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E amount of ETH with their transaction; any excess gets \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\u002Fblob\u002Fmain\u002Fsrc\u002Fsealed-bid\u002Fover-collateralized-auction\u002FOverCollateralizedAuction.sol#L318-L324\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ereturned\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E to the winner at the end of the auction (and a bid will be \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\u002Fblob\u002Fmain\u002Fsrc\u002Fsealed-bid\u002Fover-collateralized-auction\u002FOverCollateralizedAuction.sol#L254-L259\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eignored\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E if it’s \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eunder\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ecollateralized).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EUnfortunately, this quick fix comes with a downside: Overcollateralization creates a direct tradeoff between privacy and capital efficiency. The opportunity cost of locking up a large amount of capital may outweigh the marginal privacy, and capital-constrained bidders are at a disadvantage. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThat said, the overcollateralized design serves as a useful baseline as we continue to explore different approaches. An evolution of this implementation could be particularly useful in settings where a user may be bidding in a large number of auctions and collateral can be reused for each. In this case, it would then be natural for collateral to be much bigger than the bid in any given auction.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E**\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECan we find even better on-chain solutions? Although overcollateralization may be appropriate for some scenarios, the tradeoff between capital efficiency and bid privacy can present bidders with a difficult decision: lock up more capital for stronger privacy, or sacrifice some privacy to free up capital for use elsewhere. But as on-chain auctions continue to proliferate and build on previous work, we expect auction designers will have many more formats and implementations to choose from based on which tradeoffs they&#8217;re willing to make. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIn the next part of this series, we dive further into the design space and consider the question: Can we guarantee strong privacy without overcollateralization? \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fauction-zoo\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis repository\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E will continue to serve as a practical reference for ideas we discuss throughout the series and provide a basis for even further exploration. We hope you’ll follow along, fork, and experiment with more implementations, as they’re added.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAcknowledgements: Thanks to Joe Bonneau, Scott Kominers, Sonal Chokshi, and Tim Roughgarden for invaluable feedback on this post; and Noah Citron, Sam Ragsdale, and Matt Gleason for reviewing the code. Special thanks to Stephanie Zinn for editing.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E**\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F\u003C\u002Fa\u003E.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fa\u003E for additional important information\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cbr style=\"font-weight: 400;\" \u002F\u003E\u003Cbr style=\"font-weight: 400;\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cbr style=\"font-weight: 400;\" \u002F\u003E\u003Cbr style=\"font-weight: 400;\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n"}],related_posts:a$,post_redirector:f,format:{term_id:p,name:A,slug:r,term_group:c,term_taxonomy_id:p,taxonomy:s,description:b,parent:c,count:D,filter:e},disclosure_relation:f},tags:[{term_id:aJ,name:bp,slug:bq,term_group:c,term_taxonomy_id:aJ,taxonomy:g,description:b,parent:c,count:bW,filter:e},{term_id:o,name:n,slug:n,term_group:c,term_taxonomy_id:o,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:aK,name:bt,slug:bu,term_group:c,term_taxonomy_id:aK,taxonomy:g,description:b,parent:c,count:bX,filter:e},{term_id:E,name:aN,slug:aO,term_group:c,term_taxonomy_id:E,taxonomy:g,description:b,parent:c,count:bi,filter:e},{term_id:aI,name:bv,slug:bw,term_group:c,term_taxonomy_id:aI,taxonomy:g,description:b,parent:c,count:aP,filter:e},{term_id:bY,name:cN,slug:cO,term_group:c,term_taxonomy_id:bY,taxonomy:g,description:b,parent:c,count:bP,filter:e}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"576\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FAuction-Series-Part3_VirtualGallery_TW-1024x576.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FAuction-Series-Part3_VirtualGallery_TW-1024x576.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FAuction-Series-Part3_VirtualGallery_TW-300x169.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FAuction-Series-Part3_VirtualGallery_TW-768x432.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FAuction-Series-Part3_VirtualGallery_TW.jpg 1200w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FAuction-Series-Part3_VirtualGallery_TW-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FAuction-Series-Part3_VirtualGallery_TW-150x150.jpg",width:O},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FAuction-Series-Part3_VirtualGallery_TW-300x169.jpg",width:aT},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FAuction-Series-Part3_VirtualGallery_TW-1024x576.jpg",width:bN}],authors:[{ID:"1205",display_name:"Michael Zhu",first_name:"Michael",last_name:"Zhu",user_login:cW,user_email:b,linked_account:b,website:b,description:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EMichael is a research engineer for a16z crypto, writing open-source code in collaboration with the research team and helping portfolio companies on all things smart contract-related.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EPrior to joining a16z crypto, Michael led protocol development at 0x Labs, architecting smart contracts to facilitate peer-to-peer trading on multiple blockchains. Before that, he was a student at Stanford University, where he received BS and MS degrees in Computer Science.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n",user_nicename:cW,type:J,nickname:b}],meta_desc:gz,seo:{title_tag:"How Auction Theory Informs Implementations - a16z crypto",meta_description:gz,canonical:gA,robots:{index:ba,follow:bb,"max-snippet":bc,"max-image-preview":bd,"max-video-preview":be},open_graph_locale:bf,open_graph_type:r,open_graph_title:cV,open_graph_description:gB,open_graph_url:gA,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2022/10/Auction-Series-Part3_VirtualGallery_TW.jpg":{width:1200,height:675,filesize:846545,url:gC,path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FAuction-Series-Part3_VirtualGallery_TW.jpg",size:bV,id:"4973",alt:b,pixels:810000,type:cX}},open_graph_site_name:bg,estimated_reading_time_minutes:bZ,twitter_card:bh,twitter_title:cV,twitter_description:gB,twitter_image:gC,open_graph_article_published_time:"2022-10-07T00:00:00+00:00"},format:{term_id:p,name:A,slug:r,term_group:c,term_taxonomy_id:p,taxonomy:s,description:b,parent:c,count:D,filter:e},template:b,disclosure:f},{ID:2994,post_author:cF,post_date:gD,post_date_gmt:gD,post_content:"\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEditor’s note: This piece is part of our ongoing series on all things ‘auctions for web3’. For an overview of auction designs, and technical challenges (and opportunities) specific to mechanism design in a permissionless blockchains context, please \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fauction-design-mechanisms-incentives-choices-tradeoffs\" target=\"_blank\" rel=\"noopener\"\u003Echeck out this episode\u003C\u002Fa\u003E.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"alignnone size-full wp-image-3967 aligncenter\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1.jpg\" alt=\"\" width=\"768\" height=\"768\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1-300x300.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1-150x150.jpg 150w\" sizes=\"auto, (max-width: 768px) 100vw, 768px\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EA key feature of web3 is \u003Ca href=\"https:\u002F\u002Ffuture.a16z.com\u002Fnfts-thousand-true-fans\u002F\" target=\"_blank\" rel=\"noopener\"\u003Eenabling\u003C\u002Fa\u003E early fans of a creator, product, or platform to form a community through ownership of associated \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fcdixon\u002Fstatus\u002F1440026947036356619\" target=\"_blank\" rel=\"noopener\"\u003Etokens\u003C\u002Fa\u003E on a blockchain. When it comes to non-fungible tokens or \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Ftag\u002Fnfts\u002F\" target=\"_blank\" rel=\"noopener\"\u003ENFTs\u003C\u002Fa\u003E &#8212; which uniquely represent ownership of media such as code, digital art, characters, memes, music, text, videos, games, \u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fmetaverse-real-estate-digital-land-value-to-users\u002F\" target=\"_blank\" rel=\"noopener\"\u003Evirtual real estate\u003C\u002Fa\u003E, and much more &#8212; creators often build significant anticipation and engagement before their initial sales. This can contribute to community-building among early collectors, which can sometimes in turn \u003Ca href=\"https:\u002F\u002Fhbr.org\u002F2022\u002F05\u002Fwhy-build-in-web3\" target=\"_blank\" rel=\"noopener\"\u003Egrow the value\u003C\u002Fa\u003E of holding the token.\u003C\u002Fp\u003E\n\u003Cp\u003EInstead of letting the market decide the price for their primary sale offerings, however, many NFT projects choose to initially sell their NFTs at prices \u003Cem\u003Ebelow\u003C\u002Fem\u003E the market-clearing level. Sometimes this is because the team doesn&#8217;t realize the sheer demand for their offering, or because they designed their initial sale mechanism poorly. Often, however, selling NFTs at below-market-clearing prices comes out of a direct desire to make the sale accessible to more people or to achieve specific \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=X9Y12Pri_dI\" target=\"_blank\" rel=\"noopener\"\u003Edistributional\u003C\u002Fa\u003E goals.\u003C\u002Fp\u003E\n\u003Cp\u003EBut what happens when market designers \u003Ca href=\"https:\u002F\u002Fwww.econometricsociety.org\u002Fpublications\u002Feconometrica\u002F2021\u002F07\u002F01\u002Fredistribution-through-markets\" target=\"_blank\" rel=\"noopener\"\u003Etrade off\u003C\u002Fa\u003E \u003Cem\u003Eefficiency for equity \u003C\u002Fem\u003E(here we mean “equity” as in the fairness of the marketplace and market-clearing mechanisms); or when \u003Cem\u003Edemand far outstrips supply, \u003C\u002Fem\u003Eas is often the case with high-demand NFT launches and drops?\u003C\u002Fp\u003E\n\u003Cp\u003EWhen people want to purchase scarce resources in a market, this inevitably leads to competition among prospective buyers along other dimensions. In the Ethereum ecosystem, that competition can produce so-called “gas wars” that escalate when prospective buyers bid the gas price upwards as they compete to be first in line for the sale. So how can builders avoid this? And more broadly, how can builders address market demand if they really do want to offer their NFTs at a below-market-clearing price? Here, we offer some guidance for builders  from our vantage point of auction theory and mechanism design in practice &#8212; especially in the unique \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fauction-design-mechanisms-incentives-choices-tradeoffs\" target=\"_blank\" rel=\"noopener\"\u003Econtext of blockchains\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003E[toc-embed]But first, some background: On market-clearing prices; on trading off efficiency \u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EWhen there are high-demand launches or limits on purchasing, buyer demand can far outstrip supply. Market pressure then drives the price towards the level at which demand and supply match up (or equalize) &#8212; that is, the “\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMarket_clearing\" target=\"_blank\" rel=\"noopener\"\u003Emarket-clearing price\u003C\u002Fa\u003E”. This inevitable drive towards prices at which supply and demand meet is one of the most core \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=ulyVXa-u4wE\" target=\"_blank\" rel=\"noopener\"\u003Eprinciples of economics\u003C\u002Fa\u003E. Even when the “pricing” is somewhat hidden – for example, competition over gas fees &#8212; in the end, market forces make it so that some form of payment ends up helping supply and demand match up.\u003C\u002Fp\u003E\n\u003Cp\u003EImplementing price controls, for example, typically leads to competition over access &#8212; long lines, more time spent seeking purchase opportunities, or other costs. This has famously happened in non-blockchain contexts, such as with rent control and price ceilings on (literal) \u003Ca href=\"https:\u002F\u002Fwww.washingtonpost.com\u002Fhistory\u002F2021\u002F05\u002F13\u002Fgas-shortages-1970s\u002F\" target=\"_blank\" rel=\"noopener\"\u003Egasoline\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ESimilarly, as described above, “gas wars” on Ethereum are a market equilibrium phenomenon: They arise directly through market forces, in response to constrained supply. (“Gas” in this context is the amount of computational effort required to execute specific operations on the network.) More specifically, gas wars occur during NFT mints when buyers try to jump ahead of each other in line, which causes a sudden spike in the immediate demand for blockspace; that in turn drives up gas prices, and leads to ever-higher transaction fees.\u003C\u002Fp\u003E\n\u003Cp\u003EOne common misconception that often comes up in discussions about avoiding gas wars is the need to optimize the smart contract running the sale. While that’s certainly good to do for other reasons, such as user accessibility, more gas-efficient smart contracts can&#8217;t on their own prevent gas wars, which arise through market forces. And paradoxically, if the contract is better optimized, gas prices will need to go even \u003Cem\u003Ehigher\u003C\u002Fem\u003E to achieve the same effective price. (Although optimized contracts do at least have more sales per block, which makes the whole process &#8212; including the gas wars &#8212; end more quickly.)\u003C\u002Fp\u003E\n\u003Cp\u003EEthereum co-founder Vitalik Buterin pointed this out as well \u003Ca href=\"https:\u002F\u002Fvitalik.ca\u002Fgeneral\u002F2021\u002F08\u002F22\u002Fprices.html\" target=\"_blank\" rel=\"noopener\"\u003Ein a post last year\u003C\u002Fa\u003E on market-clearing prices in the context of NFT drops (and the erstwhile phenomenon of ICOs), and the negative externalities that result. In the piece, Buterin also suggested alternatives to selling below market-clearing prices &#8212; whether the goal for doing so is to achieve fairness, or community sentiment, or fun.\u003C\u002Fp\u003E\n\u003Cp\u003EOn a related note: One of the authors of this post (Scott) also recently presented work with \u003Ca href=\"http:\u002F\u002Fweb.stanford.edu\u002F~mohamwad\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMohammad Akbarpour\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fsites.northwestern.edu\u002Fdworczak\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPiotr Dworczak\u003C\u002Fspan\u003E\u003C\u002Fa\u003E on ”\u003Ca href=\"https:\u002F\u002Fpapers.ssrn.com\u002Fsol3\u002Fpapers.cfm?abstract_id=3609182\" target=\"_blank\" rel=\"noopener\"\u003Eredistributive allocation mechanisms\u003C\u002Fa\u003E” &#8212; a theory for how marketplace designers can think about the tradeoffs between efficiency and “equity” or redistributive concerns, and how the same approaches for designing revenue-maximizing auctions and efficient allocation mechanisms can be applied when there are market-level redistributive goals. In non-blockchain contexts, this work has implications for policy problems such as in-kind transfer programs for \u003Ca href=\"https:\u002F\u002Fwww.bloomberg.com\u002Fopinion\u002Farticles\u002F2020-01-27\u002Ffood-stamp-work-requirements-just-look-cruel\" target=\"_blank\" rel=\"noopener\"\u003Efood\u003C\u002Fa\u003E and healthcare, as well as \u003Ca href=\"https:\u002F\u002Fssrn.com\u002Fabstract=3846931\" target=\"_blank\" rel=\"noopener\"\u003Evaccine allocation\u003C\u002Fa\u003E; in crypto, it has applications for organizing NFT sales, DAO token governance distribution, and more. (You can \u003Ca href=\"https:\u002F\u002Fyoutu.be\u002FX9Y12Pri_dI\" target=\"_blank\" rel=\"noopener\"\u003Ewatch a video\u003C\u002Fa\u003E about this work here.)\u003C\u002Fp\u003E\n\u003Cp\u003ENow, with that general context, let’s talk more specifically about the tradeoffs between efficiency and other goals in market design for NFT sales. First, we discuss auction designs that lean into market forces in order to efficiently clear the market. We then follow with a section on what to do when NFT projects or creators may still want to hold primary sales at below market-clearing prices, and how they might manage demand if so.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003E1. Clearing the market\u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EPerhaps the easiest strategy to avoid gas wars is to lean into market forces, and run the NFT sale in a way that clears the market. \u003Cspan style=\"font-weight: 400;\"\u003EHere, for example, are two auction mechanisms that can achieve that, and are currently used in NFT sales.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Descending pay-as-bid auctions \u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOne option is to run a descending auction, in which a sale starts at a very high price, which then slowly descends, with bidders claiming units at whatever the current price is until they exhaust the available supply. This &#8220;pay-as-bid&#8221; auction format is simple to understand because bidders pay precisely their bids for each unit. It also mitigates gas wars to some degree by spreading out bidding over time &#8212; although we do sometimes see gas wars towards the end of the auction, as bidders try to jump in at whatever seems likely to be the lowest realized price.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EBut there&#8217;s a funny incentive issue in this type of auction, which is that participants have an incentive to wait if they think others aren&#8217;t likely to bid &#8212; since all else equal, bidding later lowers the price you end up paying. \u003Cspan style=\"font-weight: 400;\"\u003EThe waiting often turns a descending pay-as-bid auction into something like a big\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E game of &#8220;\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FChicken_(game)\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Echicken\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E&#8220;,\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E with everyone waiting to see when others will start bidding. This can paradoxically lower the clearing price (and again, result in a gas war when everyone eventually ends up bidding at the same time).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EPeople also often point to fairness as a concern in this sort of auction: a project&#8217;s biggest fans and supporters are the ones most driven to lock in their bids at the early, higher prices &#8212; and this means they may end up paying far more than everyone else. While it may make sense from an economic standpoint for the people who place the highest value on the tokens to pay a premium for certainty that they can win them, it may also go against a community ethos to have the most engaged supporters pay, say, 10 times the auction&#8217;s eventual closing price.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Descending clearing-price auctions\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EBoth the fairness concerns and the gas wars that arise at the end of a descending pay-as-bid auction can be avoided if teams instead run what&#8217;s called a &#8220;clearing-price&#8221; auction (or &#8220;uniform-price&#8221; auction). In this auction mechanism, the price again starts high and descends, with people submitting bids for units at any price along the way. \u003Cspan style=\"font-weight: 400;\"\u003EThe auction ends when the last unit has been claimed, but unlike in the &#8220;pay-as-bid&#8221; auction, here everyone pays the same price per unit at the end: specifically, the “clearing-price”, which is the last (and lowest) price displayed prior to the auction’s termination. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ENote that in a clearing-price auction, while nobody ever pays more than their respective bids, people might in principle end up paying much less than their bids if they bid for units when the price was high, but the final price ends up being low. So for example if a clearing-price auction starts accepting bids at a price of 2 ETH, but then supply is eventually exhausted at a price of .42 ETH, all the bidders end up paying .42 per unit &#8212; even those who bid, say, the initial price of 2. This makes the whose process much easier for bidders, since if for example someone&#8217;s value is 2, they can bid immediately at 2 and not have to worry about getting a worse deal relative to if they had waited and entered the bidding at a lower price later. (This isn&#8217;t quite true when you&#8217;re the only person bidding very close to the clearing price, but in over-subscribed NFT auctions, that&#8217;s not typically an issue.)\u003C\u002Fp\u003E\n\u003Cp\u003EClearing-price auctions in many ways make sense from a market design perspective: In particular, they encourage \u003Ca href=\"http:\u002F\u002Ftimroughgarden.org\u002Fpapers\u002Fjair.pdf\" target=\"_blank\" rel=\"noopener\"\u003Eeconomically efficient outcomes\u003C\u002Fa\u003E, especially when there is a reasonable number of units being sold. But it&#8217;s important to note that running them on blockchains introduces some complexity because bidders effectively have to escrow funds at the moment they bid, and then receive refunds once the final price is determined. The refund function has to be carefully specified, for example to avoid accidentally locking the extra funds in the sale contract.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003E2. Constraining demand\u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EIf a team really wants to conduct a sale at a price below market-clearing levels, then the way to avoid gas wars is to somehow constrain demand in a way that stops buyers from having to compete with each other in order to make their purchases.\u003C\u002Fp\u003E\n\u003Cp\u003EBut this is difficult to do, because it typically requires limiting both who is allowed to purchase \u003Cem\u003Eand\u003C\u002Fem\u003E how many units those prospective buyers are allowed to buy. The total quantity demanded by all qualified buyers needs to be \u003Cem\u003Eless than or equal to\u003C\u002Fem\u003E the available supply. This may be  especially hard to ensure in the crypto space, where maintaining multiple pseudonymous accounts is common.\u003C\u002Fp\u003E\n\u003Cp\u003EStill, there are some options for constraining participation, and we outline three below. Some projects have successfully used these techniques. [Note however that while we have included a section on lotteries solely for educational purposes, there are some questions about the legality of lotteries and “sweepstakes” as mechanisms that narrow the universe of sale participants; so builders should consult with a lawyer before using such mechanisms.]\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Proof of unique personhood\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EOne way to constrain participation is to require some form of &#8220;\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FProof_of_personhood\" target=\"_blank\" rel=\"noopener\"\u003Eproof of personhood\u003C\u002Fa\u003E&#8221; as a condition of entering the sale &#8212; pre-registering buyer accounts in a way that guarantees each one represents a distinct human. This restricts the pool of buyers (or more specifically, buyer wallets) to those who can prove a unique identity, perhaps through a &#8220;know your customer&#8221; (KYC) policy that \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fcrypto-regulations-sanctions-compliance-aml-ofac-news-explained\" target=\"_blank\" rel=\"noopener\"\u003Erequires\u003C\u002Fa\u003E uploading identity documents. If implemented well, this can screen out bot networks, reducing the pool of prospective buyers significantly.\u003C\u002Fp\u003E\n\u003Cp\u003EBut proof of unique personhood on its own isn&#8217;t always enough to achieve market stability and fairness. In practice, people often manage to get around the implied purchasing limit by hiring people to KYC additional wallets. But even when it is possible to truly limit the sale to unique buyers, that still doesn&#8217;t solve the problem if there is simply far more demand than supply.\u003C\u002Fp\u003E\n\u003Cp\u003EAs we emphasized above, as long as demand outstrips supply, market forces are likely to drive up the price. There&#8217;s not a big difference between infinitely many bots standing ready to buy and simply having 20% more registered demand than supply &#8212; in both cases, the incentive to race to the front of the line will lead to a gas war that drives the total price paid per unit toward the market-clearing level. This is often clear to experienced NFT buyers leading up to drops, and blockchain sleuths also often \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0xCrumbs\u002Fstatus\u002F1520559050592817152\" target=\"_blank\" rel=\"noopener\"\u003Ecarefully track\u003C\u002Fa\u003E the total number of approved wallets with this in mind.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Allow-lists\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EAn alternate way to limit participation is to create &#8220;\u003Ca href=\"https:\u002F\u002Fwww.one37pm.com\u002Fnft\u002Fallow-lists-pre-mints\" target=\"_blank\" rel=\"noopener\"\u003Eallow-lists\u003C\u002Fa\u003E&#8221; &#8212; explicitly curating the list of prospective buyers. Many teams offer access to holders of tokens associated to partner projects, or to people who have been particularly active in the community prior to launch. This approach does make it possible to constrain demand below supply, fully mitigating the gas war problem &#8212; at least so long as the project creators don&#8217;t go overboard and let too many people onto the allow-list!\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, this approach doesn&#8217;t escape the issue of market pricing. Indeed, here the price competition just occurs in a different unit: Instead of just paying in currency, prospective buyers pay in part through work &#8212; that is, the effort they put in to hopefully gain a position on the list.\u003C\u002Fp\u003E\n\u003Cp\u003EThis means that allow-list processes can become a grind. But allow-lists nevertheless do create an opportunity for more incentive alignment, in the sense that prospective members of an NFT community undertake activities that grow overall community engagement &#8212; and in the end the opportunity to buy the NFTs goes to those who were most actively involved. And it&#8217;s also the case that allow-lists can be designed in ways that are accessible to people who have time and energy to spend, but less liquid capital.\u003C\u002Fp\u003E\n\u003Cp\u003EYet at the same time, allow-list contests are often &#8220;\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FAll-pay_auction\" target=\"_blank\" rel=\"noopener\"\u003Eall-pay\u003C\u002Fa\u003E&#8221; rather than &#8220;winners pay.&#8221; Unlike in the auctions described above, where only the winners end up paying whatever the price is, in the context of an allow-list, everyone who participates ends up putting in the effort (or acquiring the partner project NFTs) &#8212; irrespective of whether they earn the right to buy the NFT in the end or not. \u003Cspan style=\"font-weight: 400;\"\u003EThis can lead to negative sentiment among those who worked hard but were left out &#8212; and that can be tricky for NFT communities to navigate.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Lotteries \u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOne other way to limit participation (and potentially avoid gas wars) is to allocate purchase opportunities randomly, through a lottery\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E. Here, prospective buyers are offered the opportunity to register for the lottery over a long period &#8212; perhaps a week &#8212; and then at the end, a randomly-selected set of registrants are given the right to purchase the NFT. (Some registrants selected may opt out, which means it might subsequently be necessary to go to a waitlist.)\u003C\u002Fp\u003E\n\u003Cp\u003EThese sorts of mechanisms effectively mitigate gas wars by first spreading out the registration process &#8212; so there&#8217;s no need for all the registration transactions to happen at once &#8212; and then by constraining the number of buyers to exactly match the available supply.\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, just like with allow-lists, market-clearing pricing again comes into play through a form of work: in this case, the effort undertaken to enter the lottery.\u003C\u002Fp\u003E\n\u003Cp\u003EIn a lottery for a highly-demanded anticipated sale, prospective buyers might create large networks of bot registrations. In this case, the lottery can devolve into a competition among high-powered botnets, with ordinary individual buyers effectively unable to secure any positions in the sale.\u003C\u002Fp\u003E\n\u003Cp\u003ELottery participation can be more effectively controlled by using a proof of unique personhood strategy (again, like KYC). Or alternatively, it&#8217;s possible to reduce participants&#8217; ability to create absurdly high numbers of entries by requiring people to escrow a deposit for each entry to the lottery. The escrow approach makes it costly to submit a large number of entries &#8212; but at the same time, buyers with excess liquidity will be more able to enter than others (and still potentially able enter multiple times), limiting the overall accessibility of the sale.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Hybrid mechanisms\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EIt&#8217;s worth noting that many of the mechanisms described above can be used in tandem for a single sale.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor example, the \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjenkinsthevalet\u002Fstatus\u002F1526899757846781953\" target=\"_blank\" rel=\"noopener\"\u003ETally Labs\u003C\u002Fa\u003E&#8216;s [see disclosures below] Jenkins the Valet \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBored &amp; Dangerous\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E mint was conducted through a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjenkinsthevalet\u002Fstatus\u002F1537901300456693762\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethree-phase process\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: First, the team held a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjenkinsthevalet\u002Fstatus\u002F1537901303602434051\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edescending clearing-price auction\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for 2367 units; then, they held an allow-list sale for various members of their existing community at a discount to the final auction clearing price. Finally, holders of the team’s genesis &#8220;Writer&#8217;s Room&#8221; NFT collection were able to claim additional copies of the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBored &amp; Dangerous NFT\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (one per Writer&#8217;s Room NFT) for free.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E*  *  *\u003C\u002Fp\u003E\n\u003Cp\u003EMarket-clearing prices are like gravity: inevitable and inescapable. Anyone building a market mechanism &#8212; whether on a blockchain or not &#8212; has to deal with the forces of supply and demand equilibrium.\u003C\u002Fp\u003E\n\u003Cp\u003EBut at the same time, thinking about market forces and incentive design can help us build the right mechanisms, and shape what the eventual sale equilibrium will be. We’ve seen that a top-level decision is whether to lean into market forces (in which case clearing-price auctions provide a good starting point for a sale); or insist on the more challenging approach of selling at below-market-clearing prices (in which case controlling eligible demand, for example via allow-lists, is necessary but may not be sufficient).\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe design of NFT drops provides yet another example of how hard mechanism design on the blockchain can be… and as the NFT space evolves, we expect to see new mechanisms both guided by and contributing to classic theories of \u003Ca href=\"https:\u002F\u002Fdoi.org\u002F10.1093\u002Foxrep\u002Fgrx063\"\u003Emarket design\u003C\u002Fa\u003E. But with more and more researchers and builders deeply internalizing both classic mechanism design \u003Ci\u003Eand\u003C\u002Fi\u003E the idiosyncrasies of web3, we’re starting to see lots of experimentation around various blockchain-based allocation mechanisms. Progress is inevitable… and we’re excited for what comes next!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E&#8212;\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAcknowledgments: The authors thank \u003Ca href=\"https:\u002F\u002Fwww.chainrunners.xyz\u002F\" target=\"_blank\" rel=\"noopener\"\u003EChain Runners Architects\u003C\u002Fa\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fcdixon\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EChris Dixon\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0xfar\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFar\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fflashrekt\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFlashrekt\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0xfoobar\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFoobar\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Feddylazzarin\"\u003EEddy Lazzarin\u003C\u002Fa\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fseeapefollowape\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESAFA\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FNFTbark\" target=\"_blank\" rel=\"noopener\"\u003ESteve Kaczynski\u003C\u002Fa\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fvaletjones\" target=\"_blank\" rel=\"noopener\"\u003EValet Jones\u003C\u002Fa\u003E, and \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FABigThingBadly\" target=\"_blank\" rel=\"noopener\"\u003EVivek Ravishanker\u003C\u002Fa\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for helpful comments. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESpecial thanks also to our editor, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fsmc90\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESonal Chokshi\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E!\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-2237\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto.jpg\" alt=\"\" width=\"1200\" height=\"675\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDisclosures: See full disclosures for a16z crypto and link to investments below. (Note \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKominers also holds Tally Labs NFTs; for further disclosures, please see \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"http:\u002F\u002Fwww.scottkom.com\u002F\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehis website\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.)\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n",post_title:"NFT Sales: Clearing the Market, Avoiding Gas Wars",post_excerpt:b,post_status:z,comment_status:B,ping_status:B,post_password:b,post_name:"nft-sales-market-clearing-gas-wars-auction-mechanism-design-for-builders",to_ping:b,pinged:b,post_modified:"2024-09-09 12:23:07",post_modified_gmt:"2024-09-09 19:23:07",post_content_filtered:b,post_parent:c,guid:"http:\u002F\u002Fcrypto.test\u002Fnft-sales-clearing-the-market-avoiding-gas-wars-2\u002F",menu_order:c,post_type:aZ,post_mime_type:b,comment_count:q,filter:e,taxonomies:[{term_id:gE,name:cY,slug:"cap-scott-kominers",term_group:c,term_taxonomy_id:gE,taxonomy:I,description:"Scott Duke Kominers Scott Kominers scott-kominers 1284 ",parent:c,count:28,filter:e},{term_id:gF,name:cZ,slug:"cap-tim-roughgarden",term_group:c,term_taxonomy_id:gF,taxonomy:I,description:"Tim Roughgarden Tim Roughgarden tim-roughgarden 1499 ",parent:c,count:bZ,filter:e},{term_id:p,name:A,slug:r,term_group:c,term_taxonomy_id:p,taxonomy:s,description:b,parent:c,count:D,filter:e},{term_id:aJ,name:bp,slug:bq,term_group:c,term_taxonomy_id:aJ,taxonomy:g,description:b,parent:c,count:bW,filter:e},{term_id:a,name:di,slug:dj,term_group:c,term_taxonomy_id:a,taxonomy:t,description:b,parent:c,count:dk,filter:e},{term_id:aL,name:br,slug:bs,term_group:c,term_taxonomy_id:aL,taxonomy:g,description:b,parent:c,count:b_,filter:e},{term_id:o,name:n,slug:n,term_group:c,term_taxonomy_id:o,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:aK,name:bt,slug:bu,term_group:c,term_taxonomy_id:aK,taxonomy:g,description:b,parent:c,count:bX,filter:e},{term_id:b$,name:aX,slug:aX,term_group:c,term_taxonomy_id:b$,taxonomy:g,description:b,parent:c,count:aP,filter:e},{term_id:F,name:u,slug:u,term_group:c,term_taxonomy_id:F,taxonomy:t,description:b,parent:c,count:bj,filter:e},{term_id:aQ,name:ce,slug:cf,term_group:c,term_taxonomy_id:aQ,taxonomy:t,description:b,parent:c,count:cg,filter:e}],acf:{custom_title:b,content:[{acf_fc_layout:a_,paragraph:"\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEditor’s note: This piece is part of our ongoing series on all things ‘auctions for web3’. For an overview of auction designs, and technical challenges (and opportunities) specific to mechanism design in a permissionless blockchains context, please \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fauction-design-mechanisms-incentives-choices-tradeoffs\" target=\"_blank\" rel=\"noopener\"\u003Echeck out this episode\u003C\u002Fa\u003E.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"size-full wp-image-3967 alignnone\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1.jpg\" alt=\"\" width=\"1068\" height=\"1068\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1-300x300.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768-1-150x150.jpg 150w\" sizes=\"auto, (max-width: 1068px) 100vw, 1068px\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EA key feature of web3 is \u003Ca href=\"https:\u002F\u002Ffuture.a16z.com\u002Fnfts-thousand-true-fans\u002F\" target=\"_blank\" rel=\"noopener\"\u003Eenabling\u003C\u002Fa\u003E early fans of a creator, product, or platform to form a community through ownership of associated \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fcdixon\u002Fstatus\u002F1440026947036356619\" target=\"_blank\" rel=\"noopener\"\u003Etokens\u003C\u002Fa\u003E on a blockchain. When it comes to non-fungible tokens or \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Ftag\u002Fnfts\u002F\" target=\"_blank\" rel=\"noopener\"\u003ENFTs\u003C\u002Fa\u003E — which uniquely represent ownership of media such as code, digital art, characters, memes, music, text, videos, games, \u003Ca href=\"https:\u002F\u002Fa16zcrypto.com\u002Fmetaverse-real-estate-digital-land-value-to-users\u002F\" target=\"_blank\" rel=\"noopener\"\u003Evirtual real estate\u003C\u002Fa\u003E, and much more — creators often build significant anticipation and engagement before their initial sales. This can contribute to community-building among early collectors, which can sometimes in turn \u003Ca href=\"https:\u002F\u002Fhbr.org\u002F2022\u002F05\u002Fwhy-build-in-web3\" target=\"_blank\" rel=\"noopener\"\u003Egrow the value\u003C\u002Fa\u003E of holding the token.\u003C\u002Fp\u003E\n\u003Cp\u003EInstead of letting the market decide the price for their primary sale offerings, however, many NFT projects choose to initially sell their NFTs at prices \u003Cem\u003Ebelow\u003C\u002Fem\u003E the market-clearing level. Sometimes this is because the team doesn&#8217;t realize the sheer demand for their offering, or because they designed their initial sale mechanism poorly. Often, however, selling NFTs at below-market-clearing prices comes out of a direct desire to make the sale accessible to more people or to achieve specific \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=X9Y12Pri_dI\" target=\"_blank\" rel=\"noopener\"\u003Edistributional\u003C\u002Fa\u003E goals.\u003C\u002Fp\u003E\n\u003Cp\u003EBut what happens when market designers \u003Ca href=\"https:\u002F\u002Fwww.econometricsociety.org\u002Fpublications\u002Feconometrica\u002F2021\u002F07\u002F01\u002Fredistribution-through-markets\" target=\"_blank\" rel=\"noopener\"\u003Etrade off\u003C\u002Fa\u003E \u003Cem\u003Eefficiency for equity \u003C\u002Fem\u003E(here we mean “equity” as in the fairness of the marketplace and market-clearing mechanisms); or when \u003Cem\u003Edemand far outstrips supply, \u003C\u002Fem\u003Eas is often the case with high-demand NFT launches and drops?\u003C\u002Fp\u003E\n\u003Cp\u003EWhen people want to purchase scarce resources in a market, this inevitably leads to competition among prospective buyers along other dimensions. In the Ethereum ecosystem, that competition can produce so-called “gas wars” that escalate when prospective buyers bid the gas price upwards as they compete to be first in line for the sale. So how can builders avoid this? And more broadly, how can builders address market demand if they really do want to offer their NFTs at a below-market-clearing price? Here, we offer some guidance for builders  from our vantage point of auction theory and mechanism design in practice &#8212; especially in the unique \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fauction-design-mechanisms-incentives-choices-tradeoffs\" target=\"_blank\" rel=\"noopener\"\u003Econtext of blockchains\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003E[toc-embed]But first, some background: On market-clearing prices; on trading off efficiency \u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EWhen there are high-demand launches or limits on purchasing, buyer demand can far outstrip supply. Market pressure then drives the price towards the level at which demand and supply match up (or equalize) &#8212; that is, the “\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMarket_clearing\" target=\"_blank\" rel=\"noopener\"\u003Emarket-clearing price\u003C\u002Fa\u003E”. This inevitable drive towards prices at which supply and demand meet is one of the most core \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=ulyVXa-u4wE\" target=\"_blank\" rel=\"noopener\"\u003Eprinciples of economics\u003C\u002Fa\u003E. Even when the “pricing” is somewhat hidden – for example, competition over gas fees &#8212; in the end, market forces make it so that some form of payment ends up helping supply and demand match up.\u003C\u002Fp\u003E\n\u003Cp\u003EImplementing price controls, for example, typically leads to competition over access — long lines, more time spent seeking purchase opportunities, or other costs. This has famously happened in non-blockchain contexts, such as with rent control and price ceilings on (literal) \u003Ca href=\"https:\u002F\u002Fwww.washingtonpost.com\u002Fhistory\u002F2021\u002F05\u002F13\u002Fgas-shortages-1970s\u002F\" target=\"_blank\" rel=\"noopener\"\u003Egasoline\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ESimilarly, as described above, “gas wars” on Ethereum are a market equilibrium phenomenon: They arise directly through market forces, in response to constrained supply. (“Gas” in this context is the amount of computational effort required to execute specific operations on the network.) More specifically, gas wars occur during NFT mints when buyers try to jump ahead of each other in line, which causes a sudden spike in the immediate demand for blockspace; that in turn drives up gas prices, and leads to ever-higher transaction fees.\u003C\u002Fp\u003E\n\u003Cp\u003EOne common misconception that often comes up in discussions about avoiding gas wars is the need to optimize the smart contract running the sale. While that’s certainly good to do for other reasons, such as user accessibility, more gas-efficient smart contracts can&#8217;t on their own prevent gas wars, which arise through market forces. And paradoxically, if the contract is better optimized, gas prices will need to go even \u003Cem\u003Ehigher\u003C\u002Fem\u003E to achieve the same effective price. (Although optimized contracts do at least have more sales per block, which makes the whole process &#8212; including the gas wars &#8212; end more quickly.)\u003C\u002Fp\u003E\n\u003Cp\u003EEthereum co-founder Vitalik Buterin pointed this out as well \u003Ca href=\"https:\u002F\u002Fvitalik.ca\u002Fgeneral\u002F2021\u002F08\u002F22\u002Fprices.html\" target=\"_blank\" rel=\"noopener\"\u003Ein a post last year\u003C\u002Fa\u003E on market-clearing prices in the context of NFT drops (and the erstwhile phenomenon of ICOs), and the negative externalities that result. In the piece, Buterin also suggested alternatives to selling below market-clearing prices &#8212; whether the goal for doing so is to achieve fairness, or community sentiment, or fun.\u003C\u002Fp\u003E\n\u003Cp\u003EOn a related note: One of the authors of this post (Scott) also recently presented work with \u003Ca href=\"http:\u002F\u002Fweb.stanford.edu\u002F~mohamwad\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMohammad Akbarpour\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fsites.northwestern.edu\u002Fdworczak\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPiotr Dworczak\u003C\u002Fspan\u003E\u003C\u002Fa\u003E on ”\u003Ca href=\"https:\u002F\u002Fpapers.ssrn.com\u002Fsol3\u002Fpapers.cfm?abstract_id=3609182\" target=\"_blank\" rel=\"noopener\"\u003Eredistributive allocation mechanisms\u003C\u002Fa\u003E” — a theory for how marketplace designers can think about the tradeoffs between efficiency and “equity” or redistributive concerns, and how the same approaches for designing revenue-maximizing auctions and efficient allocation mechanisms can be applied when there are market-level redistributive goals. In non-blockchain contexts, this work has implications for policy problems such as in-kind transfer programs for \u003Ca href=\"https:\u002F\u002Fwww.bloomberg.com\u002Fopinion\u002Farticles\u002F2020-01-27\u002Ffood-stamp-work-requirements-just-look-cruel\" target=\"_blank\" rel=\"noopener\"\u003Efood\u003C\u002Fa\u003E and healthcare, as well as \u003Ca href=\"https:\u002F\u002Fssrn.com\u002Fabstract=3846931\" target=\"_blank\" rel=\"noopener\"\u003Evaccine allocation\u003C\u002Fa\u003E; in crypto, it has applications for organizing NFT sales, DAO token governance distribution, and more. (You can \u003Ca href=\"https:\u002F\u002Fyoutu.be\u002FX9Y12Pri_dI\" target=\"_blank\" rel=\"noopener\"\u003Ewatch a video\u003C\u002Fa\u003E about this work here.)\u003C\u002Fp\u003E\n\u003Cp\u003ENow, with that general context, let’s talk more specifically about the tradeoffs between efficiency and other goals in market design for NFT sales. First, we discuss auction designs that lean into market forces in order to efficiently clear the market. We then follow with a section on what to do when NFT projects or creators may still want to hold primary sales at below market-clearing prices, and how they might manage demand if so.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003E1. Clearing the market\u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EPerhaps the easiest strategy to avoid gas wars is to lean into market forces, and run the NFT sale in a way that clears the market. \u003Cspan style=\"font-weight: 400;\"\u003EHere, for example, are two auction mechanisms that can achieve that, and are currently used in NFT sales.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Descending pay-as-bid auctions \u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOne option is to run a descending auction, in which a sale starts at a very high price, which then slowly descends, with bidders claiming units at whatever the current price is until they exhaust the available supply. This &#8220;pay-as-bid&#8221; auction format is simple to understand because bidders pay precisely their bids for each unit. It also mitigates gas wars to some degree by spreading out bidding over time &#8212; although we do sometimes see gas wars towards the end of the auction, as bidders try to jump in at whatever seems likely to be the lowest realized price.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EBut there&#8217;s a funny incentive issue in this type of auction, which is that participants have an incentive to wait if they think others aren&#8217;t likely to bid &#8212; since all else equal, bidding later lowers the price you end up paying. \u003Cspan style=\"font-weight: 400;\"\u003EThe waiting often turns a descending pay-as-bid auction into something like a big\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E game of &#8220;\u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FChicken_(game)\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Echicken\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E&#8220;,\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E with everyone waiting to see when others will start bidding. This can paradoxically lower the clearing price (and again, result in a gas war when everyone eventually ends up bidding at the same time).\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EPeople also often point to fairness as a concern in this sort of auction: a project&#8217;s biggest fans and supporters are the ones most driven to lock in their bids at the early, higher prices &#8212; and this means they may end up paying far more than everyone else. While it may make sense from an economic standpoint for the people who place the highest value on the tokens to pay a premium for certainty that they can win them, it may also go against a community ethos to have the most engaged supporters pay, say, 10 times the auction&#8217;s eventual closing price.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Descending clearing-price auctions\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EBoth the fairness concerns and the gas wars that arise at the end of a descending pay-as-bid auction can be avoided if teams instead run what&#8217;s called a &#8220;clearing-price&#8221; auction (or &#8220;uniform-price&#8221; auction). In this auction mechanism, the price again starts high and descends, with people submitting bids for units at any price along the way. \u003Cspan style=\"font-weight: 400;\"\u003EThe auction ends when the last unit has been claimed, but unlike in the &#8220;pay-as-bid&#8221; auction, here everyone pays the same price per unit at the end: specifically, the “clearing-price”, which is the last (and lowest) price displayed prior to the auction’s termination. \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ENote that in a clearing-price auction, while nobody ever pays more than their respective bids, people might in principle end up paying much less than their bids if they bid for units when the price was high, but the final price ends up being low. So for example if a clearing-price auction starts accepting bids at a price of 2 ETH, but then supply is eventually exhausted at a price of .42 ETH, all the bidders end up paying .42 per unit &#8212; even those who bid, say, the initial price of 2. This makes the whose process much easier for bidders, since if for example someone&#8217;s value is 2, they can bid immediately at 2 and not have to worry about getting a worse deal relative to if they had waited and entered the bidding at a lower price later. (This isn&#8217;t quite true when you&#8217;re the only person bidding very close to the clearing price, but in over-subscribed NFT auctions, that&#8217;s not typically an issue.)\u003C\u002Fp\u003E\n\u003Cp\u003EClearing-price auctions in many ways make sense from a market design perspective: In particular, they encourage \u003Ca href=\"http:\u002F\u002Ftimroughgarden.org\u002Fpapers\u002Fjair.pdf\" target=\"_blank\" rel=\"noopener\"\u003Eeconomically efficient outcomes\u003C\u002Fa\u003E, especially when there is a reasonable number of units being sold. But it&#8217;s important to note that running them on blockchains introduces some complexity because bidders effectively have to escrow funds at the moment they bid, and then receive refunds once the final price is determined. The refund function has to be carefully specified, for example to avoid accidentally locking the extra funds in the sale contract.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cstrong\u003E2. Constraining demand\u003C\u002Fstrong\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EIf a team really wants to conduct a sale at a price below market-clearing levels, then the way to avoid gas wars is to somehow constrain demand in a way that stops buyers from having to compete with each other in order to make their purchases.\u003C\u002Fp\u003E\n\u003Cp\u003EBut this is difficult to do, because it typically requires limiting both who is allowed to purchase \u003Cem\u003Eand\u003C\u002Fem\u003E how many units those prospective buyers are allowed to buy. The total quantity demanded by all qualified buyers needs to be \u003Cem\u003Eless than or equal to\u003C\u002Fem\u003E the available supply. This may be  especially hard to ensure in the crypto space, where maintaining multiple pseudonymous accounts is common.\u003C\u002Fp\u003E\n\u003Cp\u003EStill, there are some options for constraining participation, and we outline three below. Some projects have successfully used these techniques. [Note however that while we have included a section on lotteries solely for educational purposes, there are some questions about the legality of lotteries and “sweepstakes” as mechanisms that narrow the universe of sale participants; so builders should consult with a lawyer before using such mechanisms.]\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Proof of unique personhood\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EOne way to constrain participation is to require some form of &#8220;\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FProof_of_personhood\" target=\"_blank\" rel=\"noopener\"\u003Eproof of personhood\u003C\u002Fa\u003E&#8221; as a condition of entering the sale &#8212; pre-registering buyer accounts in a way that guarantees each one represents a distinct human. This restricts the pool of buyers (or more specifically, buyer wallets) to those who can prove a unique identity, perhaps through a &#8220;know your customer&#8221; (KYC) policy that \u003Ca href=\"https:\u002F\u002Fweb3-with-a16z.simplecast.com\u002Fepisodes\u002Fcrypto-regulations-sanctions-compliance-aml-ofac-news-explained\" target=\"_blank\" rel=\"noopener\"\u003Erequires\u003C\u002Fa\u003E uploading identity documents. If implemented well, this can screen out bot networks, reducing the pool of prospective buyers significantly.\u003C\u002Fp\u003E\n\u003Cp\u003EBut proof of unique personhood on its own isn&#8217;t always enough to achieve market stability and fairness. In practice, people often manage to get around the implied purchasing limit by hiring people to KYC additional wallets. But even when it is possible to truly limit the sale to unique buyers, that still doesn&#8217;t solve the problem if there is simply far more demand than supply.\u003C\u002Fp\u003E\n\u003Cp\u003EAs we emphasized above, as long as demand outstrips supply, market forces are likely to drive up the price. There&#8217;s not a big difference between infinitely many bots standing ready to buy and simply having 20% more registered demand than supply &#8212; in both cases, the incentive to race to the front of the line will lead to a gas war that drives the total price paid per unit toward the market-clearing level. This is often clear to experienced NFT buyers leading up to drops, and blockchain sleuths also often \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0xCrumbs\u002Fstatus\u002F1520559050592817152\" target=\"_blank\" rel=\"noopener\"\u003Ecarefully track\u003C\u002Fa\u003E the total number of approved wallets with this in mind.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Allow-lists\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EAn alternate way to limit participation is to create &#8220;\u003Ca href=\"https:\u002F\u002Fwww.one37pm.com\u002Fnft\u002Fallow-lists-pre-mints\" target=\"_blank\" rel=\"noopener\"\u003Eallow-lists\u003C\u002Fa\u003E&#8221; &#8212; explicitly curating the list of prospective buyers. Many teams offer access to holders of tokens associated to partner projects, or to people who have been particularly active in the community prior to launch. This approach does make it possible to constrain demand below supply, fully mitigating the gas war problem &#8212; at least so long as the project creators don&#8217;t go overboard and let too many people onto the allow-list!\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, this approach doesn&#8217;t escape the issue of market pricing. Indeed, here the price competition just occurs in a different unit: Instead of just paying in currency, prospective buyers pay in part through work &#8212; that is, the effort they put in to hopefully gain a position on the list.\u003C\u002Fp\u003E\n\u003Cp\u003EThis means that allow-list processes can become a grind. But allow-lists nevertheless do create an opportunity for more incentive alignment, in the sense that prospective members of an NFT community undertake activities that grow overall community engagement &#8212; and in the end the opportunity to buy the NFTs goes to those who were most actively involved. And it&#8217;s also the case that allow-lists can be designed in ways that are accessible to people who have time and energy to spend, but less liquid capital.\u003C\u002Fp\u003E\n\u003Cp\u003EYet at the same time, allow-list contests are often &#8220;\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FAll-pay_auction\" target=\"_blank\" rel=\"noopener\"\u003Eall-pay\u003C\u002Fa\u003E&#8221; rather than &#8220;winners pay.&#8221; Unlike in the auctions described above, where only the winners end up paying whatever the price is, in the context of an allow-list, everyone who participates ends up putting in the effort (or acquiring the partner project NFTs) &#8212; irrespective of whether they earn the right to buy the NFT in the end or not. \u003Cspan style=\"font-weight: 400;\"\u003EThis can lead to negative sentiment among those who worked hard but were left out &#8212; and that can be tricky for NFT communities to navigate.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Lotteries \u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOne other way to limit participation (and potentially avoid gas wars) is to allocate purchase opportunities randomly, through a lottery\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EHere, prospective buyers are offered the opportunity to register for the lottery over a long period &#8212; perhaps a week &#8212; and then at the end, a randomly-selected set of registrants are given the right to purchase the NFT. (Some registrants selected may opt out, which means it might subsequently be necessary to go to a waitlist.)\u003C\u002Fp\u003E\n\u003Cp\u003EThese sorts of mechanisms effectively mitigate gas wars by first spreading out the registration process &#8212; so there&#8217;s no need for all the registration transactions to happen at once &#8212; and then by constraining the number of buyers to exactly match the available supply.\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, just like with allow-lists, market-clearing pricing again comes into play through a form of work: in this case, the effort undertaken to enter the lottery.\u003C\u002Fp\u003E\n\u003Cp\u003EIn a lottery for a highly-demanded anticipated sale, prospective buyers might create large networks of bot registrations. In this case, the lottery can devolve into a competition among high-powered botnets, with ordinary individual buyers effectively unable to secure any positions in the sale.\u003C\u002Fp\u003E\n\u003Cp\u003ELottery participation can be more effectively controlled by using a proof of unique personhood strategy (again, like KYC). Or alternatively, it&#8217;s possible to reduce participants&#8217; ability to create absurdly high numbers of entries by requiring people to escrow a deposit for each entry to the lottery. The escrow approach makes it costly to submit a large number of entries &#8212; but at the same time, buyers with excess liquidity will be more able to enter than others (and still potentially able enter multiple times), limiting the overall accessibility of the sale.\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003E[toc-embed]Hybrid mechanisms\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EIt&#8217;s worth noting that many of the mechanisms described above can be used in tandem for a single sale.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor example, the \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjenkinsthevalet\u002Fstatus\u002F1526899757846781953\" target=\"_blank\" rel=\"noopener\"\u003ETally Labs\u003C\u002Fa\u003E&#8216;s [see disclosures below] Jenkins the Valet \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBored &amp; Dangerous\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E mint was conducted through a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjenkinsthevalet\u002Fstatus\u002F1537901300456693762\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethree-phase process\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: First, the team held a \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fjenkinsthevalet\u002Fstatus\u002F1537901303602434051\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edescending clearing-price auction\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for 2367 units; then, they held an allow-list sale for various members of their existing community at a discount to the final auction clearing price. Finally, holders of the team’s genesis &#8220;Writer&#8217;s Room&#8221; NFT collection were able to claim additional copies of the \u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EBored &amp; Dangerous NFT\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (one per Writer&#8217;s Room NFT) for free.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E*  *  *\u003C\u002Fp\u003E\n\u003Cp\u003EMarket-clearing prices are like gravity: inevitable and inescapable. Anyone building a market mechanism &#8212; whether on a blockchain or not &#8212; has to deal with the forces of supply and demand equilibrium.\u003C\u002Fp\u003E\n\u003Cp\u003EBut at the same time, thinking about market forces and incentive design can help us build the right mechanisms, and shape what the eventual sale equilibrium will be. We’ve seen that a top-level decision is whether to lean into market forces (in which case clearing-price auctions provide a good starting point for a sale); or insist on the more challenging approach of selling at below-market-clearing prices (in which case controlling eligible demand, for example via allow-lists, is necessary but may not be sufficient).\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe design of NFT drops provides yet another example of how hard mechanism design on the blockchain can be… and as the NFT space evolves, we expect to see new mechanisms both guided by and contributing to classic theories of \u003Ca href=\"https:\u002F\u002Fdoi.org\u002F10.1093\u002Foxrep\u002Fgrx063\"\u003Emarket design\u003C\u002Fa\u003E. But with more and more researchers and builders deeply internalizing both classic mechanism design \u003Ci\u003Eand\u003C\u002Fi\u003E the idiosyncrasies of web3, we’re starting to see lots of experimentation around various blockchain-based allocation mechanisms. Progress is inevitable… and we’re excited for what comes next!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003E&#8212;\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAcknowledgments: The authors thank \u003Ca href=\"https:\u002F\u002Fwww.chainrunners.xyz\u002F\" target=\"_blank\" rel=\"noopener\"\u003EChain Runners Architects\u003C\u002Fa\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fcdixon\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EChris Dixon\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0xfar\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFar\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fflashrekt\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFlashrekt\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002F0xfoobar\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFoobar\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Feddylazzarin\"\u003EEddy Lazzarin\u003C\u002Fa\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fseeapefollowape\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESAFA\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FNFTbark\" target=\"_blank\" rel=\"noopener\"\u003ESteve Kaczynski\u003C\u002Fa\u003E, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fvaletjones\" target=\"_blank\" rel=\"noopener\"\u003EValet Jones\u003C\u002Fa\u003E, and \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FABigThingBadly\" target=\"_blank\" rel=\"noopener\"\u003EVivek Ravishanker\u003C\u002Fa\u003E\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for helpful comments. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESpecial thanks also to our editor, \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fsmc90\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ESonal Chokshi\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E!\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"size-full wp-image-2237 alignnone\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto.jpg\" alt=\"\" width=\"1200\" height=\"675\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDisclosures: See full disclosures for a16z crypto and link to investments below. (Note \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKominers also holds Tally Labs NFTs; for further disclosures, please see \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"http:\u002F\u002Fwww.scottkom.com\u002F\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehis website\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.)\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cstrong\u003E***\u003C\u002Fstrong\u003E\u003Cbr \u002F\u003E\nThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F\"\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fa\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. \u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fa\u003E for additional important information\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003C\u002Fp\u003E\n"}],redirect_author_links_to_the_post:f,related_posts:a$,post_redirector:f,format:{term_id:p,name:A,slug:r,term_group:c,term_taxonomy_id:p,taxonomy:s,description:b,parent:c,count:D,filter:e},disclosure_relation:f},tags:[{term_id:aJ,name:bp,slug:bq,term_group:c,term_taxonomy_id:aJ,taxonomy:g,description:b,parent:c,count:bW,filter:e},{term_id:aL,name:br,slug:bs,term_group:c,term_taxonomy_id:aL,taxonomy:g,description:b,parent:c,count:b_,filter:e},{term_id:o,name:n,slug:n,term_group:c,term_taxonomy_id:o,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:aK,name:bt,slug:bu,term_group:c,term_taxonomy_id:aK,taxonomy:g,description:b,parent:c,count:bX,filter:e},{term_id:b$,name:aX,slug:aX,term_group:c,term_taxonomy_id:b$,taxonomy:g,description:b,parent:c,count:aP,filter:e}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"1024\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-1024x1024.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-1024x1024.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-300x300.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-150x150.jpg 150w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw.jpg 1080w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-150x150.jpg 150w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-300x300.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-1024x1024.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-768x768.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw.jpg 1080w\" sizes=\"auto, (max-width: 150px) 100vw, 150px\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-150x150.jpg",width:O},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-300x300.jpg",width:aT},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw-1024x1024.jpg",width:bN}],authors:[{ID:"1284",display_name:"Scott Duke Kominers",first_name:"Scott",last_name:"Kominers",user_login:cY,user_email:b,linked_account:b,website:"http:\u002F\u002Fscottkom.com",description:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EScott is a Research Partner at a16z crypto, focusing on market and incentive design, game theory, tokenomics, platform strategy, and consumer applications. He is also a Professor of Business Administration in the Entrepreneurial Management Unit at Harvard Business School, and a Faculty Affiliate of the Harvard Department of Economics, where he teaches on marketplaces and web3.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EScott advises companies engaged in marketplace development and design, as well as a number of web3 projects. He is also involved in a number of NFT communities. His research has been supported by the National Science Foundation, the Star Family Fund, the Washington Center for Equitable Growth, and the Oxford Martin School, among others; and he received the AMS-MAA-SIAM Frank and Brennie Morgan Prize in 2010, was named a Kavli Frontiers of Science Fellow in 2015, and won the Star Family Prize for Excellence in Advising in 2016, and a Webby Award in 2018.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EScott completed his PhD in Business Economics at Harvard University in Spring 2011. Outside of his day jobs, Scott is an avid puzzle creator and solver, and also performs math rap.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n",user_nicename:cY,type:J,nickname:b},{ID:"1499",display_name:"Tim Roughgarden",first_name:"Tim",last_name:"Roughgarden",user_login:cZ,user_email:b,linked_account:b,website:b,description:"\u003Cp\u003E\u003Cspan class=\"il\"\u003ETim\u003C\u002Fspan\u003E \u003Cspan class=\"il\"\u003ERoughgarden\u003C\u002Fspan\u003E is a Professor in the Computer Science Department at Columbia University. Prior to joining Columbia, he spent 15 years on the computer science faculty at Stanford, following a PhD at Cornell and a postdoc at UC Berkeley. He works on the boundary of computer science and economics, and on the design, analysis, applications, and limitations of algorithms. He is also a Research Partner on the a16z Crypto team.\u003C\u002Fp\u003E\n",user_nicename:cZ,type:J,nickname:b}],meta_desc:c_,seo:{title_tag:gG,meta_description:c_,canonical:gH,robots:{index:ba,follow:bb,"max-snippet":bc,"max-image-preview":bd,"max-video-preview":be},open_graph_locale:bf,open_graph_type:r,open_graph_title:gG,open_graph_description:c_,open_graph_url:gH,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2022/09/nftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw.jpg":{width:c$,height:c$,filesize:703787,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw.jpg",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002Fnftsales-market-clearing-gas-wars_auctionseries_a16zcrypto-tw.jpg",size:bV,id:4107,alt:b,pixels:1166400,type:cX}},open_graph_site_name:bg,estimated_reading_time_minutes:gw,twitter_card:bh,twitter_title:b,twitter_description:b,twitter_image:b,open_graph_article_published_time:"2022-09-10T00:00:00+00:00"},format:{term_id:p,name:A,slug:r,term_group:c,term_taxonomy_id:p,taxonomy:s,description:b,parent:c,count:D,filter:e},template:b,disclosure:f},{ID:3000,post_author:"15",post_date:gI,post_date_gmt:gI,post_content:"\u003Cp\u003EThe trusted setup ceremony is one of the pains – and excitements – of crypto communities. The goal of a ceremony is to generate trustworthy cryptographic keys for securing crypto wallets, blockchain protocols, or zero-knowledge proof systems. These (sometimes flamboyant) procedures are frequently the root of trust for a given project’s security, and they are therefore extremely important to get right.\u003C\u002Fp\u003E\n\u003Cp\u003EBlockchain projects run ceremonies in numerous creative ways – involving blowtorches, radioactive dust, and airplanes – but all share something in common: they all involve a centralized coordinator. With this work we demonstrate how to decentralize the process by replacing the centralized coordinator with a smart contract. In addition, we’re open-sourcing a library that allows anyone to run such a ceremony – known to crypto practitioners as a \u003Ca href=\"https:\u002F\u002Fwww.iacr.org\u002Farchive\u002Fasiacrypt2010\u002F6477178\u002F6477178.pdf\" target=\"_blank\" rel=\"noopener\"\u003EKate-Zaverucha-Goldberg (KZG)\u003C\u002Fa\u003Eor “powers-of-tau” ceremony – on the Ethereum chain. Anyone can participate simply by paying the transaction fees!\u003C\u002Fp\u003E\n\u003Cp\u003EOur decentralized approach has limitations, but it’s still useful. Due to current on-chain data constraints, the size of the cryptographic parameters has to be kept short, i.e. no more than 64 KB. But the number of participants has no cap and people can keep submitting contributions in perpetuity. Applications for these short parameters include small zero-knowledge SNARKs, \u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fabs\u002F1809.09044\" target=\"_blank\" rel=\"noopener\"\u003Edata-availability sampling\u003C\u002Fa\u003E, and \u003Ca href=\"https:\u002F\u002Fmath.mit.edu\u002Fresearch\u002Fhighschool\u002Fprimes\u002Fmaterials\u002F2018\u002FKuszmaul.pdf\" target=\"_blank\" rel=\"noopener\"\u003EVerkle trees\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]History and mechanics of the trusted setup ceremony\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EIn a typical trusted setup ceremony, a group of participants will collaboratively generate a set of cryptographic parameters. Each participating party uses secret information, generated locally, to generate data that helps create these parameters. Proper setups ensure secrets do not leak, that secrets are only used as designated by the protocol, and that these secrets are completely destroyed at the end of the ceremony. As long as at least one party in the ceremony behaves honestly, is not compromised, and destroys its local secret, the entire setup can be considered secure. (Of course, that is assuming the math is correct and the code has no bugs.)\u003C\u002Fp\u003E\n\u003Cp\u003ESome of the most prominent ceremonies were \u003Ca href=\"https:\u002F\u002Fz.cash\u002Ftechnology\u002Fparamgen\u002F\" target=\"_blank\" rel=\"noopener\"\u003Erun by Zcash\u003C\u002Fa\u003E, a privacy-oriented blockchain project. Participants in these ceremonies generated public parameters designed to allow Zcash users to construct and verify private crypto transactions. Six participants carried out the first Zcash ceremony, Sprout, in 2016. Two years later, crypto researcher Ariel Gabizon, now a Chief Scientist at \u003Ca href=\"https:\u002F\u002Faztec.network\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAztec\u003C\u002Fa\u003E, found \u003Ca href=\"https:\u002F\u002Felectriccoin.co\u002Fblog\u002Fzcash-counterfeiting-vulnerability-successfully-remediated\u002F\" target=\"_blank\" rel=\"noopener\"\u003Ea devastating bug\u003C\u002Fa\u003E in the design of the ceremony which was inherited from a \u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2013\u002F879\" target=\"_blank\" rel=\"noopener\"\u003Efoundational research paper\u003C\u002Fa\u003E. The vulnerability could have enabled attackers to create unlimited Zcash coins without being detected. The Zcash team kept the vulnerability secret for seven months until a system upgrade, Sapling, whose ceremony involved 90 participants, addressed the issue. While an attack based on the security hole would not have affected the privacy of users’ transactions, the prospect of infinite counterfeiting undermined Zcash’s security premise. (It&#8217;s theoretically impossible to know whether an attack took place.)\u003C\u002Fp\u003E\n\u003Cp\u003EAnother notable example of a trusted setup is the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\" target=\"_blank\" rel=\"noopener\"\u003Eperpetual “powers-of-tau” ceremony\u003C\u002Fa\u003E designed primarily for \u003Ca href=\"https:\u002F\u002Fmedium.com\u002Fcoinmonks\u002Fto-mixers-and-beyond-presenting-semaphore-a-privacy-gadget-built-on-ethereum-4c8b00857c9b\" target=\"_blank\" rel=\"noopener\"\u003ESemaphore\u003C\u002Fa\u003E, a privacy preserving technology for anonymous signaling on Ethereum. The setup used a BN254 elliptic curve and has had 71 participants so far. Other prominent projects later used this setup to run their own ceremonies on top, including \u003Ca href=\"https:\u002F\u002Ftornado-cash.medium.com\u002Ftornado-cash-trusted-setup-ceremony-b846e1e00be1\" target=\"_blank\" rel=\"noopener\"\u003ETornado.Cash\u003C\u002Fa\u003E (recently sanctioned by the U.S. government), \u003Ca href=\"https:\u002F\u002Fblog.hermez.io\u002Fhermez-zero-knowledge-proofs\u002F\" target=\"_blank\" rel=\"noopener\"\u003EHermez\u003C\u002Fa\u003E network, and \u003Ca href=\"https:\u002F\u002Fmedium.loopring.io\u002Floopring-starts-zksnark-trusted-setup-multi-party-computation-ceremony-6582874f7a5b\" target=\"_blank\" rel=\"noopener\"\u003ELoopring\u003C\u002Fa\u003E. \u003Ca href=\"https:\u002F\u002Fdocs.zksync.io\u002Fuserdocs\u002Fsecurity\u002F#universal-crs-setup\" target=\"_blank\" rel=\"noopener\"\u003EAztec\u003C\u002Fa\u003E coordinated a similar ceremony on a BN254 curve to create a universal common reference string (\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FCommon_reference_string_model\" target=\"_blank\" rel=\"noopener\"\u003ECRS\u003C\u002Fa\u003E) for use by \u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2019\u002F953.pdf\" target=\"_blank\" rel=\"noopener\"\u003EPLONK zk-snarks\u003C\u002Fa\u003E. zkSync, a “layer two” Ethereum scaling solution, participated in the ceremony and uses this CRS to underpin the security of their zero knowledge rollup. \u003Ca href=\"https:\u002F\u002Ffilecoin.io\u002Fblog\u002Fposts\u002Ftrusted-setup-complete\u002F\" target=\"_blank\" rel=\"noopener\"\u003EFilecoin\u003C\u002Fa\u003E, a decentralized data storage protocol, ran a ceremony with 19 and 33 participants, in first and second phase respectively, forking the original repo. \u003Ca href=\"https:\u002F\u002Fcelo.org\u002Fplumo\" target=\"_blank\" rel=\"noopener\"\u003ECelo\u003C\u002Fa\u003E, a layer-1 blockchain, ran a ceremony for their light-client Plumo too.\u003C\u002Fp\u003E\n\u003Cp\u003EPerpetual ceremonies have no limit to the number of participants. In other words, instead of trusting other people to run a trusted setup ceremony, ANYONE can participate to whatever degree of security meets their satisfaction. A single trustworthy participant ensures the security of all of the resulting parameters; the chain is as strong as its strongest link. Perpetual ceremonies may run, as the name implies, in perpetuity, as was the premise with the original powers-of-tau ceremony. That said, projects often decide on a concrete beginning and end time for their ceremonies, that way they can embed the resulting parameters into their protocols and don’t have to worry about continually updating them.\u003C\u002Fp\u003E\n\u003Cp\u003EEthereum plans to run a smaller trusted setup ceremony for upcoming \u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4844\" target=\"_blank\" rel=\"noopener\"\u003EProtoDankSharding\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@dankrad\u002Fnew_sharding\" target=\"_blank\" rel=\"noopener\"\u003EDankSharding\u003C\u002Fa\u003E upgrades. Those two upgrades will increase the amount of data that the Ethereum chain provides to clients for storage. This data will have an expiry of suggested \u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4844\" target=\"_blank\" rel=\"noopener\"\u003E30-to-60 days\u003C\u002Fa\u003E. The ceremony is \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fplaylist?list=PL4cwHXAawZxpE60NSuTiQbnUbJxOBBHhN\" target=\"_blank\" rel=\"noopener\"\u003Eunder active development\u003C\u002Fa\u003E, and is \u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@CarlBeek\u002Fkzg_ceremony_timelines\" target=\"_blank\" rel=\"noopener\"\u003Eplanned\u003C\u002Fa\u003E to run for six weeks early next year. (See \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fkzg-ceremony-specs\u002F\" target=\"_blank\" rel=\"noopener\"\u003Ekzg-ceremony-specs\u003C\u002Fa\u003E for more details.) It’s shaping up to be the largest trusted setup ceremony for blockchains run so far.\u003C\u002Fp\u003E\n\u003Cp\u003EParanoia is a virtue when it comes to trusted setup ceremonies. If a machine’s hardware or software is compromised, that can undermine the security of the secrets it generates. Sneaky side channel attacks which leak secrets can also be difficult to rule out. A phone can spy on a computer’s operations by \u003Ca href=\"https:\u002F\u002Fspectrum.ieee.org\u002Fthe-crazy-security-behind-the-birth-of-zcash\" target=\"_blank\" rel=\"noopener\"\u003Erecording sound waves\u003C\u002Fa\u003E of CPU vibrations, for example. In practice, since it is immensely hard to eliminate all possible side channel attacks – including those still to be discovered or disclosed – there are even proposals to fly machines to space to conduct \u003Ca href=\"https:\u002F\u002Fcointelegraph.com\u002Fmagazine\u002F2020\u002F12\u002F22\u002Fmoon-man-mission-to-blast-crypto-satellite-into-orbit\" target=\"_blank\" rel=\"noopener\"\u003Eceremonies there\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFor now, the playbook for serious ceremony participants typically goes as follows. Buy a new machine (untainted hardware). Air-gap it by removing all the network cards (to prevent local secrets from leaving the machine). Run the machine in a Faraday cage at a remote undisclosed location (to foil would-be snoopers). Seed the pseudo-random secret generator with lots of entropy and hard-replicate data such as random key-strokes or video files (to make the secrets hard to crack). And finally, destroy the machine – along with any traces of the secrets – by burning everything to ashes. 😀\u003C\u002Fp\u003E\n\u003Ch2\u003E[toc-embed]Coordinating trusted setup ceremonies\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EHere is a fun selection of quotes from some previous trusted setup ceremony participants:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E&#8230;the blowtorch was used to methodically heat the electronics completely piece by piece until everything was blackened…\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fpetertodd.org\u002F2016\u002Fcypherpunk-desert-bus-zcash-trusted-setup-ceremony\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPeter Todd\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on physically destroying the local secrets.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cem\u003E“I have here a piece of fabric that has graphite dust [from] the core of the [Chernobyl] reactor… You count every four pulses [from a Geiger counter hooked up to a microcontroller] and you compare the time interval between pulse one and two and the time interval between pulse three and four and if it’s greater you get a zero, if it’s less you get a one.” “&#8230;we are about to get in this airplane and generate our random numbers…”\u003C\u002Fem\u003E \u003Cspan style=\"font-weight: 400;\"\u003E—\u003C\u002Fspan\u003E \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=I4cDAqeEmpU\" target=\"_blank\" rel=\"noopener\"\u003ERyan Pierce and Andrew Miller\u003C\u002Fa\u003E on secret generation.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdiv id=\"attachment_2161\" style=\"width: 1176px\" class=\"wp-caption alignnone\"\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" aria-describedby=\"caption-attachment-2161\" class=\"size-full wp-image-2161\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-4.02.05-PM.png\" alt=\"\" width=\"1166\" height=\"672\" \u002F\u003E\u003Cp id=\"caption-attachment-2161\" class=\"wp-caption-text\"\u003E\u003Cem\u003EZcash powers-of-tau ceremony round 41 involved an airplane. Screenshot: YouTube video\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe salesperson said they had 13 [computers]. I asked if we could pick one of the 13. He asked if there was something I was looking for in particular (confused because they are all the same) and I said I just wanted to pick a random one. He said he could not let us into the back warehouse. I asked if he would bring two of them out so we could pick one of the two. He brought two out on a handcart. Jerry selected one of the two computers and we took that to the register to check out.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgist.github.com\u002Fvalkenburgh\u002F8cf1d1e0a93daff5f051def361d9722d\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPeter Van Valkenburgh\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on getting a new machine.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe first few hours of the ceremony were performed in a makeshift Faraday cage made of aluminium foil and cling wrap. I moved the laptop out of the Faraday cage as it had poor ventilation and was getting hot to the touch\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\u002Ftree\u002Fmaster\u002F0014_weijie_response\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKoh Wei Jie\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on side-channel protection.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.. performed one part of ceremony in the mountains with no neighbors.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\u002Fblob\u002Fmaster\u002F0008_mike_response\u002FREADME.md\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMicheal Lapinski\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on side-channel protection.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E”\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EI opted to use video of the surroundings to generate sufficient entropy\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\u002Ftree\u002Fmaster\u002F0005_amrullah_response\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMuhd Amrullah\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on generation of random values.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdiv id=\"attachment_2162\" style=\"width: 994px\" class=\"wp-caption alignnone\"\u003E\u003Ca href=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-4.02.29-PM.png\"\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" aria-describedby=\"caption-attachment-2162\" class=\"wp-image-2162 size-full\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-4.02.29-PM.png\" alt=\"\" width=\"984\" height=\"652\" \u002F\u003E\u003C\u002Fa\u003E\u003Cp id=\"caption-attachment-2162\" class=\"wp-caption-text\"\u003E\u003Cem\u003EZa Wilcox, brother of Zcash cofounder Zooko Wilcox, destroying a computer used to generate random numbers for a trusted ceremony in 2016. Photo: Morgen Peck\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAll of these ceremonies relied on a centralized coordinator. The coordinator is an individual or private server or some other entity who is entrusted to register and order participants, to act as a relay by forwarding information from the previous participant to the next, and to keep a centralized log of all communications for auditability purposes. The coordinator is typically also in charge of making the log available to the public in perpetuity; of course, i\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Et&#8217;s always a possibility with a centralized system for data to get lost or mismanaged. (Perpetual-powers-of-tau for example is stored on Microsoft Azure and Github.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIt struck us as ironic that crypto projects must rely on centralized trusted setup ceremonies when decentralization is such a core tenet of the crypto ethos. So we decided to demonstrate the feasibility of running a small ceremony for perpetual-powers-of-tau directly on the Ethereum blockchain! The setup is fully decentralized, permissionless, censorship resistant, and is secure as long as any single one of the participants is honest [see \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau#disclaimer\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edisclaimers\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]. Participating in the ceremony costs only 292,600 to 17,760,000 gas (about $7 to $400 at current prices), depending on the size of the desired resulting parameters (in this case between 8 and 1024 powers-of-tau). (See the Table below for concrete costs – we go into more detail about these calculations later in the post.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"alignnone size-full wp-image-2168\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-7.19.17-PM.png\" alt=\"\" width=\"2064\" height=\"346\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs yet, we advise not to use the code for anything other than experimental purposes! We would greatly appreciate it if anyone who finds any issues with the code reports them to us. We would love to collect feedback on and audits of our approach.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Understanding the KZG or ‘powers-of-tau’ ceremony\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELet’s explore one of the most popular trusted setups, which is known as the KZG, or “powers-of-tau,” ceremony. Credit to Ethereum cofounder Vitalik Buterin, whose \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fvitalik.ca\u002Fgeneral\u002F2022\u002F03\u002F14\u002Ftrustedsetup.html\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eblog post on trusted setups\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E informed our ideas in this section. The setup generates the encodings of the powers-of-tau, so named because “tau” happens to be the variable used to express the secrets generated by participants:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epp = [[𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003Ek\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor some applications (e.g. Groth16, a popular zkSNARK proving scheme designed by Jens Groth in 2016), this first-phase of the setup is followed by a second phase, a multiparty computation (MPC) ceremony, that generates parameters for a specific SNARK circuit. However, our work focuses solely on phase one. This first phase – the generation of the powers-of-tau – is already useful as a foundational building block for universal SNARKs (e.g. PLONK and SONIC), as well as other cryptography applications, such as \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.iacr.org\u002Farchive\u002Fasiacrypt2010\u002F6477178\u002F6477178.pdf\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKZG commitments\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fvitalik.ca\u002Fgeneral\u002F2021\u002F06\u002F18\u002Fverkle.html\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EVerkle trees\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@dankrad\u002Fnew_sharding\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edata-availability sampling\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (DAS). Generally, universal SNARK parameters should be very large so they can support big and useful circuits. Circuits that contain more gates are generally more useful as they can capture large computations; the number of powers-of-tau roughly corresponds to the number of gates in the circuit. So, a typical setup will be of size |pp| = ~40 GB and capable of supporting circuits with ~2\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E28\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E gates. Given Ethereum’s current constraints, it would be infeasible to put such large parameters on-chain, but a smaller trusted setup ceremony useful for small SNARK circuits, Verkle trees, or DAS can feasibly be run on-chain.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Ethereum Foundation is planning to run several smaller \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fkzg-ceremony-specs\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eceremonies\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for powers-of-tau of size 200 KB to 1.5 MB. While bigger ceremonies may seem better, given that larger parameters can create more useful SNARK circuits, bigger is, in fact, not always better. Certain applications, such as DAS, specifically need a smaller one! [The reason is very technical, but if you’re curious, it’s because a setup with n powers (in G\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) only enables KZG-commitments to polynomials of degree ≤ n, which is crucial for making sure that the polynomial underneath the KZG-commitment can be reconstructed from any n evaluations. This property enables data-availability-sampling: every-time t random evaluations of the polynomial are successfully obtained (sampled) it gives an assurance that the polynomial can be fully-reconstructed with probability t\u002Fn. If you want to learn more about DAS, check out this post by Buterin \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002F2d-data-availability-with-kate-commitments\u002F8081\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eon the Ethereum Research forum\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.]\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe designed a smart contract that can be deployed on the Ethereum blockchain to run a trusted setup ceremony. The contract stores the public parameters – the powers-of-tau – fully on-chain, and collects participation through users’ transactions.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA new participant first reads those parameters:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epp\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = ([𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003Ek\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E),\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethen samples a random secret 𝜏’ and computes updated parameters:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epp\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = ([𝜏𝜏’]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏𝜏’]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003Ek\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E),\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eand publishes them on-chain with a proof that demonstrates three things:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EKnowledge of discrete-log\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: the participant knows 𝜏’. (A proof that the latest contribution to the trusted setup ceremony builds on the work of all preceding participants.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EWell-formedness of the pp\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: the elements indeed encode incremental powers.(A validation of the well-formedness of a new participant&#8217;s contribution to the ceremony.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EThe update is not-erasing\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: 𝜏’ ≠ 0. (A defense against attackers trying to undermine the system by deleting all participants’ past work.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe smart contract verifies the proof and if it is correct, it updates the public parameters that it stores. You can find more details on the math and the reasoning behind it in the \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Erepo\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Calculating gas costs\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe main challenge of running the setup on-chain is making the trusted setup ceremony as gas-efficient as possible. Ideally, submitting a contribution would cost no more than ~$50. (Large projects might be able to subsidize gas for contributors, in which case having hundreds of participants each spending $100 is easier to imagine). Below, we give more details on the most expensive parts of the setup. Lower gas costs would reduce the cost of contributions and allow for the construction of longer parameters (more tau-powers and bigger SNARK circuits)!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOur setup works for the elliptic curve BN254 (also known as BN256, BN128, and alt_bn128), that has support for \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-1108\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethe following precompiled contracts\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on Ethereum:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EECADD allows two elliptic curve points to be added, i.e. compute [𝛼+𝛽]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E from [𝛼]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and [𝛽]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: gas cost 150\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EECMULT allows elliptic curve points to multiplied by a scalar, i.e. compute [a*𝛼]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E from a and [𝛼]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: gas cost 6,000\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EECPAIR allows a product of elliptic curve pairings to be checked, i.e. compute e([𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E)* … *e([𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) = 1 which is equivalent to checking that 𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E*𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E+ … + 𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003Ek\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E*𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003Ek\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = 0 : gas cost 34,000 * k + 45,000\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMight Ethereum enable BLS12_381 (as proposed in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-2537\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEIP-2537\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), our setup contract could be easily made to work for this other curve as well.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELet&#8217;s estimate the gas cost to update the setup to ([𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E):\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EGas cost of verifying the proof.\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Each participant updates the setup and submits a proof with three components as described above. The components 1 and 3 of the proof – “knowledge of discrete log” and “update being non-erasing” – are very cheap to verify. The challenge is in verifying component 2, “well-formedness of the pp\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E”, on chain. It requires a large multi-scalar-multiplication (MSM) and two pairings: \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ee(𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[1]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + … + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003En-1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En-2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) = e([𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + … + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003En-1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En-1\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [1]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E),\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ewhere 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,&#8230;,𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003En-1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E are pseudo-randomly-sampled scalars. In terms of precompiled smart-contracts, it would take:\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(2n-4) x ECADD  +  (2n-4) x ECMULT + ECPAIR\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003Ek=2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = (2n-4) x 6,150 + 113,000 gas.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EGas cost of storing data.\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Each participant also stores the update on-chain as calldata (68 gas per byte) accounting to n*64*68 gas. (A note for those familiar with elliptic curve cryptography: storing compressed points would make decompression dominate the overall cost as per our measurements for n=256.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis brings us to the following table estimating gas costs which should inform future optimizations:\u003C\u002Fspan\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-2167 size-full\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-7.11.04-PM.png\" alt=\"\" width=\"1910\" height=\"780\" \u002F\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe are exploring solutions to bring the gas-cost down, so stay tuned!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Open-sourced library: evm-powers-of-tau\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe’ve open sourced our EVM based powers-of-tau ceremony repo at \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Egithub.com\u002Fa16z\u002Fevm-powers-of-tau\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. Conducting a ceremony with our strategy is easy and transparent:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDeploy the storage and verification contract (contracts\u002FKZG.sol)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA contributor reads ceremony parameters from previous transaction calldata\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe contributor generates a secret locally, computes the updated parameters\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe contributor generates their proof: pi1, pi2\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe contributor submits the updated parameters via KZG.potUpdate() to the deployed smart contract on the public blockchain\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe smart contract will verify the validity of the update, reverting in the case of a malformed submission\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMultiple contributors can execute steps 2-5 in perpetuity, each increasing the security of the ceremony\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhenever a developer is confident with the number and quality of submissions, they can query the blockchain for the current parameters and use these values as their cryptographic keys\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EOur repo uses \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Farkworks-rs\" target=\"_blank\" rel=\"noopener\"\u003Earkworks-rs\u003C\u002Fa\u003E to compute steps two and three (the rust calculation can be found in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Fsrc\u002Fpot_update.rs\" target=\"_blank\" rel=\"noopener\"\u003Esrc\u002Fpot_update.rs\u003C\u002Fa\u003E), but users may want to write their own. The entire end-to-end flow of update submission can be found in the integration test in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Ftests\u002Fintegration_test.rs#L17-L30\" target=\"_blank\" rel=\"noopener\"\u003Etests\u002Fintegration_test.rs\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ENote that we have chosen to use calldata to store updated powers-of-tau parameters on-chain as it is several orders of magnitude cheaper than storage. An ethers-rs based query for this data can be found in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Fsrc\u002Fquery.rs\" target=\"_blank\" rel=\"noopener\"\u003Esrc\u002Fquery.rs\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFinally, proofs and detailed equations can be found in the technical report in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Ftechreport\u002Fmain.pdf\" target=\"_blank\" rel=\"noopener\"\u003Etechreport\u002Fmain.pdf\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Future work\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EBefore this trusted setup ceremony can be used in production, we’d recommend first having a comprehensive audit of both the mathematical proofs and the sample implementation.\u003C\u002Fp\u003E\n\u003Cp\u003EAs implemented the transaction cost of updating the ceremony grows linearly with the setup size. For most applications (SNARKs, DAS) we’d want a setup of n &gt;= 256, currently costing $73 per update.\u003C\u002Fp\u003E\n\u003Cp\u003EWe might be able to achieve sublinear verification cost growth with a STARK proof of the valid update computation and a vector commitment to the updated values. This construction would also remove the dependency on the Ethereum L1 BN254 precompiles, enabling the usage of the more popular BLS12-381 curve.\u003C\u002Fp\u003E\n\u003Cp\u003EAll ceremony strategies have tradeoffs. We think this construction is solid and has great verifiable censorship resistance properties. But again, we would caution against using this method until more work is done to verify our approach’s soundness.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Acknowledgments\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDan Boneh – for useful feedback at the early stages of this work\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EJoe Bonneau – for clarifying the exposition in the early version of the technical report\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWilliam Borgeaud – for discussion on BLS within TurboPlonk \u002F Plonky2\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMary Maller – for thoughts on the general mechanics of the approach\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEditor: Robert Hackett @rhhackett\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at https:\u002F\u002Fa16z.com\u002Finvestments\u002F.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see https:\u002F\u002Fa16z.com\u002Fdisclosures for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n",post_title:"On-Chain Trusted Setup Ceremony",post_excerpt:b,post_status:z,comment_status:B,ping_status:B,post_password:b,post_name:"on-chain-trusted-setup-ceremony",to_ping:b,pinged:b,post_modified:"2023-08-29 21:14:58",post_modified_gmt:"2023-08-30 04:14:58",post_content_filtered:b,post_parent:c,guid:"http:\u002F\u002Fcrypto.test\u002Fon-chain-trusted-setup-ceremony\u002F",menu_order:c,post_type:aZ,post_mime_type:b,comment_count:q,filter:e,taxonomies:[{term_id:gJ,name:da,slug:"cap-valeria-nikolaenko",term_group:c,term_taxonomy_id:gJ,taxonomy:I,description:"Valeria Nikolaenko Valeria Nikolaenko valeria-nikolaenko 1251 ",parent:c,count:bZ,filter:e},{term_id:gK,name:db,slug:"cap-sam-ragsdale",term_group:c,term_taxonomy_id:gK,taxonomy:I,description:"Sam Ragsdale Sam Ragsdale sam-ragsdale 1375 ",parent:c,count:aP,filter:e},{term_id:p,name:A,slug:r,term_group:c,term_taxonomy_id:p,taxonomy:s,description:b,parent:c,count:D,filter:e},{term_id:K,name:by,slug:bz,term_group:c,term_taxonomy_id:K,taxonomy:t,description:b,parent:c,count:bA,filter:e},{term_id:ca,name:aV,slug:aV,term_group:c,term_taxonomy_id:ca,taxonomy:g,description:b,parent:c,count:gL,filter:e},{term_id:aL,name:br,slug:bs,term_group:c,term_taxonomy_id:aL,taxonomy:g,description:b,parent:c,count:b_,filter:e},{term_id:o,name:n,slug:n,term_group:c,term_taxonomy_id:o,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:cb,name:cI,slug:cJ,term_group:c,term_taxonomy_id:cb,taxonomy:g,description:b,parent:c,count:a,filter:e},{term_id:E,name:aN,slug:aO,term_group:c,term_taxonomy_id:E,taxonomy:g,description:b,parent:c,count:bi,filter:e},{term_id:cc,name:cL,slug:cM,term_group:c,term_taxonomy_id:cc,taxonomy:g,description:b,parent:c,count:gM,filter:e},{term_id:aQ,name:ce,slug:cf,term_group:c,term_taxonomy_id:aQ,taxonomy:t,description:b,parent:c,count:cg,filter:e},{term_id:aR,name:bC,slug:bD,term_group:c,term_taxonomy_id:aR,taxonomy:g,description:b,parent:c,count:ch,filter:e}],acf:{custom_title:"trusted setup ceremonies, now on-chain",redirect_author_links_to_the_post:f,content:[{acf_fc_layout:a_,paragraph:"\u003Cp\u003EThe trusted setup ceremony is one of the pains &#8212; and excitements &#8212; of crypto communities. The goal of a ceremony is to generate trustworthy cryptographic keys for securing crypto wallets, blockchain protocols, or zero-knowledge proof systems. These (sometimes flamboyant) procedures are frequently the root of trust for a given project’s security, and they are therefore extremely important to get right.\u003C\u002Fp\u003E\n\u003Cp\u003EBlockchain projects run ceremonies in numerous creative ways &#8212; involving blowtorches, radioactive dust, and airplanes – but all share something in common: they all involve a centralized coordinator. With this work we demonstrate how to decentralize the process by replacing the centralized coordinator with a smart contract. In addition, we’re open-sourcing a library that allows anyone to run such a ceremony &#8212; known to crypto practitioners as a \u003Ca href=\"https:\u002F\u002Fwww.iacr.org\u002Farchive\u002Fasiacrypt2010\u002F6477178\u002F6477178.pdf\" target=\"_blank\" rel=\"noopener\"\u003EKate-Zaverucha-Goldberg (KZG)\u003C\u002Fa\u003E or “powers-of-tau” ceremony &#8212; on the Ethereum chain. Anyone can participate simply by paying the transaction fees!\u003C\u002Fp\u003E\n\u003Cp\u003EOur decentralized approach has limitations, but it’s still useful. Due to current on-chain data constraints, the size of the cryptographic parameters has to be kept short, i.e. no more than 64 KB. But the number of participants has no cap and people can keep submitting contributions in perpetuity. Applications for these short parameters include small zero-knowledge SNARKs, \u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fabs\u002F1809.09044\" target=\"_blank\" rel=\"noopener\"\u003Edata-availability sampling\u003C\u002Fa\u003E, and \u003Ca href=\"https:\u002F\u002Fmath.mit.edu\u002Fresearch\u002Fhighschool\u002Fprimes\u002Fmaterials\u002F2018\u002FKuszmaul.pdf\" target=\"_blank\" rel=\"noopener\"\u003EVerkle trees\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]History and mechanics of the trusted setup ceremony\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EIn a typical trusted setup ceremony, a group of participants will collaboratively generate a set of cryptographic parameters. Each participating party uses secret information, generated locally, to generate data that helps create these parameters. Proper setups ensure secrets do not leak, that secrets are only used as designated by the protocol, and that these secrets are completely destroyed at the end of the ceremony. As long as at least one party in the ceremony behaves honestly, is not compromised, and destroys its local secret, the entire setup can be considered secure. (Of course, that is assuming the math is correct and the code has no bugs.)\u003C\u002Fp\u003E\n\u003Cp\u003ESome of the most prominent ceremonies were \u003Ca href=\"https:\u002F\u002Fz.cash\u002Ftechnology\u002Fparamgen\u002F\" target=\"_blank\" rel=\"noopener\"\u003Erun by Zcash\u003C\u002Fa\u003E, a privacy-oriented blockchain project. Participants in these ceremonies generated public parameters designed to allow Zcash users to construct and verify private crypto transactions. Six participants carried out the first Zcash ceremony, Sprout, in 2016. Two years later, crypto researcher Ariel Gabizon, now a Chief Scientist at \u003Ca href=\"https:\u002F\u002Faztec.network\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAztec\u003C\u002Fa\u003E, found \u003Ca href=\"https:\u002F\u002Felectriccoin.co\u002Fblog\u002Fzcash-counterfeiting-vulnerability-successfully-remediated\u002F\" target=\"_blank\" rel=\"noopener\"\u003Ea devastating bug\u003C\u002Fa\u003E in the design of the ceremony which was inherited from a \u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2013\u002F879\" target=\"_blank\" rel=\"noopener\"\u003Efoundational research paper\u003C\u002Fa\u003E. The vulnerability could have enabled attackers to create unlimited Zcash coins without being detected. The Zcash team kept the vulnerability secret for seven months until a system upgrade, Sapling, whose ceremony involved 90 participants, addressed the issue. While an attack based on the security hole would not have affected the privacy of users’ transactions, the prospect of infinite counterfeiting undermined Zcash’s security premise. (It&#8217;s theoretically impossible to know whether an attack took place.)\u003C\u002Fp\u003E\n\u003Cp\u003EAnother notable example of a trusted setup is the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\" target=\"_blank\" rel=\"noopener\"\u003Eperpetual “powers-of-tau” ceremony\u003C\u002Fa\u003E designed primarily for \u003Ca href=\"https:\u002F\u002Fmedium.com\u002Fcoinmonks\u002Fto-mixers-and-beyond-presenting-semaphore-a-privacy-gadget-built-on-ethereum-4c8b00857c9b\" target=\"_blank\" rel=\"noopener\"\u003ESemaphore\u003C\u002Fa\u003E, a privacy preserving technology for anonymous signaling on Ethereum. The setup used a BN254 elliptic curve and has had 71 participants so far. Other prominent projects later used this setup to run their own ceremonies on top, including \u003Ca href=\"https:\u002F\u002Ftornado-cash.medium.com\u002Ftornado-cash-trusted-setup-ceremony-b846e1e00be1\" target=\"_blank\" rel=\"noopener\"\u003ETornado.Cash\u003C\u002Fa\u003E (recently sanctioned by the U.S. government), \u003Ca href=\"https:\u002F\u002Fblog.hermez.io\u002Fhermez-zero-knowledge-proofs\u002F\" target=\"_blank\" rel=\"noopener\"\u003EHermez\u003C\u002Fa\u003E network, and \u003Ca href=\"https:\u002F\u002Fmedium.loopring.io\u002Floopring-starts-zksnark-trusted-setup-multi-party-computation-ceremony-6582874f7a5b\" target=\"_blank\" rel=\"noopener\"\u003ELoopring\u003C\u002Fa\u003E. \u003Ca href=\"https:\u002F\u002Fdocs.zksync.io\u002Fuserdocs\u002Fsecurity\u002F#universal-crs-setup\" target=\"_blank\" rel=\"noopener\"\u003EAztec\u003C\u002Fa\u003E coordinated a similar ceremony on a BN254 curve to create a universal common reference string (\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FCommon_reference_string_model\" target=\"_blank\" rel=\"noopener\"\u003ECRS\u003C\u002Fa\u003E) for use by \u003Ca href=\"https:\u002F\u002Feprint.iacr.org\u002F2019\u002F953.pdf\" target=\"_blank\" rel=\"noopener\"\u003EPLONK zk-snarks\u003C\u002Fa\u003E. zkSync, a “layer two” Ethereum scaling solution, participated in the ceremony and uses this CRS to underpin the security of their zero knowledge rollup. \u003Ca href=\"https:\u002F\u002Ffilecoin.io\u002Fblog\u002Fposts\u002Ftrusted-setup-complete\u002F\" target=\"_blank\" rel=\"noopener\"\u003EFilecoin\u003C\u002Fa\u003E, a decentralized data storage protocol, ran a ceremony with 19 and 33 participants, in first and second phase respectively, forking the original repo. \u003Ca href=\"https:\u002F\u002Fcelo.org\u002Fplumo\" target=\"_blank\" rel=\"noopener\"\u003ECelo\u003C\u002Fa\u003E, a layer-1 blockchain, ran a ceremony for their light-client Plumo too.\u003C\u002Fp\u003E\n\u003Cp\u003EPerpetual ceremonies have no limit to the number of participants. In other words, instead of trusting other people to run a trusted setup ceremony, ANYONE can participate to whatever degree of security meets their satisfaction. A single trustworthy participant ensures the security of all of the resulting parameters; the chain is as strong as its strongest link. Perpetual ceremonies may run, as the name implies, in perpetuity, as was the premise with the original powers-of-tau ceremony. That said, projects often decide on a concrete beginning and end time for their ceremonies, that way they can embed the resulting parameters into their protocols and don’t have to worry about continually updating them.\u003C\u002Fp\u003E\n\u003Cp\u003EEthereum plans to run a smaller trusted setup ceremony for upcoming \u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4844\" target=\"_blank\" rel=\"noopener\"\u003EProtoDankSharding\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@dankrad\u002Fnew_sharding\" target=\"_blank\" rel=\"noopener\"\u003EDankSharding\u003C\u002Fa\u003E upgrades. Those two upgrades will increase the amount of data that the Ethereum chain provides to clients for storage. This data will have an expiry of suggested \u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-4844\" target=\"_blank\" rel=\"noopener\"\u003E30-to-60 days\u003C\u002Fa\u003E. The ceremony is \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fplaylist?list=PL4cwHXAawZxpE60NSuTiQbnUbJxOBBHhN\" target=\"_blank\" rel=\"noopener\"\u003Eunder active development\u003C\u002Fa\u003E, and is \u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@CarlBeek\u002Fkzg_ceremony_timelines\" target=\"_blank\" rel=\"noopener\"\u003Eplanned\u003C\u002Fa\u003E to run for six weeks early next year. (See \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fkzg-ceremony-specs\u002F\" target=\"_blank\" rel=\"noopener\"\u003Ekzg-ceremony-specs\u003C\u002Fa\u003E for more details.) It’s shaping up to be the largest trusted setup ceremony for blockchains run so far.\u003C\u002Fp\u003E\n\u003Cp\u003EParanoia is a virtue when it comes to trusted setup ceremonies. If a machine’s hardware or software is compromised, that can undermine the security of the secrets it generates. Sneaky side channel attacks which leak secrets can also be difficult to rule out. A phone can spy on a computer’s operations by \u003Ca href=\"https:\u002F\u002Fspectrum.ieee.org\u002Fthe-crazy-security-behind-the-birth-of-zcash\" target=\"_blank\" rel=\"noopener\"\u003Erecording sound waves\u003C\u002Fa\u003E of CPU vibrations, for example. In practice, since it is immensely hard to eliminate all possible side channel attacks – including those still to be discovered or disclosed – there are even proposals to fly machines to space to conduct \u003Ca href=\"https:\u002F\u002Fcointelegraph.com\u002Fmagazine\u002F2020\u002F12\u002F22\u002Fmoon-man-mission-to-blast-crypto-satellite-into-orbit\" target=\"_blank\" rel=\"noopener\"\u003Eceremonies there\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFor now, the playbook for serious ceremony participants typically goes as follows. Buy a new machine (untainted hardware). Air-gap it by removing all the network cards (to prevent local secrets from leaving the machine). Run the machine in a Faraday cage at a remote undisclosed location (to foil would-be snoopers). Seed the pseudo-random secret generator with lots of entropy and hard-replicate data such as random key-strokes or video files (to make the secrets hard to crack). And finally, destroy the machine – along with any traces of the secrets – by burning everything to ashes. 😀\u003C\u002Fp\u003E\n\u003Ch2\u003E[toc-embed]Coordinating trusted setup ceremonies\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EHere is a fun selection of quotes from some previous trusted setup ceremony participants:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E&#8230;the blowtorch was used to methodically heat the electronics completely piece by piece until everything was blackened…\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fpetertodd.org\u002F2016\u002Fcypherpunk-desert-bus-zcash-trusted-setup-ceremony\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPeter Todd\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on physically destroying the local secrets.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cem\u003E“I have here a piece of fabric that has graphite dust [from] the core of the [Chernobyl] reactor… You count every four pulses [from a Geiger counter hooked up to a microcontroller] and you compare the time interval between pulse one and two and the time interval between pulse three and four and if it’s greater you get a zero, if it’s less you get a one.” “&#8230;we are about to get in this airplane and generate our random numbers…”\u003C\u002Fem\u003E \u003Cspan style=\"font-weight: 400;\"\u003E—\u003C\u002Fspan\u003E \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=I4cDAqeEmpU\" target=\"_blank\" rel=\"noopener\"\u003ERyan Pierce and Andrew Miller\u003C\u002Fa\u003E on secret generation.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdiv id=\"attachment_2161\" style=\"width: 1176px\" class=\"wp-caption alignnone\"\u003E\u003Cimg aria-describedby=\"caption-attachment-2161\" loading=\"lazy\" decoding=\"async\" class=\"size-full wp-image-2161\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-4.02.05-PM.png\" alt=\"\" width=\"1166\" height=\"672\" \u002F\u003E\u003Cp id=\"caption-attachment-2161\" class=\"wp-caption-text\"\u003E\u003Cspan style=\"font-size: 11.5pt;\"\u003E\u003Cem\u003EZcash powers-of-tau ceremony round 41 involved an airplane. Screenshot: YouTube video\u003C\u002Fem\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cul\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe salesperson said they had 13 [computers]. I asked if we could pick one of the 13. He asked if there was something I was looking for in particular (confused because they are all the same) and I said I just wanted to pick a random one. He said he could not let us into the back warehouse. I asked if he would bring two of them out so we could pick one of the two. He brought two out on a handcart. Jerry selected one of the two computers and we took that to the register to check out.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgist.github.com\u002Fvalkenburgh\u002F8cf1d1e0a93daff5f051def361d9722d\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EPeter Van Valkenburgh\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on getting a new machine.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe first few hours of the ceremony were performed in a makeshift Faraday cage made of aluminium foil and cling wrap. I moved the laptop out of the Faraday cage as it had poor ventilation and was getting hot to the touch\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\u002Ftree\u002Fmaster\u002F0014_weijie_response\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKoh Wei Jie\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on side-channel protection.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E“\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.. performed one part of ceremony in the mountains with no neighbors.\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\u002Fblob\u002Fmaster\u002F0008_mike_response\u002FREADME.md\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMicheal Lapinski\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on side-channel protection.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003E”\u003C\u002Fspan\u003E\u003Ci\u003E\u003Cspan style=\"font-weight: 400;\"\u003EI opted to use video of the surroundings to generate sufficient entropy\u003C\u002Fspan\u003E\u003C\u002Fi\u003E\u003Cspan style=\"font-weight: 400;\"\u003E” — \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fweijiekoh\u002Fperpetualpowersoftau\u002Ftree\u002Fmaster\u002F0005_amrullah_response\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMuhd Amrullah\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on generation of random values.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cdiv id=\"attachment_2162\" style=\"width: 994px\" class=\"wp-caption alignnone\"\u003E\u003Ca href=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-4.02.29-PM.png\"\u003E\u003Cimg aria-describedby=\"caption-attachment-2162\" loading=\"lazy\" decoding=\"async\" class=\"wp-image-2162 size-full\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-4.02.29-PM.png\" alt=\"\" width=\"984\" height=\"652\" \u002F\u003E\u003C\u002Fa\u003E\u003Cp id=\"caption-attachment-2162\" class=\"wp-caption-text\"\u003E\u003Cspan style=\"font-size: 11.5pt;\"\u003E\u003Cem\u003EZa Wilcox, brother of Zcash cofounder Zooko Wilcox, destroying a computer used to generate random numbers for a trusted ceremony in 2016. Photo: Morgen Peck\u003C\u002Fem\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAll of these ceremonies relied on a centralized coordinator. The coordinator is an individual or private server or some other entity who is entrusted to register and order participants, to act as a relay by forwarding information from the previous participant to the next, and to keep a centralized log of all communications for auditability purposes. The coordinator is typically also in charge of making the log available to the public in perpetuity; of course, i\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Et&#8217;s always a possibility with a centralized system for data to get lost or mismanaged. (Perpetual-powers-of-tau for example is stored on Microsoft Azure and Github.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EIt struck us as ironic that crypto projects must rely on centralized trusted setup ceremonies when decentralization is such a core tenet of the crypto ethos. So we decided to demonstrate the feasibility of running a small ceremony for perpetual-powers-of-tau directly on the Ethereum blockchain! The setup is fully decentralized, permissionless, censorship resistant, and is secure as long as any single one of the participants is honest [see \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau#disclaimer\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edisclaimers\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]. Participating in the ceremony costs only 292,600 to 17,760,000 gas (about $7 to $400 at current prices), depending on the size of the desired resulting parameters (in this case between 8 and 1024 powers-of-tau). (See the Table below for concrete costs – we go into more detail about these calculations later in the post.)\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"alignnone size-full wp-image-2168\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-7.19.17-PM.png\" alt=\"\" width=\"2064\" height=\"346\" \u002F\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EAs yet, we advise not to use the code for anything other than experimental purposes! We would greatly appreciate it if anyone who finds any issues with the code reports them to us. We would love to collect feedback on and audits of our approach.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Understanding the KZG or ‘powers-of-tau’ ceremony\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELet’s explore one of the most popular trusted setups, which is known as the KZG, or “powers-of-tau,” ceremony. Credit to Ethereum cofounder Vitalik Buterin, whose \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fvitalik.ca\u002Fgeneral\u002F2022\u002F03\u002F14\u002Ftrustedsetup.html\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eblog post on trusted setups\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E informed our ideas in this section. The setup generates the encodings of the powers-of-tau, so named because “tau” happens to be the variable used to express the secrets generated by participants:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epp = [[𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003Ek\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EFor some applications (e.g. Groth16, a popular zkSNARK proving scheme designed by Jens Groth in 2016), this first-phase of the setup is followed by a second phase, a multiparty computation (MPC) ceremony, that generates parameters for a specific SNARK circuit. However, our work focuses solely on phase one. This first phase – the generation of the powers-of-tau – is already useful as a foundational building block for universal SNARKs (e.g. PLONK and SONIC), as well as other cryptography applications, such as \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fwww.iacr.org\u002Farchive\u002Fasiacrypt2010\u002F6477178\u002F6477178.pdf\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EKZG commitments\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fvitalik.ca\u002Fgeneral\u002F2021\u002F06\u002F18\u002Fverkle.html\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EVerkle trees\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fnotes.ethereum.org\u002F@dankrad\u002Fnew_sharding\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Edata-availability sampling\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E (DAS). Generally, universal SNARK parameters should be very large so they can support big and useful circuits. Circuits that contain more gates are generally more useful as they can capture large computations; the number of powers-of-tau roughly corresponds to the number of gates in the circuit. So, a typical setup will be of size |pp| = ~40 GB and capable of supporting circuits with ~2\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E28\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E gates. Given Ethereum’s current constraints, it would be infeasible to put such large parameters on-chain, but a smaller trusted setup ceremony useful for small SNARK circuits, Verkle trees, or DAS can feasibly be run on-chain.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe Ethereum Foundation is planning to run several smaller \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fethereum\u002Fkzg-ceremony-specs\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eceremonies\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E for powers-of-tau of size 200 KB to 1.5 MB. While bigger ceremonies may seem better, given that larger parameters can create more useful SNARK circuits, bigger is, in fact, not always better. Certain applications, such as DAS, specifically need a smaller one! [The reason is very technical, but if you’re curious, it’s because a setup with n powers (in G\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) only enables KZG-commitments to polynomials of degree ≤ n, which is crucial for making sure that the polynomial underneath the KZG-commitment can be reconstructed from any n evaluations. This property enables data-availability-sampling: every-time t random evaluations of the polynomial are successfully obtained (sampled) it gives an assurance that the polynomial can be fully-reconstructed with probability t\u002Fn. If you want to learn more about DAS, check out this post by Buterin \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fethresear.ch\u002Ft\u002F2d-data-availability-with-kate-commitments\u002F8081\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eon the Ethereum Research forum\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.]\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe designed a smart contract that can be deployed on the Ethereum blockchain to run a trusted setup ceremony. The contract stores the public parameters – the powers-of-tau – fully on-chain, and collects participation through users’ transactions.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA new participant first reads those parameters:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epp\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = ([𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003Ek\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E),\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethen samples a random secret 𝜏’ and computes updated parameters:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Epp\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = ([𝜏𝜏’]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏𝜏’]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [(𝜏𝜏’)\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003Ek\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E),\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003Eand publishes them on-chain with a proof that demonstrates three things:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EKnowledge of discrete-log\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: the participant knows 𝜏’. (A proof that the latest contribution to the trusted setup ceremony builds on the work of all preceding participants.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EWell-formedness of the pp\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: the elements indeed encode incremental powers.(A validation of the well-formedness of a new participant&#8217;s contribution to the ceremony.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EThe update is not-erasing\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: 𝜏’ ≠ 0. (A defense against attackers trying to undermine the system by deleting all participants’ past work.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe smart contract verifies the proof and if it is correct, it updates the public parameters that it stores. You can find more details on the math and the reasoning behind it in the \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Erepo\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Calculating gas costs\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe main challenge of running the setup on-chain is making the trusted setup ceremony as gas-efficient as possible. Ideally, submitting a contribution would cost no more than ~$50. (Large projects might be able to subsidize gas for contributors, in which case having hundreds of participants each spending $100 is easier to imagine). Below, we give more details on the most expensive parts of the setup. Lower gas costs would reduce the cost of contributions and allow for the construction of longer parameters (more tau-powers and bigger SNARK circuits)!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EOur setup works for the elliptic curve BN254 (also known as BN256, BN128, and alt_bn128), that has support for \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-1108\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ethe following precompiled contracts\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E on Ethereum:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EECADD allows two elliptic curve points to be added, i.e. compute [𝛼+𝛽]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E from [𝛼]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E and [𝛽]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: gas cost 150\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EECMULT allows elliptic curve points to multiplied by a scalar, i.e. compute [a*𝛼]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E from a and [𝛼]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E: gas cost 6,000\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EECPAIR allows a product of elliptic curve pairings to be checked, i.e. compute e([𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E)* … *e([𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) = 1 which is equivalent to checking that 𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E*𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E+ … + 𝛼\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003Ek\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E*𝛽\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003Ek\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = 0 : gas cost 34,000 * k + 45,000\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMight Ethereum enable BLS12_381 (as proposed in \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Feips.ethereum.org\u002FEIPS\u002Feip-2537\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EEIP-2537\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E), our setup contract could be easily made to work for this other curve as well.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003ELet&#8217;s estimate the gas cost to update the setup to ([𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E3\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, …, [𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E;    [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E):\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EGas cost of verifying the proof.\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Each participant updates the setup and submits a proof with three components as described above. The components 1 and 3 of the proof – “knowledge of discrete log” and “update being non-erasing” – are very cheap to verify. The challenge is in verifying component 2, “well-formedness of the pp\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E”, on chain. It requires a large multi-scalar-multiplication (MSM) and two pairings: \u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ee(𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[1]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + … + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003En-1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En-2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E) = e([𝜏]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003E2\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E + … + 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003En-1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[𝜏\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csup\u003En-1\u003C\u002Fsup\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E, [1]\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E),\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003Ewhere 𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003E0\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E,&#8230;,𝝆\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003En-1\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E are pseudo-randomly-sampled scalars. In terms of precompiled smart-contracts, it would take:\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Cbr \u002F\u003E\n\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E(2n-4) x ECADD  +  (2n-4) x ECMULT + ECPAIR\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E\u003Csub\u003Ek=2\u003C\u002Fsub\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"font-weight: 400;\"\u003E = (2n-4) x 6,150 + 113,000 gas.\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cb\u003EGas cost of storing data.\u003C\u002Fb\u003E\u003Cspan style=\"font-weight: 400;\"\u003E Each participant also stores the update on-chain as calldata (68 gas per byte) accounting to n*64*68 gas. (A note for those familiar with elliptic curve cryptography: storing compressed points would make decompression dominate the overall cost as per our measurements for n=256.)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis brings us to the following table estimating gas costs which should inform future optimizations:\u003C\u002Fspan\u003E\u003Cimg loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-2167 size-full\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002F\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FScreen-Shot-2022-09-06-at-7.11.04-PM.png\" alt=\"\" width=\"1910\" height=\"780\" \u002F\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe are exploring solutions to bring the gas-cost down, so stay tuned!\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Open-sourced library: evm-powers-of-tau\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWe’ve open sourced our EVM based powers-of-tau ceremony repo at \u003C\u002Fspan\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003Egithub.com\u002Fa16z\u002Fevm-powers-of-tau\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan style=\"font-weight: 400;\"\u003E. Conducting a ceremony with our strategy is easy and transparent:\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDeploy the storage and verification contract (contracts\u002FKZG.sol)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EA contributor reads ceremony parameters from previous transaction calldata\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe contributor generates a secret locally, computes the updated parameters\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe contributor generates their proof: pi1, pi2\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe contributor submits the updated parameters via KZG.potUpdate() to the deployed smart contract on the public blockchain\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe smart contract will verify the validity of the update, reverting in the case of a malformed submission\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMultiple contributors can execute steps 2-5 in perpetuity, each increasing the security of the ceremony\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWhenever a developer is confident with the number and quality of submissions, they can query the blockchain for the current parameters and use these values as their cryptographic keys\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EOur repo uses \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Farkworks-rs\" target=\"_blank\" rel=\"noopener\"\u003Earkworks-rs\u003C\u002Fa\u003E to compute steps two and three (the rust calculation can be found in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Fsrc\u002Fpot_update.rs\" target=\"_blank\" rel=\"noopener\"\u003Esrc\u002Fpot_update.rs\u003C\u002Fa\u003E), but users may want to write their own. The entire end-to-end flow of update submission can be found in the integration test in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Ftests\u002Fintegration_test.rs#L17-L30\" target=\"_blank\" rel=\"noopener\"\u003Etests\u002Fintegration_test.rs\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ENote that we have chosen to use calldata to store updated powers-of-tau parameters on-chain as it is several orders of magnitude cheaper than storage. An ethers-rs based query for this data can be found in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Fsrc\u002Fquery.rs\" target=\"_blank\" rel=\"noopener\"\u003Esrc\u002Fquery.rs\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EFinally, proofs and detailed equations can be found in the technical report in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fa16z\u002Fevm-powers-of-tau\u002Fblob\u002Fmaster\u002Ftechreport\u002Fmain.pdf\" target=\"_blank\" rel=\"noopener\"\u003Etechreport\u002Fmain.pdf\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Future work\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EBefore this trusted setup ceremony can be used in production, we’d recommend first having a comprehensive audit of both the mathematical proofs and the sample implementation.\u003C\u002Fp\u003E\n\u003Cp\u003EAs implemented the transaction cost of updating the ceremony grows linearly with the setup size. For most applications (SNARKs, DAS) we’d want a setup of n &gt;= 256, currently costing $73 per update.\u003C\u002Fp\u003E\n\u003Cp\u003EWe might be able to achieve sublinear verification cost growth with a STARK proof of the valid update computation and a vector commitment to the updated values. This construction would also remove the dependency on the Ethereum L1 BN254 precompiles, enabling the usage of the more popular BLS12-381 curve.\u003C\u002Fp\u003E\n\u003Cp\u003EAll ceremony strategies have tradeoffs. We think this construction is solid and has great verifiable censorship resistance properties. But again, we would caution against using this method until more work is done to verify our approach’s soundness.\u003C\u002Fp\u003E\n\u003Ch2\u003E\u003Cspan style=\"font-weight: 400;\"\u003E[toc-embed]Acknowledgments\u003C\u002Fspan\u003E\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EDan Boneh – for useful feedback at the early stages of this work\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EJoe Bonneau – for clarifying the exposition in the early version of the technical report\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EWilliam Borgeaud – for discussion on BLS within TurboPlonk \u002F Plonky2\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003Cli style=\"font-weight: 400;\" aria-level=\"1\"\u003E\u003Cspan style=\"font-weight: 400;\"\u003EMary Maller – for thoughts on the general mechanics of the approach\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEditor: Robert Hackett @rhhackett\u003C\u002Fp\u003E\n\u003Cp\u003E***\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThe views expressed here are those of the individual AH Capital Management, L.L.C. (“a16z”) personnel quoted and are not the views of a16z or its affiliates. Certain information contained in here has been obtained from third-party sources, including from portfolio companies of funds managed by a16z. While taken from sources believed to be reliable, a16z has not independently verified such information and makes no representations about the current or enduring accuracy of the information or its appropriateness for a given situation. In addition, this content may include third-party advertisements; a16z has not reviewed such advertisements and does not endorse any advertising content contained therein.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003EThis content is provided for informational purposes only, and should not be relied upon as legal, business, investment, or tax advice. You should consult your own advisers as to those matters. References to any securities or digital assets are for illustrative purposes only, and do not constitute an investment recommendation or offer to provide investment advisory services. Furthermore, this content is not directed at nor intended for use by any investors or prospective investors, and may not under any circumstances be relied upon when making a decision to invest in any fund managed by a16z. (An offering to invest in an a16z fund will be made only by the private placement memorandum, subscription agreement, and other relevant documentation of any such fund and should be read in their entirety.) Any investments or portfolio companies mentioned, referred to, or described are not representative of all investments in vehicles managed by a16z, and there can be no assurance that the investments will be profitable or that other investments made in the future will have similar characteristics or results. A list of investments made by funds managed by Andreessen Horowitz (excluding investments for which the issuer has not provided permission for a16z to disclose publicly as well as unannounced investments in publicly traded digital assets) is available at \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Finvestments\u002F\"\u003Ehttps:\u002F\u002Fa16z.com\u002Finvestments\u002F\u003C\u002Fa\u003E.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Cspan style=\"font-weight: 400;\"\u003ECharts and graphs provided within are for informational purposes solely and should not be relied upon when making any investment decision. Past performance is not indicative of future results. The content speaks only as of the date indicated. Any projections, estimates, forecasts, targets, prospects, and\u002For opinions expressed in these materials are subject to change without notice and may differ or be contrary to opinions expressed by others. Please see \u003Ca href=\"https:\u002F\u002Fa16z.com\u002Fdisclosures\"\u003Ehttps:\u002F\u002Fa16z.com\u002Fdisclosures\u003C\u002Fa\u003E for additional important information.\u003C\u002Fspan\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E&nbsp;\u003C\u002Fp\u003E\n"}],related_posts:a$,post_redirector:f,format:{term_id:p,name:A,slug:r,term_group:c,term_taxonomy_id:p,taxonomy:s,description:b,parent:c,count:D,filter:e}},tags:[{term_id:ca,name:aV,slug:aV,term_group:c,term_taxonomy_id:ca,taxonomy:g,description:b,parent:c,count:gL,filter:e},{term_id:aL,name:br,slug:bs,term_group:c,term_taxonomy_id:aL,taxonomy:g,description:b,parent:c,count:b_,filter:e},{term_id:o,name:n,slug:n,term_group:c,term_taxonomy_id:o,taxonomy:g,description:b,parent:c,count:w,filter:e},{term_id:cb,name:cI,slug:cJ,term_group:c,term_taxonomy_id:cb,taxonomy:g,description:b,parent:c,count:a,filter:e},{term_id:E,name:aN,slug:aO,term_group:c,term_taxonomy_id:E,taxonomy:g,description:b,parent:c,count:bi,filter:e},{term_id:cc,name:cL,slug:cM,term_group:c,term_taxonomy_id:cc,taxonomy:g,description:b,parent:c,count:gM,filter:e},{term_id:aR,name:bC,slug:bD,term_group:c,term_taxonomy_id:aR,taxonomy:g,description:b,parent:c,count:ch,filter:e}],post_thumbnail:"\u003Cimg width=\"1024\" height=\"576\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-1024x576.jpg\" class=\"attachment-large size-large wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" srcset=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-1024x576.jpg 1024w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-300x169.jpg 300w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-768x432.jpg 768w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-1536x864.jpg 1536w, https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA.jpg 1920w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" \u002F\u003E",post_thumbnail_small:"\u003Cimg width=\"150\" height=\"150\" src=\"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-150x150.jpg\" class=\"attachment-thumbnail size-thumbnail wp-post-image\" alt=\"\" decoding=\"async\" loading=\"lazy\" \u002F\u003E",post_images:[{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-150x150.jpg",width:O},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-300x169.jpg",width:aT},{url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA-1024x576.jpg",width:bN}],authors:[{ID:"1251",display_name:"Valeria Nikolaenko",first_name:"Valeria",last_name:"Nikolaenko",user_login:da,user_email:b,linked_account:b,website:"https:\u002F\u002Fvalerini.com\u002F%20",description:"\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EValeria Nikolaenko is a Research Partner at a16z crypto, where she advises portfolio companies on research endeavors. Additionally, she works on research projects that focus on cryptography and blockchain security for the benefit of the web3 community. She has worked on topics such as long-range attacks in PoS consensus protocols, signature schemes, post-quantum security, and multi-party computation.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EPrior to joining a16z crypto, Valeria was a Research Scientist at the Diem blockchain. Before that she completed her PhD in Cryptography at Stanford University under advisorship of Professor Dan Boneh, and did a cycling expedition crossing the South America continent.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cspan style=\"font-weight: 400\"\u003EValeria enjoys sailing, bike-touring and cross-country skiing.\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n",user_nicename:da,type:J,nickname:b},{ID:"1375",display_name:"Sam Ragsdale",first_name:"Sam",last_name:"Ragsdale",user_login:db,user_email:b,linked_account:b,website:b,description:"\u003Cp\u003ESam is an Investment Engineer for a16z crypto. The engineering team supports the investing process, collaborates with portfolio companies to make strong tech decisions, and engages with developer-facing products to understand the future of the space.\u003C\u002Fp\u003E\n\u003Cp\u003EBefore a16z crypto, Sam worked in a similar capacity at Blockchain Capital. Prior he worked as a Software Engineer at Google optimizing the lifecycle of advertising campaigns.\u003C\u002Fp\u003E\n",user_nicename:db,type:J,nickname:b}],meta_desc:dc,seo:{title_tag:gN,meta_description:dc,canonical:gO,robots:{index:ba,follow:bb,"max-snippet":bc,"max-image-preview":bd,"max-video-preview":be},open_graph_locale:bf,open_graph_type:r,open_graph_title:gN,open_graph_description:dc,open_graph_url:gO,open_graph_images:{"https://api.a16zcrypto.com/wp-content/uploads/2022/09/KZG-setup-ceremony-on-chain_1920x1080_FA.jpg":{width:1920,height:c$,filesize:1685698,url:"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA.jpg",path:"\u002Fnas\u002Fcontent\u002Flive\u002Fa16zcryptocms\u002Fwp-content\u002Fuploads\u002F2022\u002F09\u002FKZG-setup-ceremony-on-chain_1920x1080_FA.jpg",size:bV,id:4108,alt:b,pixels:2073600,type:cX}},open_graph_site_name:bg,estimated_reading_time_minutes:bZ,twitter_card:bh,twitter_title:b,twitter_description:b,twitter_image:b,open_graph_article_published_time:"2022-09-07T00:00:00+00:00"},format:{term_id:p,name:A,slug:r,term_group:c,term_taxonomy_id:p,taxonomy:s,description:b,parent:c,count:D,filter:e},template:b,disclosure:f}],termFeaturedPosts:[]},"PostOneCol:0":{},"PostOneCol:1":{},"PostOneCol:2":{},"PostOneCol:3":{},"PostOneCol:4":{},"PostOneCol:5":{},"A16zFooter:0":{toggleDropdown:f,general_content:dd,footer_menu:df,socials:dg,streamings:dh,puzzle:f,puzzleEnabled:cd,puzzleCode1:do0,puzzleCode2:dp}},mutations:[]}}(1,"",0,null,"raw",false,"post_tag","inherit","image","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-includes\u002Fimages\u002Fmedia\u002Fdefault.png","image\u002Fsvg+xml","svg+xml","29","gas",1863,1882,"0","article","format","category","research","17",6,"closed","videos","publish","articles","open",1889,482,1790,1734,"video",208,"author","guest-author",1735,"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fafriex.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Faxal.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fbello.svg",150,"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcapsule.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fchainpatrol.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FCollar_Wordmark_Yellow-Michael-Moulton.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Flogo_nooutline_width60-1-Elisabeth-Duijnstee.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fdiscove.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Fethxy-dark-J-Eth.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fid.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Ffancraze.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Ffine.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fflashbot.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fformless.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Ffrens.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Ffuul.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fgandalf.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fgoldfinch.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fiyk.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fkiki.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Fmagicblock_white-1-Andrea-Fortugno.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fmbd.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fmentaport.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fmir.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fnarval.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FNEBRA_logo_1-Shumo-Chu.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FFrame-27-Rishav-Mukherji.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FNodeKit-Logo-Atomic-Abyss-1-Nick-Preszler.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fnotion-finance.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FOpenTrade-logo-2-David-Sutter.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fphantom.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fpimlico.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FPlaymint_Logo_Export_Colour_Black-Luke-Gibson.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fprimev.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FRoux_logo_castiron-Lisa-Grimm.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fshield.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Fsiren_Logo_black-1-Andrei-Anisimov.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fskylab.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Ftransparent-Kaito-Yanai.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fspring.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fstackr.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fteller-1.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Flogo_black.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Ftriangle-labs.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002Flogo-1-Michelle-Latzer.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fweb3analytics.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fzero-dev.svg","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F09\u002FzkSpin-Logo-Justin-Zhang.svg","2024-10-10 03:10:31",2123,1798,1783,1828,1855,"nav_menu_item","open source","open-source",8,1732,1841,369,300,"2024-10-10 03:10:30","cryptography","economics","pricing","programming","post","paragraph","auto","index","follow","max-snippet:-1","max-image-preview:large","max-video-preview:-1","en_US","a16z crypto","summary_large_image",31,193,"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fblockus.png",428,"page","post_type","Page","auction design","auction-design","Ethereum","ethereum","NFTs","nfts-non-fungible-tokens-digital-tokens","smart contracts","smart-contracts","policy","code &amp; engineering","code-engineering",42,"decentralization","zero knowledge","zkps-zero-knowledge-proofs-systems-more","security","2024-08-28 07:31:42","2024-08-28 07:31:43","2024-08-28 07:31:44","2024-08-28 07:32:35","2024-08-28 07:32:36","2024-08-28 07:32:37","2024-08-28 07:32:38","2024-08-28 07:32:39",1024,"6",2,"custom","2024-10-10 10:10:31",1816,1776,2063,"full",9,40,1853,17,23,2064,1791,1822,1847,true,"tech trends","tech-trends",236,36,"afriex","axal","bello","blockus","image\u002Fpng","capsule","id","flashbot","gandalf","iyk","mbd","mentaport","mir","narval","primev","shield","skylab","spring","stackr","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2024\u002F08\u002Fcta-backgrtound.png",1312,623,"2024-10-10 10:10:30","12","arts &amp; culture","arts-culture","MPC (multi-party computation)","mpc-multi-party-computation","podcast","SNARKs","snarks","Solidity","solidity","noam-nisan","abdou-ndiaye","Abdou Ndiaye (NYU) examines relative pricing of blockchain resources and highlights the role of various elasticities.","noah-citron","matt-gleason","We take a deep dive into how our solution works. We’ll also cover some of the other approaches we built on, and a few unconventional optimizations we used.","On Paper to On-Chain: How Auction Theory Informs Implementations","michael-zhu","image\u002Fjpeg","scott-kominers","tim-roughgarden","We offer some guidance for builders from our vantage point of auction theory and mechanism design in practice — especially in the unique context of blockchains.",1080,"valeria-nikolaenko","sam-ragsdale","We're open-sourcing code for a perpetual powers-of-tau trusted setup ceremony that generates cryptographic parameters, all run on-chain.",{},"Enter email address",Array(5),Array(6),Array(7),"company building","company-building",196,1733,1801,1793,"WTUVKUCXZLYAD\u003Cbr \u002F\u003EGGCMUGJX","AGO + TO = 404",11889,"2024-08-28 07:23:50",11891,"2024-08-28 07:24:22",11890,"2024-08-28 07:24:09",11892,"2024-08-28 07:24:41","png",400,11893,"2024-08-28 07:24:55",11894,"chainpatrol","2024-08-28 07:25:09",12010,"2024-09-03 23:22:08",12009,"2024-09-03 23:18:44",11895,"discove","2024-08-28 07:25:23",12011,"2024-09-03 23:23:25",11896,"2024-08-28 07:25:59",11897,"fancraze","2024-08-28 07:26:17",11899,"fine","2024-08-28 07:27:51",11900,"2024-08-28 07:28:30",11898,"formless","2024-08-28 07:26:37",11901,"frens","2024-08-28 07:28:57",11902,"fuul","2024-08-28 07:29:31",11903,"2024-08-28 07:29:48",11904,"2024-08-28 07:30:10",11906,"2024-08-28 07:30:35","kiki",11905,"2024-08-28 07:30:29",12012,"2024-09-03 23:28:51",11907,11908,11909,11910,12013,"2024-09-03 23:30:15",12014,"2024-09-03 23:31:13",12015,"2024-09-03 23:31:59",11911,"notion-finance",12016,"2024-09-03 23:33:28","phantom",11912,"pimlico",11913,12017,11879,11914,12018,11915,12019,"2024-09-03 23:36:41",11916,12020,"2024-09-03 23:37:29",11917,11918,"teller",11919,12021,"logo_black","2024-09-03 23:40:11",11920,"triangle-labs",12022,"2024-09-03 23:41:18",11921,"web3analytics",11922,"zero-dev",12023,"2024-09-03 23:42:11",11924,"cta-backgrtound","2024-08-28 07:35:56",4821,"2023-02-23 07:58:29","about",4822,"portfolio",3770,"posts",3,"Custom Link",4823,6202,4820,"accelerator",10280,"crypto index",7,{},"airdrops","announcements","banking","bitcoin","compensation","composability","consensus","custody","cypherpunk","danksharding","debanking","gaming","gov","governance","helios","history","infrastructure","investments","lockups","metaverse","playbooks","privacy","rollups","roundups","royalties","rulemaking","slashing","solana","stablecoins","tokens","voting","wallets","listicles","13",2083,"Does your blockchain need multidimensional fees? - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Fvideos\u002Fdoes-your-blockchain-need-multidimensional-fees\u002F",1750,24,"All About That Gas - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Fvideos\u002Fall-about-that-gas\u002F","16","2022-10-17 00:00:00",247,350,25,"https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002Fimage-13-1.png","Winning the IAmTheOptimizor Challenge - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fwinning-the-iamtheoptimizor-challenge\u002F",16,"2022-10-07 00:00:00",207,"We compare the four canonical auction types, focus on sealed-bid formats, and then introduce our open source Solidity implementation of a Vickrey auction.","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fhow-auction-theory-informs-implementations\u002F","We compare the four canonical auction type, and then introduce our open source Solidity implementation of a Vickrey auction.","https:\u002F\u002Fapi.a16zcrypto.com\u002Fwp-content\u002Fuploads\u002F2022\u002F10\u002FAuction-Series-Part3_VirtualGallery_TW.jpg","2022-09-10 00:00:00",286,501,"NFT Sales: Clearing the Market, Avoiding Gas Wars - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fnft-sales-market-clearing-gas-wars-auction-mechanism-design-for-builders\u002F","2022-09-07 00:00:00",253,377,33,32,"On-Chain Trusted Setup Ceremony - a16z crypto","https:\u002F\u002Fapi.a16zcrypto.com\u002Fposts\u002Farticle\u002Fon-chain-trusted-setup-ceremony\u002F")));